import{r,A as v,u as y,j as e,m as j,C as k,L as N,g as C,i as S,o as L,h as o,s as n,d}from"./index-C2ZIC7G7.js";import{W as A}from"./WelcomePageBanner-D_UyAhKt.js";function P(){const{User:E,setUser:M}=r.useContext(v),[m,x]=r.useState(""),[g,p]=r.useState(""),[i,f]=r.useState(""),[c,u]=r.useState(!1),w=y(),b=t=>{t.preventDefault(),u(!0);const h=C();S(h,m,g).then(s=>{L(h,a=>{const l=[];o(n(d,"Users",a.uid),{email:m,Uid:a.uid}).then(()=>{o(n(d,"MyList",a.uid),{movies:l},{merge:!0}),o(n(d,"WatchedMovies",a.uid),{movies:l},{merge:!0}),o(n(d,"LikedMovies",a.uid),{movies:l},{merge:!0})})}),s.user&&w("/")}).catch(s=>{u(!1),f(s.message),console.log(s.code,s.message)})};return e.jsx("section",{className:"h-[100vh] bg-gray-500",style:{background:`linear-gradient(0deg, hsl(0deg 0% 0% / 73%) 0%, hsl(0deg 0% 0% / 73%) 35%),url(${A})`},children:e.jsx("div",{className:"h-[100vh] flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:e.jsx("div",{className:"w-full bg-[#000000a2] rounded-lg shadow sm:my-0 md:mt-0 sm:max-w-lg xl:p-0 border-2 border-stone-800 lg:border-0",children:e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-12",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-white md:text-2xl dark:text-white",children:"Create a new account"}),e.jsxs("form",{onSubmit:b,className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white dark:text-white",children:"Your email"}),e.jsx("input",{onChange:t=>x(t.target.value),type:"email",name:"email",className:`bg-stone-700 text-white sm:text-sm rounded-sm focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:text-white ${i?"border-2 border-red-700":""}`,placeholder:"amankumartiwari5255@gmail.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white dark:text-white",children:"Password"}),e.jsx("input",{onChange:t=>p(t.target.value),type:"password",name:"password",className:`bg-stone-700 text-white sm:text-sm rounded-sm focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:text-white ${i?"border-2 border-red-700":""}`,required:!0})]}),i&&e.jsxs("h1",{className:"flex text-white font-bold p-4 bg-red-700 rounded text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-1",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),i]}),e.jsx("button",{type:"submit",className:`w-full text-white font-medium rounded-sm text-sm px-5 py-2.5 text-center ${c?"bg-stone-700":"bg-red-800 focus:ring-4 focus:outline-none focus:ring-primary-300"}`,children:c?e.jsx(k,{color:"#ff0000"}):"Create now"}),e.jsxs("p",{className:"text-sm font-light text-gray-500",children:["Already have one? ",e.jsx(N,{className:"font-medium text-white hover:underline",to:"/signin",children:"Sign in"})]})]})]})})})})})}export{P as default};
