const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BnnM-ezE.js","assets/URLs-Hf31dLzQ.js","assets/useUpdateLikedMovies-BFHhSs4T.js","assets/index-CfSoHJ5i.js","assets/MoviePopUp-5BpZL_59.js","assets/URLs-BWD7-Vsx.css","assets/pagination-B22X8VKs.css","assets/Footer-DVUzZChB.js","assets/Footer-DIy6COZp.css","assets/Series-D_4rtFJH.js","assets/Search-DNTEtu7s.js","assets/Profile-DE4LGcuG.js","assets/WelcomePageBanner-D_UyAhKt.js","assets/MyList-CkLMm96O.js","assets/UserMovieSection-Bf3UOv1c.js","assets/SignIn-Ca55_Yk3.js","assets/SignUp-ZsRrHCeq.js","assets/Welcome-ByqZspDM.js","assets/Play-D6F-O3zL.js","assets/LikedMovies-CS1YOyTd.js","assets/History-Pn2qXvRI.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function tT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gf={exports:{}},Lo={},Qf={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function cx(){if(sw)return we;sw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function D(I,N,Q){this.props=I,this.context=N,this.refs=_,this.updater=Q||E}D.prototype.isReactComponent={},D.prototype.setState=function(I,N){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,N,"setState")},D.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function F(){}F.prototype=D.prototype;function V(I,N,Q){this.props=I,this.context=N,this.refs=_,this.updater=Q||E}var O=V.prototype=new F;O.constructor=V,S(O,D.prototype),O.isPureReactComponent=!0;var $=Array.isArray,J=Object.prototype.hasOwnProperty,ce={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function te(I,N,Q){var ye,pe={},De=null,ve=null;if(N!=null)for(ye in N.ref!==void 0&&(ve=N.ref),N.key!==void 0&&(De=""+N.key),N)J.call(N,ye)&&!se.hasOwnProperty(ye)&&(pe[ye]=N[ye]);var Ae=arguments.length-2;if(Ae===1)pe.children=Q;else if(1<Ae){for(var ke=Array(Ae),ct=0;ct<Ae;ct++)ke[ct]=arguments[ct+2];pe.children=ke}if(I&&I.defaultProps)for(ye in Ae=I.defaultProps,Ae)pe[ye]===void 0&&(pe[ye]=Ae[ye]);return{$$typeof:t,type:I,key:De,ref:ve,props:pe,_owner:ce.current}}function me(I,N){return{$$typeof:t,type:I.type,key:N,ref:I.ref,props:I.props,_owner:I._owner}}function $e(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function nt(I){var N={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return N[Q]})}var be=/\/+/g;function Le(I,N){return typeof I=="object"&&I!==null&&I.key!=null?nt(""+I.key):N.toString(36)}function Re(I,N,Q,ye,pe){var De=typeof I;(De==="undefined"||De==="boolean")&&(I=null);var ve=!1;if(I===null)ve=!0;else switch(De){case"string":case"number":ve=!0;break;case"object":switch(I.$$typeof){case t:case e:ve=!0}}if(ve)return ve=I,pe=pe(ve),I=ye===""?"."+Le(ve,0):ye,$(pe)?(Q="",I!=null&&(Q=I.replace(be,"$&/")+"/"),Re(pe,N,Q,"",function(ct){return ct})):pe!=null&&($e(pe)&&(pe=me(pe,Q+(!pe.key||ve&&ve.key===pe.key?"":(""+pe.key).replace(be,"$&/")+"/")+I)),N.push(pe)),1;if(ve=0,ye=ye===""?".":ye+":",$(I))for(var Ae=0;Ae<I.length;Ae++){De=I[Ae];var ke=ye+Le(De,Ae);ve+=Re(De,N,Q,ke,pe)}else if(ke=w(I),typeof ke=="function")for(I=ke.call(I),Ae=0;!(De=I.next()).done;)De=De.value,ke=ye+Le(De,Ae++),ve+=Re(De,N,Q,ke,pe);else if(De==="object")throw N=String(I),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return ve}function rt(I,N,Q){if(I==null)return I;var ye=[],pe=0;return Re(I,ye,"","",function(De){return N.call(Q,De,pe++)}),ye}function Se(I){if(I._status===-1){var N=I._result;N=N(),N.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=N)}if(I._status===1)return I._result.default;throw I._result}var Ee={current:null},H={transition:null},Z={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:H,ReactCurrentOwner:ce};return we.Children={map:rt,forEach:function(I,N,Q){rt(I,function(){N.apply(this,arguments)},Q)},count:function(I){var N=0;return rt(I,function(){N++}),N},toArray:function(I){return rt(I,function(N){return N})||[]},only:function(I){if(!$e(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},we.Component=D,we.Fragment=n,we.Profiler=s,we.PureComponent=V,we.StrictMode=r,we.Suspense=f,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,we.cloneElement=function(I,N,Q){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ye=S({},I.props),pe=I.key,De=I.ref,ve=I._owner;if(N!=null){if(N.ref!==void 0&&(De=N.ref,ve=ce.current),N.key!==void 0&&(pe=""+N.key),I.type&&I.type.defaultProps)var Ae=I.type.defaultProps;for(ke in N)J.call(N,ke)&&!se.hasOwnProperty(ke)&&(ye[ke]=N[ke]===void 0&&Ae!==void 0?Ae[ke]:N[ke])}var ke=arguments.length-2;if(ke===1)ye.children=Q;else if(1<ke){Ae=Array(ke);for(var ct=0;ct<ke;ct++)Ae[ct]=arguments[ct+2];ye.children=Ae}return{$$typeof:t,type:I.type,key:pe,ref:De,props:ye,_owner:ve}},we.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},we.createElement=te,we.createFactory=function(I){var N=te.bind(null,I);return N.type=I,N},we.createRef=function(){return{current:null}},we.forwardRef=function(I){return{$$typeof:h,render:I}},we.isValidElement=$e,we.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:Se}},we.memo=function(I,N){return{$$typeof:p,type:I,compare:N===void 0?null:N}},we.startTransition=function(I){var N=H.transition;H.transition={};try{I()}finally{H.transition=N}},we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},we.useCallback=function(I,N){return Ee.current.useCallback(I,N)},we.useContext=function(I){return Ee.current.useContext(I)},we.useDebugValue=function(){},we.useDeferredValue=function(I){return Ee.current.useDeferredValue(I)},we.useEffect=function(I,N){return Ee.current.useEffect(I,N)},we.useId=function(){return Ee.current.useId()},we.useImperativeHandle=function(I,N,Q){return Ee.current.useImperativeHandle(I,N,Q)},we.useInsertionEffect=function(I,N){return Ee.current.useInsertionEffect(I,N)},we.useLayoutEffect=function(I,N){return Ee.current.useLayoutEffect(I,N)},we.useMemo=function(I,N){return Ee.current.useMemo(I,N)},we.useReducer=function(I,N,Q){return Ee.current.useReducer(I,N,Q)},we.useRef=function(I){return Ee.current.useRef(I)},we.useState=function(I){return Ee.current.useState(I)},we.useSyncExternalStore=function(I,N,Q){return Ee.current.useSyncExternalStore(I,N,Q)},we.useTransition=function(){return Ee.current.useTransition()},we.version="18.2.0",we}var ow;function Dp(){return ow||(ow=1,Qf.exports=cx()),Qf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function hx(){if(aw)return Lo;aw=1;var t=Dp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var g,y={},w=null,E=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(E=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:h,key:w,ref:E,props:y,_owner:s.current}}return Lo.Fragment=n,Lo.jsx=u,Lo.jsxs=u,Lo}var lw;function fx(){return lw||(lw=1,Gf.exports=hx()),Gf.exports}var z=fx(),x=Dp();const Kt=tT(x);var tu={},Yf={exports:{}},zt={},Xf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function dx(){return uw||(uw=1,function(t){function e(H,Z){var I=H.length;H.push(Z);e:for(;0<I;){var N=I-1>>>1,Q=H[N];if(0<s(Q,Z))H[N]=Z,H[I]=Q,I=N;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],I=H.pop();if(I!==Z){H[0]=I;e:for(var N=0,Q=H.length,ye=Q>>>1;N<ye;){var pe=2*(N+1)-1,De=H[pe],ve=pe+1,Ae=H[ve];if(0>s(De,I))ve<Q&&0>s(Ae,De)?(H[N]=Ae,H[ve]=I,N=ve):(H[N]=De,H[pe]=I,N=pe);else if(ve<Q&&0>s(Ae,I))H[N]=Ae,H[ve]=I,N=ve;else break e}}return Z}function s(H,Z){var I=H.sortIndex-Z.sortIndex;return I!==0?I:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,y=null,w=3,E=!1,S=!1,_=!1,D=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(H){for(var Z=n(p);Z!==null;){if(Z.callback===null)r(p);else if(Z.startTime<=H)r(p),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(p)}}function $(H){if(_=!1,O(H),!S)if(n(f)!==null)S=!0,Se(J);else{var Z=n(p);Z!==null&&Ee($,Z.startTime-H)}}function J(H,Z){S=!1,_&&(_=!1,F(te),te=-1),E=!0;var I=w;try{for(O(Z),y=n(f);y!==null&&(!(y.expirationTime>Z)||H&&!nt());){var N=y.callback;if(typeof N=="function"){y.callback=null,w=y.priorityLevel;var Q=N(y.expirationTime<=Z);Z=t.unstable_now(),typeof Q=="function"?y.callback=Q:y===n(f)&&r(f),O(Z)}else r(f);y=n(f)}if(y!==null)var ye=!0;else{var pe=n(p);pe!==null&&Ee($,pe.startTime-Z),ye=!1}return ye}finally{y=null,w=I,E=!1}}var ce=!1,se=null,te=-1,me=5,$e=-1;function nt(){return!(t.unstable_now()-$e<me)}function be(){if(se!==null){var H=t.unstable_now();$e=H;var Z=!0;try{Z=se(!0,H)}finally{Z?Le():(ce=!1,se=null)}}else ce=!1}var Le;if(typeof V=="function")Le=function(){V(be)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,rt=Re.port2;Re.port1.onmessage=be,Le=function(){rt.postMessage(null)}}else Le=function(){D(be,0)};function Se(H){se=H,ce||(ce=!0,Le())}function Ee(H,Z){te=D(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,Se(J))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var I=w;w=Z;try{return H()}finally{w=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var I=w;w=H;try{return Z()}finally{w=I}},t.unstable_scheduleCallback=function(H,Z,I){var N=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?N+I:N):I=N,H){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=I+Q,H={id:g++,callback:Z,priorityLevel:H,startTime:I,expirationTime:Q,sortIndex:-1},I>N?(H.sortIndex=I,e(p,H),n(f)===null&&H===n(p)&&(_?(F(te),te=-1):_=!0,Ee($,I-N))):(H.sortIndex=Q,e(f,H),S||E||(S=!0,Se(J))),H},t.unstable_shouldYield=nt,t.unstable_wrapCallback=function(H){var Z=w;return function(){var I=w;w=Z;try{return H.apply(this,arguments)}finally{w=I}}}}(Jf)),Jf}var cw;function px(){return cw||(cw=1,Xf.exports=dx()),Xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function mx(){if(hw)return zt;hw=1;var t=Dp(),e=px();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(i){return f.call(y,i)?!0:f.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function E(i,o,l,c){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,o,l,c){if(o===null||typeof o>"u"||E(i,o,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(i,o,l,c,d,m,v){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=m,this.removeEmptyString=v}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){D[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];D[o]=new _(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){D[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){D[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){D[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){D[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){D[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){D[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){D[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function V(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,V);D[o]=new _(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,V);D[o]=new _(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,V);D[o]=new _(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){D[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),D.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){D[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,o,l,c){var d=D.hasOwnProperty(o)?D[o]:null;(d!==null?d.type!==0:c||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,l,d,c)&&(l=null),c||d===null?w(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):d.mustUseProperty?i[d.propertyName]=l===null?d.type===3?!1:"":l:(o=d.attributeName,c=d.attributeNamespace,l===null?i.removeAttribute(o):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,c?i.setAttributeNS(c,o,l):i.setAttribute(o,l))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),ce=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),$e=Symbol.for("react.provider"),nt=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),rt=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),H=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var I=Object.assign,N;function Q(i){if(N===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);N=o&&o[1]||""}return`
`+N+i}var ye=!1;function pe(i,o){if(!i||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(R){var c=R}Reflect.construct(i,[],o)}else{try{o.call()}catch(R){c=R}i.call(o.prototype)}else{try{throw Error()}catch(R){c=R}i()}}catch(R){if(R&&c&&typeof R.stack=="string"){for(var d=R.stack.split(`
`),m=c.stack.split(`
`),v=d.length-1,T=m.length-1;1<=v&&0<=T&&d[v]!==m[T];)T--;for(;1<=v&&0<=T;v--,T--)if(d[v]!==m[T]){if(v!==1||T!==1)do if(v--,T--,0>T||d[v]!==m[T]){var C=`
`+d[v].replace(" at new "," at ");return i.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",i.displayName)),C}while(1<=v&&0<=T);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Q(i):""}function De(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=pe(i.type,!1),i;case 11:return i=pe(i.type.render,!1),i;case 1:return i=pe(i.type,!0),i;default:return""}}function ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case se:return"Fragment";case ce:return"Portal";case me:return"Profiler";case te:return"StrictMode";case Le:return"Suspense";case Re:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case nt:return(i.displayName||"Context")+".Consumer";case $e:return(i._context.displayName||"Context")+".Provider";case be:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case rt:return o=i.displayName||null,o!==null?o:ve(i.type)||"Memo";case Se:o=i._payload,i=i._init;try{return ve(i(o))}catch{}}return null}function Ae(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(o);case 8:return o===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ke(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ct(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ji(i){var o=ct(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function rn(i){i._valueTracker||(i._valueTracker=ji(i))}function Zc(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return i&&(c=ct(i)?i.checked?"true":"false":i.value),i=c,i!==l?(o.setValue(i),!0):!1}function Ka(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function eh(i,o){var l=o.checked;return I({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function hg(i,o){var l=o.defaultValue==null?"":o.defaultValue,c=o.checked!=null?o.checked:o.defaultChecked;l=ke(o.value!=null?o.value:l),i._wrapperState={initialChecked:c,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function fg(i,o){o=o.checked,o!=null&&O(i,"checked",o,!1)}function th(i,o){fg(i,o);var l=ke(o.value),c=o.type;if(l!=null)c==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(c==="submit"||c==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?nh(i,o.type,l):o.hasOwnProperty("defaultValue")&&nh(i,o.type,ke(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function dg(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var c=o.type;if(!(c!=="submit"&&c!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function nh(i,o,l){(o!=="number"||Ka(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var qs=Array.isArray;function Bi(i,o,l,c){if(i=i.options,o){o={};for(var d=0;d<l.length;d++)o["$"+l[d]]=!0;for(l=0;l<i.length;l++)d=o.hasOwnProperty("$"+i[l].value),i[l].selected!==d&&(i[l].selected=d),d&&c&&(i[l].defaultSelected=!0)}else{for(l=""+ke(l),o=null,d=0;d<i.length;d++){if(i[d].value===l){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}o!==null||i[d].disabled||(o=i[d])}o!==null&&(o.selected=!0)}}function rh(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return I({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function pg(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(qs(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:ke(l)}}function mg(i,o){var l=ke(o.value),c=ke(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),c!=null&&(i.defaultValue=""+c)}function gg(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function yg(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?yg(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var qa,vg=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,c,d){MSApp.execUnsafeLocalFunction(function(){return i(o,l,c,d)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(qa=qa||document.createElement("div"),qa.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=qa.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Gs(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p_=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(i){p_.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Qs[o]=Qs[i]})});function wg(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Qs.hasOwnProperty(i)&&Qs[i]?(""+o).trim():o+"px"}function Eg(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var c=l.indexOf("--")===0,d=wg(l,o[l],c);l==="float"&&(l="cssFloat"),c?i.setProperty(l,d):i[l]=d}}var m_=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(i,o){if(o){if(m_[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function oh(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function lh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uh=null,$i=null,zi=null;function Tg(i){if(i=vo(i)){if(typeof uh!="function")throw Error(n(280));var o=i.stateNode;o&&(o=gl(o),uh(i.stateNode,i.type,o))}}function Sg(i){$i?zi?zi.push(i):zi=[i]:$i=i}function Ig(){if($i){var i=$i,o=zi;if(zi=$i=null,Tg(i),o)for(i=0;i<o.length;i++)Tg(o[i])}}function Cg(i,o){return i(o)}function kg(){}var ch=!1;function _g(i,o,l){if(ch)return i(o,l);ch=!0;try{return Cg(i,o,l)}finally{ch=!1,($i!==null||zi!==null)&&(kg(),Ig())}}function Ys(i,o){var l=i.stateNode;if(l===null)return null;var c=gl(l);if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var hh=!1;if(h)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){hh=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{hh=!1}function g_(i,o,l,c,d,m,v,T,C){var R=Array.prototype.slice.call(arguments,3);try{o.apply(l,R)}catch(b){this.onError(b)}}var Js=!1,Ga=null,Qa=!1,fh=null,y_={onError:function(i){Js=!0,Ga=i}};function v_(i,o,l,c,d,m,v,T,C){Js=!1,Ga=null,g_.apply(y_,arguments)}function w_(i,o,l,c,d,m,v,T,C){if(v_.apply(this,arguments),Js){if(Js){var R=Ga;Js=!1,Ga=null}else throw Error(n(198));Qa||(Qa=!0,fh=R)}}function Qr(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function xg(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Ag(i){if(Qr(i)!==i)throw Error(n(188))}function E_(i){var o=i.alternate;if(!o){if(o=Qr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,c=o;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return Ag(d),i;if(m===c)return Ag(d),o;m=m.sibling}throw Error(n(188))}if(l.return!==c.return)l=d,c=m;else{for(var v=!1,T=d.child;T;){if(T===l){v=!0,l=d,c=m;break}if(T===c){v=!0,c=d,l=m;break}T=T.sibling}if(!v){for(T=m.child;T;){if(T===l){v=!0,l=m,c=d;break}if(T===c){v=!0,c=m,l=d;break}T=T.sibling}if(!v)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function Pg(i){return i=E_(i),i!==null?Rg(i):null}function Rg(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Rg(i);if(o!==null)return o;i=i.sibling}return null}var Dg=e.unstable_scheduleCallback,Ng=e.unstable_cancelCallback,T_=e.unstable_shouldYield,S_=e.unstable_requestPaint,Qe=e.unstable_now,I_=e.unstable_getCurrentPriorityLevel,dh=e.unstable_ImmediatePriority,Lg=e.unstable_UserBlockingPriority,Ya=e.unstable_NormalPriority,C_=e.unstable_LowPriority,bg=e.unstable_IdlePriority,Xa=null,An=null;function k_(i){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Xa,i,void 0,(i.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:A_,__=Math.log,x_=Math.LN2;function A_(i){return i>>>=0,i===0?32:31-(__(i)/x_|0)|0}var Ja=64,Za=4194304;function Zs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function el(i,o){var l=i.pendingLanes;if(l===0)return 0;var c=0,d=i.suspendedLanes,m=i.pingedLanes,v=l&268435455;if(v!==0){var T=v&~d;T!==0?c=Zs(T):(m&=v,m!==0&&(c=Zs(m)))}else v=l&~d,v!==0?c=Zs(v):m!==0&&(c=Zs(m));if(c===0)return 0;if(o!==0&&o!==c&&!(o&d)&&(d=c&-c,m=o&-o,d>=m||d===16&&(m&4194240)!==0))return o;if(c&4&&(c|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=c;0<o;)l=31-wn(o),d=1<<l,c|=i[l],o&=~d;return c}function P_(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R_(i,o){for(var l=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,m=i.pendingLanes;0<m;){var v=31-wn(m),T=1<<v,C=d[v];C===-1?(!(T&l)||T&c)&&(d[v]=P_(T,o)):C<=o&&(i.expiredLanes|=T),m&=~T}}function ph(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Og(){var i=Ja;return Ja<<=1,!(Ja&4194240)&&(Ja=64),i}function mh(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function eo(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-wn(o),i[o]=l}function D_(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var c=i.eventTimes;for(i=i.expirationTimes;0<l;){var d=31-wn(l),m=1<<d;o[d]=0,c[d]=-1,i[d]=-1,l&=~m}}function gh(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var c=31-wn(l),d=1<<c;d&o|i[c]&o&&(i[c]|=o),l&=~d}}var Ne=0;function Mg(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Vg,yh,Fg,Ug,jg,vh=!1,tl=[],lr=null,ur=null,cr=null,to=new Map,no=new Map,hr=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bg(i,o){switch(i){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":to.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(o.pointerId)}}function ro(i,o,l,c,d,m){return i===null||i.nativeEvent!==m?(i={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},o!==null&&(o=vo(o),o!==null&&yh(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,d!==null&&o.indexOf(d)===-1&&o.push(d),i)}function L_(i,o,l,c,d){switch(o){case"focusin":return lr=ro(lr,i,o,l,c,d),!0;case"dragenter":return ur=ro(ur,i,o,l,c,d),!0;case"mouseover":return cr=ro(cr,i,o,l,c,d),!0;case"pointerover":var m=d.pointerId;return to.set(m,ro(to.get(m)||null,i,o,l,c,d)),!0;case"gotpointercapture":return m=d.pointerId,no.set(m,ro(no.get(m)||null,i,o,l,c,d)),!0}return!1}function $g(i){var o=Yr(i.target);if(o!==null){var l=Qr(o);if(l!==null){if(o=l.tag,o===13){if(o=xg(l),o!==null){i.blockedOn=o,jg(i.priority,function(){Fg(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Eh(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);ah=c,l.target.dispatchEvent(c),ah=null}else return o=vo(l),o!==null&&yh(o),i.blockedOn=l,!1;o.shift()}return!0}function zg(i,o,l){nl(i)&&l.delete(o)}function b_(){vh=!1,lr!==null&&nl(lr)&&(lr=null),ur!==null&&nl(ur)&&(ur=null),cr!==null&&nl(cr)&&(cr=null),to.forEach(zg),no.forEach(zg)}function io(i,o){i.blockedOn===o&&(i.blockedOn=null,vh||(vh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,b_)))}function so(i){function o(d){return io(d,i)}if(0<tl.length){io(tl[0],i);for(var l=1;l<tl.length;l++){var c=tl[l];c.blockedOn===i&&(c.blockedOn=null)}}for(lr!==null&&io(lr,i),ur!==null&&io(ur,i),cr!==null&&io(cr,i),to.forEach(o),no.forEach(o),l=0;l<hr.length;l++)c=hr[l],c.blockedOn===i&&(c.blockedOn=null);for(;0<hr.length&&(l=hr[0],l.blockedOn===null);)$g(l),l.blockedOn===null&&hr.shift()}var Hi=$.ReactCurrentBatchConfig,rl=!0;function O_(i,o,l,c){var d=Ne,m=Hi.transition;Hi.transition=null;try{Ne=1,wh(i,o,l,c)}finally{Ne=d,Hi.transition=m}}function M_(i,o,l,c){var d=Ne,m=Hi.transition;Hi.transition=null;try{Ne=4,wh(i,o,l,c)}finally{Ne=d,Hi.transition=m}}function wh(i,o,l,c){if(rl){var d=Eh(i,o,l,c);if(d===null)Vh(i,o,c,il,l),Bg(i,c);else if(L_(d,i,o,l,c))c.stopPropagation();else if(Bg(i,c),o&4&&-1<N_.indexOf(i)){for(;d!==null;){var m=vo(d);if(m!==null&&Vg(m),m=Eh(i,o,l,c),m===null&&Vh(i,o,c,il,l),m===d)break;d=m}d!==null&&c.stopPropagation()}else Vh(i,o,c,null,l)}}var il=null;function Eh(i,o,l,c){if(il=null,i=lh(c),i=Yr(i),i!==null)if(o=Qr(i),o===null)i=null;else if(l=o.tag,l===13){if(i=xg(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return il=i,null}function Hg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I_()){case dh:return 1;case Lg:return 4;case Ya:case C_:return 16;case bg:return 536870912;default:return 16}default:return 16}}var fr=null,Th=null,sl=null;function Wg(){if(sl)return sl;var i,o=Th,l=o.length,c,d="value"in fr?fr.value:fr.textContent,m=d.length;for(i=0;i<l&&o[i]===d[i];i++);var v=l-i;for(c=1;c<=v&&o[l-c]===d[m-c];c++);return sl=d.slice(i,1<c?1-c:void 0)}function ol(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function al(){return!0}function Kg(){return!1}function Qt(i){function o(l,c,d,m,v){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(l=i[T],this[T]=l?l(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?al:Kg,this.isPropagationStopped=Kg,this}return I(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),o}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sh=Qt(Wi),oo=I({},Wi,{view:0,detail:0}),V_=Qt(oo),Ih,Ch,ao,ll=I({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ao&&(ao&&i.type==="mousemove"?(Ih=i.screenX-ao.screenX,Ch=i.screenY-ao.screenY):Ch=Ih=0,ao=i),Ih)},movementY:function(i){return"movementY"in i?i.movementY:Ch}}),qg=Qt(ll),F_=I({},ll,{dataTransfer:0}),U_=Qt(F_),j_=I({},oo,{relatedTarget:0}),kh=Qt(j_),B_=I({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),$_=Qt(B_),z_=I({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),H_=Qt(z_),W_=I({},Wi,{data:0}),Gg=Qt(W_),K_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q_(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=G_[i])?!!o[i]:!1}function _h(){return Q_}var Y_=I({},oo,{key:function(i){if(i.key){var o=K_[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ol(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?q_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(i){return i.type==="keypress"?ol(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ol(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),X_=Qt(Y_),J_=I({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Qt(J_),Z_=I({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),e1=Qt(Z_),t1=I({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),n1=Qt(t1),r1=I({},ll,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),i1=Qt(r1),s1=[9,13,27,32],xh=h&&"CompositionEvent"in window,lo=null;h&&"documentMode"in document&&(lo=document.documentMode);var o1=h&&"TextEvent"in window&&!lo,Yg=h&&(!xh||lo&&8<lo&&11>=lo),Xg=" ",Jg=!1;function Zg(i,o){switch(i){case"keyup":return s1.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ki=!1;function a1(i,o){switch(i){case"compositionend":return ey(o);case"keypress":return o.which!==32?null:(Jg=!0,Xg);case"textInput":return i=o.data,i===Xg&&Jg?null:i;default:return null}}function l1(i,o){if(Ki)return i==="compositionend"||!xh&&Zg(i,o)?(i=Wg(),sl=Th=fr=null,Ki=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Yg&&o.locale!=="ko"?null:o.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!u1[i.type]:o==="textarea"}function ny(i,o,l,c){Sg(c),o=dl(o,"onChange"),0<o.length&&(l=new Sh("onChange","change",null,l,c),i.push({event:l,listeners:o}))}var uo=null,co=null;function c1(i){Ey(i,0)}function ul(i){var o=Xi(i);if(Zc(o))return i}function h1(i,o){if(i==="change")return o}var ry=!1;if(h){var Ah;if(h){var Ph="oninput"in document;if(!Ph){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Ph=typeof iy.oninput=="function"}Ah=Ph}else Ah=!1;ry=Ah&&(!document.documentMode||9<document.documentMode)}function sy(){uo&&(uo.detachEvent("onpropertychange",oy),co=uo=null)}function oy(i){if(i.propertyName==="value"&&ul(co)){var o=[];ny(o,co,i,lh(i)),_g(c1,o)}}function f1(i,o,l){i==="focusin"?(sy(),uo=o,co=l,uo.attachEvent("onpropertychange",oy)):i==="focusout"&&sy()}function d1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ul(co)}function p1(i,o){if(i==="click")return ul(o)}function m1(i,o){if(i==="input"||i==="change")return ul(o)}function g1(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var En=typeof Object.is=="function"?Object.is:g1;function ho(i,o){if(En(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!f.call(o,d)||!En(i[d],o[d]))return!1}return!0}function ay(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ly(i,o){var l=ay(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=o&&c>=o)return{node:l,offset:o-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ay(l)}}function uy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?uy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function cy(){for(var i=window,o=Ka();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Ka(i.document)}return o}function Rh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function y1(i){var o=cy(),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&uy(l.ownerDocument.documentElement,l)){if(c!==null&&Rh(l)){if(o=c.start,i=c.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var d=l.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!i.extend&&m>c&&(d=c,c=m,m=d),d=ly(l,m);var v=ly(l,c);d&&v&&(i.rangeCount!==1||i.anchorNode!==d.node||i.anchorOffset!==d.offset||i.focusNode!==v.node||i.focusOffset!==v.offset)&&(o=o.createRange(),o.setStart(d.node,d.offset),i.removeAllRanges(),m>c?(i.addRange(o),i.extend(v.node,v.offset)):(o.setEnd(v.node,v.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var v1=h&&"documentMode"in document&&11>=document.documentMode,qi=null,Dh=null,fo=null,Nh=!1;function hy(i,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Nh||qi==null||qi!==Ka(c)||(c=qi,"selectionStart"in c&&Rh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fo&&ho(fo,c)||(fo=c,c=dl(Dh,"onSelect"),0<c.length&&(o=new Sh("onSelect","select",null,o,l),i.push({event:o,listeners:c}),o.target=qi)))}function cl(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Gi={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},Lh={},fy={};h&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function hl(i){if(Lh[i])return Lh[i];if(!Gi[i])return i;var o=Gi[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in fy)return Lh[i]=o[l];return i}var dy=hl("animationend"),py=hl("animationiteration"),my=hl("animationstart"),gy=hl("transitionend"),yy=new Map,vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dr(i,o){yy.set(i,o),a(o,[i])}for(var bh=0;bh<vy.length;bh++){var Oh=vy[bh],w1=Oh.toLowerCase(),E1=Oh[0].toUpperCase()+Oh.slice(1);dr(w1,"on"+E1)}dr(dy,"onAnimationEnd"),dr(py,"onAnimationIteration"),dr(my,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(gy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function wy(i,o,l){var c=i.type||"unknown-event";i.currentTarget=l,w_(c,o,void 0,i),i.currentTarget=null}function Ey(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],d=c.event;c=c.listeners;e:{var m=void 0;if(o)for(var v=c.length-1;0<=v;v--){var T=c[v],C=T.instance,R=T.currentTarget;if(T=T.listener,C!==m&&d.isPropagationStopped())break e;wy(d,T,R),m=C}else for(v=0;v<c.length;v++){if(T=c[v],C=T.instance,R=T.currentTarget,T=T.listener,C!==m&&d.isPropagationStopped())break e;wy(d,T,R),m=C}}}if(Qa)throw i=fh,Qa=!1,fh=null,i}function Ve(i,o){var l=o[zh];l===void 0&&(l=o[zh]=new Set);var c=i+"__bubble";l.has(c)||(Ty(o,i,2,!1),l.add(c))}function Mh(i,o,l){var c=0;o&&(c|=4),Ty(l,i,c,o)}var fl="_reactListening"+Math.random().toString(36).slice(2);function mo(i){if(!i[fl]){i[fl]=!0,r.forEach(function(l){l!=="selectionchange"&&(T1.has(l)||Mh(l,!1,i),Mh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[fl]||(o[fl]=!0,Mh("selectionchange",!1,o))}}function Ty(i,o,l,c){switch(Hg(o)){case 1:var d=O_;break;case 4:d=M_;break;default:d=wh}l=d.bind(null,o,l,i),d=void 0,!hh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(o,l,{capture:!0,passive:d}):i.addEventListener(o,l,!0):d!==void 0?i.addEventListener(o,l,{passive:d}):i.addEventListener(o,l,!1)}function Vh(i,o,l,c,d){var m=c;if(!(o&1)&&!(o&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var T=c.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;v=v.return}for(;T!==null;){if(v=Yr(T),v===null)return;if(C=v.tag,C===5||C===6){c=m=v;continue e}T=T.parentNode}}c=c.return}_g(function(){var R=m,b=lh(l),M=[];e:{var L=yy.get(i);if(L!==void 0){var W=Sh,q=i;switch(i){case"keypress":if(ol(l)===0)break e;case"keydown":case"keyup":W=X_;break;case"focusin":q="focus",W=kh;break;case"focusout":q="blur",W=kh;break;case"beforeblur":case"afterblur":W=kh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=U_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=e1;break;case dy:case py:case my:W=$_;break;case gy:W=n1;break;case"scroll":W=V_;break;case"wheel":W=i1;break;case"copy":case"cut":case"paste":W=H_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Qg}var G=(o&4)!==0,Ye=!G&&i==="scroll",A=G?L!==null?L+"Capture":null:L;G=[];for(var k=R,P;k!==null;){P=k;var j=P.stateNode;if(P.tag===5&&j!==null&&(P=j,A!==null&&(j=Ys(k,A),j!=null&&G.push(go(k,j,P)))),Ye)break;k=k.return}0<G.length&&(L=new W(L,q,null,l,b),M.push({event:L,listeners:G}))}}if(!(o&7)){e:{if(L=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",L&&l!==ah&&(q=l.relatedTarget||l.fromElement)&&(Yr(q)||q[jn]))break e;if((W||L)&&(L=b.window===b?b:(L=b.ownerDocument)?L.defaultView||L.parentWindow:window,W?(q=l.relatedTarget||l.toElement,W=R,q=q?Yr(q):null,q!==null&&(Ye=Qr(q),q!==Ye||q.tag!==5&&q.tag!==6)&&(q=null)):(W=null,q=R),W!==q)){if(G=qg,j="onMouseLeave",A="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(G=Qg,j="onPointerLeave",A="onPointerEnter",k="pointer"),Ye=W==null?L:Xi(W),P=q==null?L:Xi(q),L=new G(j,k+"leave",W,l,b),L.target=Ye,L.relatedTarget=P,j=null,Yr(b)===R&&(G=new G(A,k+"enter",q,l,b),G.target=P,G.relatedTarget=Ye,j=G),Ye=j,W&&q)t:{for(G=W,A=q,k=0,P=G;P;P=Qi(P))k++;for(P=0,j=A;j;j=Qi(j))P++;for(;0<k-P;)G=Qi(G),k--;for(;0<P-k;)A=Qi(A),P--;for(;k--;){if(G===A||A!==null&&G===A.alternate)break t;G=Qi(G),A=Qi(A)}G=null}else G=null;W!==null&&Sy(M,L,W,G,!1),q!==null&&Ye!==null&&Sy(M,Ye,q,G,!0)}}e:{if(L=R?Xi(R):window,W=L.nodeName&&L.nodeName.toLowerCase(),W==="select"||W==="input"&&L.type==="file")var Y=h1;else if(ty(L))if(ry)Y=m1;else{Y=d1;var ne=f1}else(W=L.nodeName)&&W.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(Y=p1);if(Y&&(Y=Y(i,R))){ny(M,Y,l,b);break e}ne&&ne(i,L,R),i==="focusout"&&(ne=L._wrapperState)&&ne.controlled&&L.type==="number"&&nh(L,"number",L.value)}switch(ne=R?Xi(R):window,i){case"focusin":(ty(ne)||ne.contentEditable==="true")&&(qi=ne,Dh=R,fo=null);break;case"focusout":fo=Dh=qi=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,hy(M,l,b);break;case"selectionchange":if(v1)break;case"keydown":case"keyup":hy(M,l,b)}var re;if(xh)e:{switch(i){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Ki?Zg(i,l)&&(le="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(le="onCompositionStart");le&&(Yg&&l.locale!=="ko"&&(Ki||le!=="onCompositionStart"?le==="onCompositionEnd"&&Ki&&(re=Wg()):(fr=b,Th="value"in fr?fr.value:fr.textContent,Ki=!0)),ne=dl(R,le),0<ne.length&&(le=new Gg(le,i,null,l,b),M.push({event:le,listeners:ne}),re?le.data=re:(re=ey(l),re!==null&&(le.data=re)))),(re=o1?a1(i,l):l1(i,l))&&(R=dl(R,"onBeforeInput"),0<R.length&&(b=new Gg("onBeforeInput","beforeinput",null,l,b),M.push({event:b,listeners:R}),b.data=re))}Ey(M,o)})}function go(i,o,l){return{instance:i,listener:o,currentTarget:l}}function dl(i,o){for(var l=o+"Capture",c=[];i!==null;){var d=i,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Ys(i,l),m!=null&&c.unshift(go(i,m,d)),m=Ys(i,o),m!=null&&c.push(go(i,m,d))),i=i.return}return c}function Qi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Sy(i,o,l,c,d){for(var m=o._reactName,v=[];l!==null&&l!==c;){var T=l,C=T.alternate,R=T.stateNode;if(C!==null&&C===c)break;T.tag===5&&R!==null&&(T=R,d?(C=Ys(l,m),C!=null&&v.unshift(go(l,C,T))):d||(C=Ys(l,m),C!=null&&v.push(go(l,C,T)))),l=l.return}v.length!==0&&i.push({event:o,listeners:v})}var S1=/\r\n?/g,I1=/\u0000|\uFFFD/g;function Iy(i){return(typeof i=="string"?i:""+i).replace(S1,`
`).replace(I1,"")}function pl(i,o,l){if(o=Iy(o),Iy(i)!==o&&l)throw Error(n(425))}function ml(){}var Fh=null,Uh=null;function jh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(i){return Cy.resolve(null).then(i).catch(_1)}:Bh;function _1(i){setTimeout(function(){throw i})}function $h(i,o){var l=o,c=0;do{var d=l.nextSibling;if(i.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(c===0){i.removeChild(d),so(o);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=d}while(l);so(o)}function pr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function ky(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Yi,yo="__reactProps$"+Yi,jn="__reactContainer$"+Yi,zh="__reactEvents$"+Yi,x1="__reactListeners$"+Yi,A1="__reactHandles$"+Yi;function Yr(i){var o=i[Pn];if(o)return o;for(var l=i.parentNode;l;){if(o=l[jn]||l[Pn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=ky(i);i!==null;){if(l=i[Pn])return l;i=ky(i)}return o}i=l,l=i.parentNode}return null}function vo(i){return i=i[Pn]||i[jn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Xi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function gl(i){return i[yo]||null}var Hh=[],Ji=-1;function mr(i){return{current:i}}function Fe(i){0>Ji||(i.current=Hh[Ji],Hh[Ji]=null,Ji--)}function Oe(i,o){Ji++,Hh[Ji]=i.current,i.current=o}var gr={},It=mr(gr),Ft=mr(!1),Xr=gr;function Zi(i,o){var l=i.type.contextTypes;if(!l)return gr;var c=i.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===o)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in l)d[m]=o[m];return c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=d),d}function Ut(i){return i=i.childContextTypes,i!=null}function yl(){Fe(Ft),Fe(It)}function _y(i,o,l){if(It.current!==gr)throw Error(n(168));Oe(It,o),Oe(Ft,l)}function xy(i,o,l){var c=i.stateNode;if(o=o.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var d in c)if(!(d in o))throw Error(n(108,Ae(i)||"Unknown",d));return I({},l,c)}function vl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gr,Xr=It.current,Oe(It,i),Oe(Ft,Ft.current),!0}function Ay(i,o,l){var c=i.stateNode;if(!c)throw Error(n(169));l?(i=xy(i,o,Xr),c.__reactInternalMemoizedMergedChildContext=i,Fe(Ft),Fe(It),Oe(It,i)):Fe(Ft),Oe(Ft,l)}var Bn=null,wl=!1,Wh=!1;function Py(i){Bn===null?Bn=[i]:Bn.push(i)}function P1(i){wl=!0,Py(i)}function yr(){if(!Wh&&Bn!==null){Wh=!0;var i=0,o=Ne;try{var l=Bn;for(Ne=1;i<l.length;i++){var c=l[i];do c=c(!0);while(c!==null)}Bn=null,wl=!1}catch(d){throw Bn!==null&&(Bn=Bn.slice(i+1)),Dg(dh,yr),d}finally{Ne=o,Wh=!1}}return null}var es=[],ts=0,El=null,Tl=0,sn=[],on=0,Jr=null,$n=1,zn="";function Zr(i,o){es[ts++]=Tl,es[ts++]=El,El=i,Tl=o}function Ry(i,o,l){sn[on++]=$n,sn[on++]=zn,sn[on++]=Jr,Jr=i;var c=$n;i=zn;var d=32-wn(c)-1;c&=~(1<<d),l+=1;var m=32-wn(o)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,$n=1<<32-wn(o)+d|l<<d|c,zn=m+i}else $n=1<<m|l<<d|c,zn=i}function Kh(i){i.return!==null&&(Zr(i,1),Ry(i,1,0))}function qh(i){for(;i===El;)El=es[--ts],es[ts]=null,Tl=es[--ts],es[ts]=null;for(;i===Jr;)Jr=sn[--on],sn[on]=null,zn=sn[--on],sn[on]=null,$n=sn[--on],sn[on]=null}var Yt=null,Xt=null,je=!1,Tn=null;function Dy(i,o){var l=cn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Ny(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Yt=i,Xt=pr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Yt=i,Xt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Jr!==null?{id:$n,overflow:zn}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=cn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Yt=i,Xt=null,!0):!1;default:return!1}}function Gh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Qh(i){if(je){var o=Xt;if(o){var l=o;if(!Ny(i,o)){if(Gh(i))throw Error(n(418));o=pr(l.nextSibling);var c=Yt;o&&Ny(i,o)?Dy(c,l):(i.flags=i.flags&-4097|2,je=!1,Yt=i)}}else{if(Gh(i))throw Error(n(418));i.flags=i.flags&-4097|2,je=!1,Yt=i}}}function Ly(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Yt=i}function Sl(i){if(i!==Yt)return!1;if(!je)return Ly(i),je=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!jh(i.type,i.memoizedProps)),o&&(o=Xt)){if(Gh(i))throw by(),Error(n(418));for(;o;)Dy(i,o),o=pr(o.nextSibling)}if(Ly(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Xt=pr(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Xt=null}}else Xt=Yt?pr(i.stateNode.nextSibling):null;return!0}function by(){for(var i=Xt;i;)i=pr(i.nextSibling)}function ns(){Xt=Yt=null,je=!1}function Yh(i){Tn===null?Tn=[i]:Tn.push(i)}var R1=$.ReactCurrentBatchConfig;function Sn(i,o){if(i&&i.defaultProps){o=I({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}var Il=mr(null),Cl=null,rs=null,Xh=null;function Jh(){Xh=rs=Cl=null}function Zh(i){var o=Il.current;Fe(Il),i._currentValue=o}function ef(i,o,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===l)break;i=i.return}}function is(i,o){Cl=i,Xh=rs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(jt=!0),i.firstContext=null)}function an(i){var o=i._currentValue;if(Xh!==i)if(i={context:i,memoizedValue:o,next:null},rs===null){if(Cl===null)throw Error(n(308));rs=i,Cl.dependencies={lanes:0,firstContext:i}}else rs=rs.next=i;return o}var ei=null;function tf(i){ei===null?ei=[i]:ei.push(i)}function Oy(i,o,l,c){var d=o.interleaved;return d===null?(l.next=l,tf(o)):(l.next=d.next,d.next=l),o.interleaved=l,Hn(i,c)}function Hn(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vr=!1;function nf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function My(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Wn(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function wr(i,o,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,Ce&2){var d=c.pending;return d===null?o.next=o:(o.next=d.next,d.next=o),c.pending=o,Hn(i,l)}return d=c.interleaved,d===null?(o.next=o,tf(c)):(o.next=d.next,d.next=o),c.interleaved=o,Hn(i,l)}function kl(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,gh(i,l)}}function Vy(i,o){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?d=m=v:m=m.next=v,l=l.next}while(l!==null);m===null?d=m=o:m=m.next=o}else d=m=o;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function _l(i,o,l,c){var d=i.updateQueue;vr=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var C=T,R=C.next;C.next=null,v===null?m=R:v.next=R,v=C;var b=i.alternate;b!==null&&(b=b.updateQueue,T=b.lastBaseUpdate,T!==v&&(T===null?b.firstBaseUpdate=R:T.next=R,b.lastBaseUpdate=C))}if(m!==null){var M=d.baseState;v=0,b=R=C=null,T=m;do{var L=T.lane,W=T.eventTime;if((c&L)===L){b!==null&&(b=b.next={eventTime:W,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var q=i,G=T;switch(L=o,W=l,G.tag){case 1:if(q=G.payload,typeof q=="function"){M=q.call(W,M,L);break e}M=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=G.payload,L=typeof q=="function"?q.call(W,M,L):q,L==null)break e;M=I({},M,L);break e;case 2:vr=!0}}T.callback!==null&&T.lane!==0&&(i.flags|=64,L=d.effects,L===null?d.effects=[T]:L.push(T))}else W={eventTime:W,lane:L,tag:T.tag,payload:T.payload,callback:T.callback,next:null},b===null?(R=b=W,C=M):b=b.next=W,v|=L;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;L=T,T=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if(b===null&&(C=M),d.baseState=C,d.firstBaseUpdate=R,d.lastBaseUpdate=b,o=d.shared.interleaved,o!==null){d=o;do v|=d.lane,d=d.next;while(d!==o)}else m===null&&(d.shared.lanes=0);ri|=v,i.lanes=v,i.memoizedState=M}}function Fy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var c=i[o],d=c.callback;if(d!==null){if(c.callback=null,c=l,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Uy=new t.Component().refs;function rf(i,o,l,c){o=i.memoizedState,l=l(c,o),l=l==null?o:I({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var xl={isMounted:function(i){return(i=i._reactInternals)?Qr(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var c=Ot(),d=Ir(i),m=Wn(c,d);m.payload=o,l!=null&&(m.callback=l),o=wr(i,m,d),o!==null&&(kn(o,i,d,c),kl(o,i,d))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var c=Ot(),d=Ir(i),m=Wn(c,d);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=wr(i,m,d),o!==null&&(kn(o,i,d,c),kl(o,i,d))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Ot(),c=Ir(i),d=Wn(l,c);d.tag=2,o!=null&&(d.callback=o),o=wr(i,d,c),o!==null&&(kn(o,i,c,l),kl(o,i,c))}};function jy(i,o,l,c,d,m,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,m,v):o.prototype&&o.prototype.isPureReactComponent?!ho(l,c)||!ho(d,m):!0}function By(i,o,l){var c=!1,d=gr,m=o.contextType;return typeof m=="object"&&m!==null?m=an(m):(d=Ut(o)?Xr:It.current,c=o.contextTypes,m=(c=c!=null)?Zi(i,d):gr),o=new o(l,m),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=xl,i.stateNode=o,o._reactInternals=i,c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=d,i.__reactInternalMemoizedMaskedChildContext=m),o}function $y(i,o,l,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==i&&xl.enqueueReplaceState(o,o.state,null)}function sf(i,o,l,c){var d=i.stateNode;d.props=l,d.state=i.memoizedState,d.refs=Uy,nf(i);var m=o.contextType;typeof m=="object"&&m!==null?d.context=an(m):(m=Ut(o)?Xr:It.current,d.context=Zi(i,m)),d.state=i.memoizedState,m=o.getDerivedStateFromProps,typeof m=="function"&&(rf(i,o,m,l),d.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(o=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),o!==d.state&&xl.enqueueReplaceState(d,d.state,null),_l(i,l,d,c),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308)}function wo(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var c=l.stateNode}if(!c)throw Error(n(147,i));var d=c,m=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===m?o.ref:(o=function(v){var T=d.refs;T===Uy&&(T=d.refs={}),v===null?delete T[m]:T[m]=v},o._stringRef=m,o)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function Al(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function zy(i){var o=i._init;return o(i._payload)}function Hy(i){function o(A,k){if(i){var P=A.deletions;P===null?(A.deletions=[k],A.flags|=16):P.push(k)}}function l(A,k){if(!i)return null;for(;k!==null;)o(A,k),k=k.sibling;return null}function c(A,k){for(A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function d(A,k){return A=kr(A,k),A.index=0,A.sibling=null,A}function m(A,k,P){return A.index=P,i?(P=A.alternate,P!==null?(P=P.index,P<k?(A.flags|=2,k):P):(A.flags|=2,k)):(A.flags|=1048576,k)}function v(A){return i&&A.alternate===null&&(A.flags|=2),A}function T(A,k,P,j){return k===null||k.tag!==6?(k=$f(P,A.mode,j),k.return=A,k):(k=d(k,P),k.return=A,k)}function C(A,k,P,j){var Y=P.type;return Y===se?b(A,k,P.props.children,j,P.key):k!==null&&(k.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Se&&zy(Y)===k.type)?(j=d(k,P.props),j.ref=wo(A,k,P),j.return=A,j):(j=ql(P.type,P.key,P.props,null,A.mode,j),j.ref=wo(A,k,P),j.return=A,j)}function R(A,k,P,j){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=zf(P,A.mode,j),k.return=A,k):(k=d(k,P.children||[]),k.return=A,k)}function b(A,k,P,j,Y){return k===null||k.tag!==7?(k=ai(P,A.mode,j,Y),k.return=A,k):(k=d(k,P),k.return=A,k)}function M(A,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=$f(""+k,A.mode,P),k.return=A,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case J:return P=ql(k.type,k.key,k.props,null,A.mode,P),P.ref=wo(A,null,k),P.return=A,P;case ce:return k=zf(k,A.mode,P),k.return=A,k;case Se:var j=k._init;return M(A,j(k._payload),P)}if(qs(k)||Z(k))return k=ai(k,A.mode,P,null),k.return=A,k;Al(A,k)}return null}function L(A,k,P,j){var Y=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Y!==null?null:T(A,k,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case J:return P.key===Y?C(A,k,P,j):null;case ce:return P.key===Y?R(A,k,P,j):null;case Se:return Y=P._init,L(A,k,Y(P._payload),j)}if(qs(P)||Z(P))return Y!==null?null:b(A,k,P,j,null);Al(A,P)}return null}function W(A,k,P,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number")return A=A.get(P)||null,T(k,A,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case J:return A=A.get(j.key===null?P:j.key)||null,C(k,A,j,Y);case ce:return A=A.get(j.key===null?P:j.key)||null,R(k,A,j,Y);case Se:var ne=j._init;return W(A,k,P,ne(j._payload),Y)}if(qs(j)||Z(j))return A=A.get(P)||null,b(k,A,j,Y,null);Al(k,j)}return null}function q(A,k,P,j){for(var Y=null,ne=null,re=k,le=k=0,dt=null;re!==null&&le<P.length;le++){re.index>le?(dt=re,re=null):dt=re.sibling;var _e=L(A,re,P[le],j);if(_e===null){re===null&&(re=dt);break}i&&re&&_e.alternate===null&&o(A,re),k=m(_e,k,le),ne===null?Y=_e:ne.sibling=_e,ne=_e,re=dt}if(le===P.length)return l(A,re),je&&Zr(A,le),Y;if(re===null){for(;le<P.length;le++)re=M(A,P[le],j),re!==null&&(k=m(re,k,le),ne===null?Y=re:ne.sibling=re,ne=re);return je&&Zr(A,le),Y}for(re=c(A,re);le<P.length;le++)dt=W(re,A,le,P[le],j),dt!==null&&(i&&dt.alternate!==null&&re.delete(dt.key===null?le:dt.key),k=m(dt,k,le),ne===null?Y=dt:ne.sibling=dt,ne=dt);return i&&re.forEach(function(_r){return o(A,_r)}),je&&Zr(A,le),Y}function G(A,k,P,j){var Y=Z(P);if(typeof Y!="function")throw Error(n(150));if(P=Y.call(P),P==null)throw Error(n(151));for(var ne=Y=null,re=k,le=k=0,dt=null,_e=P.next();re!==null&&!_e.done;le++,_e=P.next()){re.index>le?(dt=re,re=null):dt=re.sibling;var _r=L(A,re,_e.value,j);if(_r===null){re===null&&(re=dt);break}i&&re&&_r.alternate===null&&o(A,re),k=m(_r,k,le),ne===null?Y=_r:ne.sibling=_r,ne=_r,re=dt}if(_e.done)return l(A,re),je&&Zr(A,le),Y;if(re===null){for(;!_e.done;le++,_e=P.next())_e=M(A,_e.value,j),_e!==null&&(k=m(_e,k,le),ne===null?Y=_e:ne.sibling=_e,ne=_e);return je&&Zr(A,le),Y}for(re=c(A,re);!_e.done;le++,_e=P.next())_e=W(re,A,le,_e.value,j),_e!==null&&(i&&_e.alternate!==null&&re.delete(_e.key===null?le:_e.key),k=m(_e,k,le),ne===null?Y=_e:ne.sibling=_e,ne=_e);return i&&re.forEach(function(ux){return o(A,ux)}),je&&Zr(A,le),Y}function Ye(A,k,P,j){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case J:e:{for(var Y=P.key,ne=k;ne!==null;){if(ne.key===Y){if(Y=P.type,Y===se){if(ne.tag===7){l(A,ne.sibling),k=d(ne,P.props.children),k.return=A,A=k;break e}}else if(ne.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Se&&zy(Y)===ne.type){l(A,ne.sibling),k=d(ne,P.props),k.ref=wo(A,ne,P),k.return=A,A=k;break e}l(A,ne);break}else o(A,ne);ne=ne.sibling}P.type===se?(k=ai(P.props.children,A.mode,j,P.key),k.return=A,A=k):(j=ql(P.type,P.key,P.props,null,A.mode,j),j.ref=wo(A,k,P),j.return=A,A=j)}return v(A);case ce:e:{for(ne=P.key;k!==null;){if(k.key===ne)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){l(A,k.sibling),k=d(k,P.children||[]),k.return=A,A=k;break e}else{l(A,k);break}else o(A,k);k=k.sibling}k=zf(P,A.mode,j),k.return=A,A=k}return v(A);case Se:return ne=P._init,Ye(A,k,ne(P._payload),j)}if(qs(P))return q(A,k,P,j);if(Z(P))return G(A,k,P,j);Al(A,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(l(A,k.sibling),k=d(k,P),k.return=A,A=k):(l(A,k),k=$f(P,A.mode,j),k.return=A,A=k),v(A)):l(A,k)}return Ye}var ss=Hy(!0),Wy=Hy(!1),Eo={},Rn=mr(Eo),To=mr(Eo),So=mr(Eo);function ti(i){if(i===Eo)throw Error(n(174));return i}function of(i,o){switch(Oe(So,o),Oe(To,i),Oe(Rn,Eo),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ih(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ih(o,i)}Fe(Rn),Oe(Rn,o)}function os(){Fe(Rn),Fe(To),Fe(So)}function Ky(i){ti(So.current);var o=ti(Rn.current),l=ih(o,i.type);o!==l&&(Oe(To,i),Oe(Rn,l))}function af(i){To.current===i&&(Fe(Rn),Fe(To))}var ze=mr(0);function Pl(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var lf=[];function uf(){for(var i=0;i<lf.length;i++)lf[i]._workInProgressVersionPrimary=null;lf.length=0}var Rl=$.ReactCurrentDispatcher,cf=$.ReactCurrentBatchConfig,ni=0,He=null,it=null,ht=null,Dl=!1,Io=!1,Co=0,D1=0;function Ct(){throw Error(n(321))}function hf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!En(i[l],o[l]))return!1;return!0}function ff(i,o,l,c,d,m){if(ni=m,He=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Rl.current=i===null||i.memoizedState===null?O1:M1,i=l(c,d),Io){m=0;do{if(Io=!1,Co=0,25<=m)throw Error(n(301));m+=1,ht=it=null,o.updateQueue=null,Rl.current=V1,i=l(c,d)}while(Io)}if(Rl.current=bl,o=it!==null&&it.next!==null,ni=0,ht=it=He=null,Dl=!1,o)throw Error(n(300));return i}function df(){var i=Co!==0;return Co=0,i}function Dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?He.memoizedState=ht=i:ht=ht.next=i,ht}function ln(){if(it===null){var i=He.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var o=ht===null?He.memoizedState:ht.next;if(o!==null)ht=o,it=i;else{if(i===null)throw Error(n(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ht===null?He.memoizedState=ht=i:ht=ht.next=i}return ht}function ko(i,o){return typeof o=="function"?o(i):o}function pf(i){var o=ln(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=it,d=c.baseQueue,m=l.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}c.baseQueue=d=m,l.pending=null}if(d!==null){m=d.next,c=c.baseState;var T=v=null,C=null,R=m;do{var b=R.lane;if((ni&b)===b)C!==null&&(C=C.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),c=R.hasEagerState?R.eagerState:i(c,R.action);else{var M={lane:b,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};C===null?(T=C=M,v=c):C=C.next=M,He.lanes|=b,ri|=b}R=R.next}while(R!==null&&R!==m);C===null?v=c:C.next=T,En(c,o.memoizedState)||(jt=!0),o.memoizedState=c,o.baseState=v,o.baseQueue=C,l.lastRenderedState=c}if(i=l.interleaved,i!==null){d=i;do m=d.lane,He.lanes|=m,ri|=m,d=d.next;while(d!==i)}else d===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function mf(i){var o=ln(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=l.dispatch,d=l.pending,m=o.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do m=i(m,v.action),v=v.next;while(v!==d);En(m,o.memoizedState)||(jt=!0),o.memoizedState=m,o.baseQueue===null&&(o.baseState=m),l.lastRenderedState=m}return[m,c]}function qy(){}function Gy(i,o){var l=He,c=ln(),d=o(),m=!En(c.memoizedState,d);if(m&&(c.memoizedState=d,jt=!0),c=c.queue,gf(Xy.bind(null,l,c,i),[i]),c.getSnapshot!==o||m||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,_o(9,Yy.bind(null,l,c,d,o),void 0,null),ft===null)throw Error(n(349));ni&30||Qy(l,o,d)}return d}function Qy(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=He.updateQueue,o===null?(o={lastEffect:null,stores:null},He.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Yy(i,o,l,c){o.value=l,o.getSnapshot=c,Jy(o)&&Zy(i)}function Xy(i,o,l){return l(function(){Jy(o)&&Zy(i)})}function Jy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!En(i,l)}catch{return!0}}function Zy(i){var o=Hn(i,1);o!==null&&kn(o,i,1,-1)}function ev(i){var o=Dn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:i},o.queue=i,i=i.dispatch=b1.bind(null,He,i),[o.memoizedState,i]}function _o(i,o,l,c){return i={tag:i,create:o,destroy:l,deps:c,next:null},o=He.updateQueue,o===null?(o={lastEffect:null,stores:null},He.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,o.lastEffect=i)),i}function tv(){return ln().memoizedState}function Nl(i,o,l,c){var d=Dn();He.flags|=i,d.memoizedState=_o(1|o,l,void 0,c===void 0?null:c)}function Ll(i,o,l,c){var d=ln();c=c===void 0?null:c;var m=void 0;if(it!==null){var v=it.memoizedState;if(m=v.destroy,c!==null&&hf(c,v.deps)){d.memoizedState=_o(o,l,m,c);return}}He.flags|=i,d.memoizedState=_o(1|o,l,m,c)}function nv(i,o){return Nl(8390656,8,i,o)}function gf(i,o){return Ll(2048,8,i,o)}function rv(i,o){return Ll(4,2,i,o)}function iv(i,o){return Ll(4,4,i,o)}function sv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ov(i,o,l){return l=l!=null?l.concat([i]):null,Ll(4,4,sv.bind(null,o,i),l)}function yf(){}function av(i,o){var l=ln();o=o===void 0?null:o;var c=l.memoizedState;return c!==null&&o!==null&&hf(o,c[1])?c[0]:(l.memoizedState=[i,o],i)}function lv(i,o){var l=ln();o=o===void 0?null:o;var c=l.memoizedState;return c!==null&&o!==null&&hf(o,c[1])?c[0]:(i=i(),l.memoizedState=[i,o],i)}function uv(i,o,l){return ni&21?(En(l,o)||(l=Og(),He.lanes|=l,ri|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,jt=!0),i.memoizedState=l)}function N1(i,o){var l=Ne;Ne=l!==0&&4>l?l:4,i(!0);var c=cf.transition;cf.transition={};try{i(!1),o()}finally{Ne=l,cf.transition=c}}function cv(){return ln().memoizedState}function L1(i,o,l){var c=Ir(i);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},hv(i))fv(o,l);else if(l=Oy(i,o,l,c),l!==null){var d=Ot();kn(l,i,c,d),dv(l,o,c)}}function b1(i,o,l){var c=Ir(i),d={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(hv(i))fv(o,d);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=o.lastRenderedReducer,m!==null))try{var v=o.lastRenderedState,T=m(v,l);if(d.hasEagerState=!0,d.eagerState=T,En(T,v)){var C=o.interleaved;C===null?(d.next=d,tf(o)):(d.next=C.next,C.next=d),o.interleaved=d;return}}catch{}finally{}l=Oy(i,o,d,c),l!==null&&(d=Ot(),kn(l,i,c,d),dv(l,o,c))}}function hv(i){var o=i.alternate;return i===He||o!==null&&o===He}function fv(i,o){Io=Dl=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function dv(i,o,l){if(l&4194240){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,gh(i,l)}}var bl={readContext:an,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},O1={readContext:an,useCallback:function(i,o){return Dn().memoizedState=[i,o===void 0?null:o],i},useContext:an,useEffect:nv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Nl(4194308,4,sv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Nl(4194308,4,i,o)},useInsertionEffect:function(i,o){return Nl(4,2,i,o)},useMemo:function(i,o){var l=Dn();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var c=Dn();return o=l!==void 0?l(o):o,c.memoizedState=c.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},c.queue=i,i=i.dispatch=L1.bind(null,He,i),[c.memoizedState,i]},useRef:function(i){var o=Dn();return i={current:i},o.memoizedState=i},useState:ev,useDebugValue:yf,useDeferredValue:function(i){return Dn().memoizedState=i},useTransition:function(){var i=ev(!1),o=i[0];return i=N1.bind(null,i[1]),Dn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var c=He,d=Dn();if(je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),ft===null)throw Error(n(349));ni&30||Qy(c,o,l)}d.memoizedState=l;var m={value:l,getSnapshot:o};return d.queue=m,nv(Xy.bind(null,c,m,i),[i]),c.flags|=2048,_o(9,Yy.bind(null,c,m,l,o),void 0,null),l},useId:function(){var i=Dn(),o=ft.identifierPrefix;if(je){var l=zn,c=$n;l=(c&~(1<<32-wn(c)-1)).toString(32)+l,o=":"+o+"R"+l,l=Co++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=D1++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},M1={readContext:an,useCallback:av,useContext:an,useEffect:gf,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:pf,useRef:tv,useState:function(){return pf(ko)},useDebugValue:yf,useDeferredValue:function(i){var o=ln();return uv(o,it.memoizedState,i)},useTransition:function(){var i=pf(ko)[0],o=ln().memoizedState;return[i,o]},useMutableSource:qy,useSyncExternalStore:Gy,useId:cv,unstable_isNewReconciler:!1},V1={readContext:an,useCallback:av,useContext:an,useEffect:gf,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:mf,useRef:tv,useState:function(){return mf(ko)},useDebugValue:yf,useDeferredValue:function(i){var o=ln();return it===null?o.memoizedState=i:uv(o,it.memoizedState,i)},useTransition:function(){var i=mf(ko)[0],o=ln().memoizedState;return[i,o]},useMutableSource:qy,useSyncExternalStore:Gy,useId:cv,unstable_isNewReconciler:!1};function as(i,o){try{var l="",c=o;do l+=De(c),c=c.return;while(c);var d=l}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:i,source:o,stack:d,digest:null}}function vf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function wf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var F1=typeof WeakMap=="function"?WeakMap:Map;function pv(i,o,l){l=Wn(-1,l),l.tag=3,l.payload={element:null};var c=o.value;return l.callback=function(){Bl||(Bl=!0,bf=c),wf(i,o)},l}function mv(i,o,l){l=Wn(-1,l),l.tag=3;var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;l.payload=function(){return c(d)},l.callback=function(){wf(i,o)}}var m=i.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){wf(i,o),typeof c!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})}),l}function gv(i,o,l){var c=i.pingCache;if(c===null){c=i.pingCache=new F1;var d=new Set;c.set(o,d)}else d=c.get(o),d===void 0&&(d=new Set,c.set(o,d));d.has(l)||(d.add(l),i=J1.bind(null,i,o,l),o.then(i,i))}function yv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function vv(i,o,l,c,d){return i.mode&1?(i.flags|=65536,i.lanes=d,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Wn(-1,1),o.tag=2,wr(l,o,1))),l.lanes|=1),i)}var U1=$.ReactCurrentOwner,jt=!1;function bt(i,o,l,c){o.child=i===null?Wy(o,null,l,c):ss(o,i.child,l,c)}function wv(i,o,l,c,d){l=l.render;var m=o.ref;return is(o,d),c=ff(i,o,l,c,m,d),l=df(),i!==null&&!jt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d,Kn(i,o,d)):(je&&l&&Kh(o),o.flags|=1,bt(i,o,c,d),o.child)}function Ev(i,o,l,c,d){if(i===null){var m=l.type;return typeof m=="function"&&!Bf(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=m,Tv(i,o,m,c,d)):(i=ql(l.type,null,c,o,o.mode,d),i.ref=o.ref,i.return=o,o.child=i)}if(m=i.child,!(i.lanes&d)){var v=m.memoizedProps;if(l=l.compare,l=l!==null?l:ho,l(v,c)&&i.ref===o.ref)return Kn(i,o,d)}return o.flags|=1,i=kr(m,c),i.ref=o.ref,i.return=o,o.child=i}function Tv(i,o,l,c,d){if(i!==null){var m=i.memoizedProps;if(ho(m,c)&&i.ref===o.ref)if(jt=!1,o.pendingProps=c=m,(i.lanes&d)!==0)i.flags&131072&&(jt=!0);else return o.lanes=i.lanes,Kn(i,o,d)}return Ef(i,o,l,c,d)}function Sv(i,o,l){var c=o.pendingProps,d=c.children,m=i!==null?i.memoizedState:null;if(c.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(us,Jt),Jt|=l;else{if(!(l&1073741824))return i=m!==null?m.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Oe(us,Jt),Jt|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:l,Oe(us,Jt),Jt|=c}else m!==null?(c=m.baseLanes|l,o.memoizedState=null):c=l,Oe(us,Jt),Jt|=c;return bt(i,o,d,l),o.child}function Iv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Ef(i,o,l,c,d){var m=Ut(l)?Xr:It.current;return m=Zi(o,m),is(o,d),l=ff(i,o,l,c,m,d),c=df(),i!==null&&!jt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d,Kn(i,o,d)):(je&&c&&Kh(o),o.flags|=1,bt(i,o,l,d),o.child)}function Cv(i,o,l,c,d){if(Ut(l)){var m=!0;vl(o)}else m=!1;if(is(o,d),o.stateNode===null)Ml(i,o),By(o,l,c),sf(o,l,c,d),c=!0;else if(i===null){var v=o.stateNode,T=o.memoizedProps;v.props=T;var C=v.context,R=l.contextType;typeof R=="object"&&R!==null?R=an(R):(R=Ut(l)?Xr:It.current,R=Zi(o,R));var b=l.getDerivedStateFromProps,M=typeof b=="function"||typeof v.getSnapshotBeforeUpdate=="function";M||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==c||C!==R)&&$y(o,v,c,R),vr=!1;var L=o.memoizedState;v.state=L,_l(o,c,v,d),C=o.memoizedState,T!==c||L!==C||Ft.current||vr?(typeof b=="function"&&(rf(o,l,b,c),C=o.memoizedState),(T=vr||jy(o,l,T,c,L,C,R))?(M||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=C),v.props=c,v.state=C,v.context=R,c=T):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{v=o.stateNode,My(i,o),T=o.memoizedProps,R=o.type===o.elementType?T:Sn(o.type,T),v.props=R,M=o.pendingProps,L=v.context,C=l.contextType,typeof C=="object"&&C!==null?C=an(C):(C=Ut(l)?Xr:It.current,C=Zi(o,C));var W=l.getDerivedStateFromProps;(b=typeof W=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==M||L!==C)&&$y(o,v,c,C),vr=!1,L=o.memoizedState,v.state=L,_l(o,c,v,d);var q=o.memoizedState;T!==M||L!==q||Ft.current||vr?(typeof W=="function"&&(rf(o,l,W,c),q=o.memoizedState),(R=vr||jy(o,l,R,c,L,q,C)||!1)?(b||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,q,C),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,q,C)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===i.memoizedProps&&L===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&L===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=q),v.props=c,v.state=q,v.context=C,c=R):(typeof v.componentDidUpdate!="function"||T===i.memoizedProps&&L===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&L===i.memoizedState||(o.flags|=1024),c=!1)}return Tf(i,o,l,c,m,d)}function Tf(i,o,l,c,d,m){Iv(i,o);var v=(o.flags&128)!==0;if(!c&&!v)return d&&Ay(o,l,!1),Kn(i,o,m);c=o.stateNode,U1.current=o;var T=v&&typeof l.getDerivedStateFromError!="function"?null:c.render();return o.flags|=1,i!==null&&v?(o.child=ss(o,i.child,null,m),o.child=ss(o,null,T,m)):bt(i,o,T,m),o.memoizedState=c.state,d&&Ay(o,l,!0),o.child}function kv(i){var o=i.stateNode;o.pendingContext?_y(i,o.pendingContext,o.pendingContext!==o.context):o.context&&_y(i,o.context,!1),of(i,o.containerInfo)}function _v(i,o,l,c,d){return ns(),Yh(d),o.flags|=256,bt(i,o,l,c),o.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function If(i){return{baseLanes:i,cachePool:null,transitions:null}}function xv(i,o,l){var c=o.pendingProps,d=ze.current,m=!1,v=(o.flags&128)!==0,T;if((T=v)||(T=i!==null&&i.memoizedState===null?!1:(d&2)!==0),T?(m=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(d|=1),Oe(ze,d&1),i===null)return Qh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(v=c.children,i=c.fallback,m?(c=o.mode,m=o.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Gl(v,c,0,null),i=ai(i,c,l,null),m.return=o,i.return=o,m.sibling=i,o.child=m,o.child.memoizedState=If(l),o.memoizedState=Sf,i):Cf(o,v));if(d=i.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return j1(i,o,v,c,T,d,l);if(m){m=c.fallback,v=o.mode,d=i.child,T=d.sibling;var C={mode:"hidden",children:c.children};return!(v&1)&&o.child!==d?(c=o.child,c.childLanes=0,c.pendingProps=C,o.deletions=null):(c=kr(d,C),c.subtreeFlags=d.subtreeFlags&14680064),T!==null?m=kr(T,m):(m=ai(m,v,l,null),m.flags|=2),m.return=o,c.return=o,c.sibling=m,o.child=c,c=m,m=o.child,v=i.child.memoizedState,v=v===null?If(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=i.childLanes&~l,o.memoizedState=Sf,c}return m=i.child,i=m.sibling,c=kr(m,{mode:"visible",children:c.children}),!(o.mode&1)&&(c.lanes=l),c.return=o,c.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=c,o.memoizedState=null,c}function Cf(i,o){return o=Gl({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ol(i,o,l,c){return c!==null&&Yh(c),ss(o,i.child,null,l),i=Cf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function j1(i,o,l,c,d,m,v){if(l)return o.flags&256?(o.flags&=-257,c=vf(Error(n(422))),Ol(i,o,v,c)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(m=c.fallback,d=o.mode,c=Gl({mode:"visible",children:c.children},d,0,null),m=ai(m,d,v,null),m.flags|=2,c.return=o,m.return=o,c.sibling=m,o.child=c,o.mode&1&&ss(o,i.child,null,v),o.child.memoizedState=If(v),o.memoizedState=Sf,m);if(!(o.mode&1))return Ol(i,o,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var T=c.dgst;return c=T,m=Error(n(419)),c=vf(m,c,void 0),Ol(i,o,v,c)}if(T=(v&i.childLanes)!==0,jt||T){if(c=ft,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|v)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Hn(i,d),kn(c,i,d,-1))}return jf(),c=vf(Error(n(421))),Ol(i,o,v,c)}return d.data==="$?"?(o.flags|=128,o.child=i.child,o=Z1.bind(null,i),d._reactRetry=o,null):(i=m.treeContext,Xt=pr(d.nextSibling),Yt=o,je=!0,Tn=null,i!==null&&(sn[on++]=$n,sn[on++]=zn,sn[on++]=Jr,$n=i.id,zn=i.overflow,Jr=o),o=Cf(o,c.children),o.flags|=4096,o)}function Av(i,o,l){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),ef(i.return,o,l)}function kf(i,o,l,c,d){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d}:(m.isBackwards=o,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=d)}function Pv(i,o,l){var c=o.pendingProps,d=c.revealOrder,m=c.tail;if(bt(i,o,c.children,l),c=ze.current,c&2)c=c&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Av(i,l,o);else if(i.tag===19)Av(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}if(Oe(ze,c),!(o.mode&1))o.memoizedState=null;else switch(d){case"forwards":for(l=o.child,d=null;l!==null;)i=l.alternate,i!==null&&Pl(i)===null&&(d=l),l=l.sibling;l=d,l===null?(d=o.child,o.child=null):(d=l.sibling,l.sibling=null),kf(o,!1,d,l,m);break;case"backwards":for(l=null,d=o.child,o.child=null;d!==null;){if(i=d.alternate,i!==null&&Pl(i)===null){o.child=d;break}i=d.sibling,d.sibling=l,l=d,d=i}kf(o,!0,l,null,m);break;case"together":kf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ml(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Kn(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ri|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=kr(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=kr(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function B1(i,o,l){switch(o.tag){case 3:kv(o),ns();break;case 5:Ky(o);break;case 1:Ut(o.type)&&vl(o);break;case 4:of(o,o.stateNode.containerInfo);break;case 10:var c=o.type._context,d=o.memoizedProps.value;Oe(Il,c._currentValue),c._currentValue=d;break;case 13:if(c=o.memoizedState,c!==null)return c.dehydrated!==null?(Oe(ze,ze.current&1),o.flags|=128,null):l&o.child.childLanes?xv(i,o,l):(Oe(ze,ze.current&1),i=Kn(i,o,l),i!==null?i.sibling:null);Oe(ze,ze.current&1);break;case 19:if(c=(l&o.childLanes)!==0,i.flags&128){if(c)return Pv(i,o,l);o.flags|=128}if(d=o.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Oe(ze,ze.current),c)break;return null;case 22:case 23:return o.lanes=0,Sv(i,o,l)}return Kn(i,o,l)}var Rv,_f,Dv,Nv;Rv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},_f=function(){},Dv=function(i,o,l,c){var d=i.memoizedProps;if(d!==c){i=o.stateNode,ti(Rn.current);var m=null;switch(l){case"input":d=eh(i,d),c=eh(i,c),m=[];break;case"select":d=I({},d,{value:void 0}),c=I({},c,{value:void 0}),m=[];break;case"textarea":d=rh(i,d),c=rh(i,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(i.onclick=ml)}sh(l,c);var v;l=null;for(R in d)if(!c.hasOwnProperty(R)&&d.hasOwnProperty(R)&&d[R]!=null)if(R==="style"){var T=d[R];for(v in T)T.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(s.hasOwnProperty(R)?m||(m=[]):(m=m||[]).push(R,null));for(R in c){var C=c[R];if(T=d!=null?d[R]:void 0,c.hasOwnProperty(R)&&C!==T&&(C!=null||T!=null))if(R==="style")if(T){for(v in T)!T.hasOwnProperty(v)||C&&C.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in C)C.hasOwnProperty(v)&&T[v]!==C[v]&&(l||(l={}),l[v]=C[v])}else l||(m||(m=[]),m.push(R,l)),l=C;else R==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,T=T?T.__html:void 0,C!=null&&T!==C&&(m=m||[]).push(R,C)):R==="children"?typeof C!="string"&&typeof C!="number"||(m=m||[]).push(R,""+C):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(s.hasOwnProperty(R)?(C!=null&&R==="onScroll"&&Ve("scroll",i),m||T===C||(m=[])):(m=m||[]).push(R,C))}l&&(m=m||[]).push("style",l);var R=m;(o.updateQueue=R)&&(o.flags|=4)}},Nv=function(i,o,l,c){l!==c&&(o.flags|=4)};function xo(i,o){if(!je)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function kt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(o)for(var d=i.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=l,o}function $1(i,o,l){var c=o.pendingProps;switch(qh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(o),null;case 1:return Ut(o.type)&&yl(),kt(o),null;case 3:return c=o.stateNode,os(),Fe(Ft),Fe(It),uf(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Sl(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Tn!==null&&(Vf(Tn),Tn=null))),_f(i,o),kt(o),null;case 5:af(o);var d=ti(So.current);if(l=o.type,i!==null&&o.stateNode!=null)Dv(i,o,l,c,d),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!c){if(o.stateNode===null)throw Error(n(166));return kt(o),null}if(i=ti(Rn.current),Sl(o)){c=o.stateNode,l=o.type;var m=o.memoizedProps;switch(c[Pn]=o,c[yo]=m,i=(o.mode&1)!==0,l){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(d=0;d<po.length;d++)Ve(po[d],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":hg(c,m),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ve("invalid",c);break;case"textarea":pg(c,m),Ve("invalid",c)}sh(l,m),d=null;for(var v in m)if(m.hasOwnProperty(v)){var T=m[v];v==="children"?typeof T=="string"?c.textContent!==T&&(m.suppressHydrationWarning!==!0&&pl(c.textContent,T,i),d=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(m.suppressHydrationWarning!==!0&&pl(c.textContent,T,i),d=["children",""+T]):s.hasOwnProperty(v)&&T!=null&&v==="onScroll"&&Ve("scroll",c)}switch(l){case"input":rn(c),dg(c,m,!0);break;case"textarea":rn(c),gg(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ml)}c=d,o.updateQueue=c,c!==null&&(o.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yg(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof c.is=="string"?i=v.createElement(l,{is:c.is}):(i=v.createElement(l),l==="select"&&(v=i,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):i=v.createElementNS(i,l),i[Pn]=o,i[yo]=c,Rv(i,o,!1,!1),o.stateNode=i;e:{switch(v=oh(l,c),l){case"dialog":Ve("cancel",i),Ve("close",i),d=c;break;case"iframe":case"object":case"embed":Ve("load",i),d=c;break;case"video":case"audio":for(d=0;d<po.length;d++)Ve(po[d],i);d=c;break;case"source":Ve("error",i),d=c;break;case"img":case"image":case"link":Ve("error",i),Ve("load",i),d=c;break;case"details":Ve("toggle",i),d=c;break;case"input":hg(i,c),d=eh(i,c),Ve("invalid",i);break;case"option":d=c;break;case"select":i._wrapperState={wasMultiple:!!c.multiple},d=I({},c,{value:void 0}),Ve("invalid",i);break;case"textarea":pg(i,c),d=rh(i,c),Ve("invalid",i);break;default:d=c}sh(l,d),T=d;for(m in T)if(T.hasOwnProperty(m)){var C=T[m];m==="style"?Eg(i,C):m==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&vg(i,C)):m==="children"?typeof C=="string"?(l!=="textarea"||C!=="")&&Gs(i,C):typeof C=="number"&&Gs(i,""+C):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(s.hasOwnProperty(m)?C!=null&&m==="onScroll"&&Ve("scroll",i):C!=null&&O(i,m,C,v))}switch(l){case"input":rn(i),dg(i,c,!1);break;case"textarea":rn(i),gg(i);break;case"option":c.value!=null&&i.setAttribute("value",""+ke(c.value));break;case"select":i.multiple=!!c.multiple,m=c.value,m!=null?Bi(i,!!c.multiple,m,!1):c.defaultValue!=null&&Bi(i,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(i.onclick=ml)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return kt(o),null;case 6:if(i&&o.stateNode!=null)Nv(i,o,i.memoizedProps,c);else{if(typeof c!="string"&&o.stateNode===null)throw Error(n(166));if(l=ti(So.current),ti(Rn.current),Sl(o)){if(c=o.stateNode,l=o.memoizedProps,c[Pn]=o,(m=c.nodeValue!==l)&&(i=Yt,i!==null))switch(i.tag){case 3:pl(c.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&pl(c.nodeValue,l,(i.mode&1)!==0)}m&&(o.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Pn]=o,o.stateNode=c}return kt(o),null;case 13:if(Fe(ze),c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(je&&Xt!==null&&o.mode&1&&!(o.flags&128))by(),ns(),o.flags|=98560,m=!1;else if(m=Sl(o),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(n(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Pn]=o}else ns(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;kt(o),m=!1}else Tn!==null&&(Vf(Tn),Tn=null),m=!0;if(!m)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(c=c!==null,c!==(i!==null&&i.memoizedState!==null)&&c&&(o.child.flags|=8192,o.mode&1&&(i===null||ze.current&1?st===0&&(st=3):jf())),o.updateQueue!==null&&(o.flags|=4),kt(o),null);case 4:return os(),_f(i,o),i===null&&mo(o.stateNode.containerInfo),kt(o),null;case 10:return Zh(o.type._context),kt(o),null;case 17:return Ut(o.type)&&yl(),kt(o),null;case 19:if(Fe(ze),m=o.memoizedState,m===null)return kt(o),null;if(c=(o.flags&128)!==0,v=m.rendering,v===null)if(c)xo(m,!1);else{if(st!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(v=Pl(i),v!==null){for(o.flags|=128,xo(m,!1),c=v.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),o.subtreeFlags=0,c=l,l=o.child;l!==null;)m=l,i=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=i,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,i=v.dependencies,m.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Oe(ze,ze.current&1|2),o.child}i=i.sibling}m.tail!==null&&Qe()>cs&&(o.flags|=128,c=!0,xo(m,!1),o.lanes=4194304)}else{if(!c)if(i=Pl(v),i!==null){if(o.flags|=128,c=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),xo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!je)return kt(o),null}else 2*Qe()-m.renderingStartTime>cs&&l!==1073741824&&(o.flags|=128,c=!0,xo(m,!1),o.lanes=4194304);m.isBackwards?(v.sibling=o.child,o.child=v):(l=m.last,l!==null?l.sibling=v:o.child=v,m.last=v)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Qe(),o.sibling=null,l=ze.current,Oe(ze,c?l&1|2:l&1),o):(kt(o),null);case 22:case 23:return Uf(),c=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==c&&(o.flags|=8192),c&&o.mode&1?Jt&1073741824&&(kt(o),o.subtreeFlags&6&&(o.flags|=8192)):kt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function z1(i,o){switch(qh(o),o.tag){case 1:return Ut(o.type)&&yl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return os(),Fe(Ft),Fe(It),uf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return af(o),null;case 13:if(Fe(ze),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ns()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Fe(ze),null;case 4:return os(),null;case 10:return Zh(o.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Vl=!1,_t=!1,H1=typeof WeakSet=="function"?WeakSet:Set,K=null;function ls(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Ke(i,o,c)}else l.current=null}function xf(i,o,l){try{l()}catch(c){Ke(i,o,c)}}var Lv=!1;function W1(i,o){if(Fh=rl,i=cy(),Rh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var v=0,T=-1,C=-1,R=0,b=0,M=i,L=null;t:for(;;){for(var W;M!==l||d!==0&&M.nodeType!==3||(T=v+d),M!==m||c!==0&&M.nodeType!==3||(C=v+c),M.nodeType===3&&(v+=M.nodeValue.length),(W=M.firstChild)!==null;)L=M,M=W;for(;;){if(M===i)break t;if(L===l&&++R===d&&(T=v),L===m&&++b===c&&(C=v),(W=M.nextSibling)!==null)break;M=L,L=M.parentNode}M=W}l=T===-1||C===-1?null:{start:T,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Uh={focusedElem:i,selectionRange:l},rl=!1,K=o;K!==null;)if(o=K,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,K=i;else for(;K!==null;){o=K;try{var q=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var G=q.memoizedProps,Ye=q.memoizedState,A=o.stateNode,k=A.getSnapshotBeforeUpdate(o.elementType===o.type?G:Sn(o.type,G),Ye);A.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=o.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(j){Ke(o,o.return,j)}if(i=o.sibling,i!==null){i.return=o.return,K=i;break}K=o.return}return q=Lv,Lv=!1,q}function Ao(i,o,l){var c=o.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&i)===i){var m=d.destroy;d.destroy=void 0,m!==void 0&&xf(o,l,m)}d=d.next}while(d!==c)}}function Fl(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var c=l.create;l.destroy=c()}l=l.next}while(l!==o)}}function Af(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function bv(i){var o=i.alternate;o!==null&&(i.alternate=null,bv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Pn],delete o[yo],delete o[zh],delete o[x1],delete o[A1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ov(i){return i.tag===5||i.tag===3||i.tag===4}function Mv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ov(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pf(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ml));else if(c!==4&&(i=i.child,i!==null))for(Pf(i,o,l),i=i.sibling;i!==null;)Pf(i,o,l),i=i.sibling}function Rf(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(c!==4&&(i=i.child,i!==null))for(Rf(i,o,l),i=i.sibling;i!==null;)Rf(i,o,l),i=i.sibling}var yt=null,In=!1;function Er(i,o,l){for(l=l.child;l!==null;)Vv(i,o,l),l=l.sibling}function Vv(i,o,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Xa,l)}catch{}switch(l.tag){case 5:_t||ls(l,o);case 6:var c=yt,d=In;yt=null,Er(i,o,l),yt=c,In=d,yt!==null&&(In?(i=yt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):yt.removeChild(l.stateNode));break;case 18:yt!==null&&(In?(i=yt,l=l.stateNode,i.nodeType===8?$h(i.parentNode,l):i.nodeType===1&&$h(i,l),so(i)):$h(yt,l.stateNode));break;case 4:c=yt,d=In,yt=l.stateNode.containerInfo,In=!0,Er(i,o,l),yt=c,In=d;break;case 0:case 11:case 14:case 15:if(!_t&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&xf(l,o,v),d=d.next}while(d!==c)}Er(i,o,l);break;case 1:if(!_t&&(ls(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(T){Ke(l,o,T)}Er(i,o,l);break;case 21:Er(i,o,l);break;case 22:l.mode&1?(_t=(c=_t)||l.memoizedState!==null,Er(i,o,l),_t=c):Er(i,o,l);break;default:Er(i,o,l)}}function Fv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new H1),o.forEach(function(c){var d=ex.bind(null,i,c);l.has(c)||(l.add(c),c.then(d,d))})}}function Cn(i,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c];try{var m=i,v=o,T=v;e:for(;T!==null;){switch(T.tag){case 5:yt=T.stateNode,In=!1;break e;case 3:yt=T.stateNode.containerInfo,In=!0;break e;case 4:yt=T.stateNode.containerInfo,In=!0;break e}T=T.return}if(yt===null)throw Error(n(160));Vv(m,v,d),yt=null,In=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(R){Ke(d,o,R)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Uv(o,i),o=o.sibling}function Uv(i,o){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Cn(o,i),Nn(i),c&4){try{Ao(3,i,i.return),Fl(3,i)}catch(G){Ke(i,i.return,G)}try{Ao(5,i,i.return)}catch(G){Ke(i,i.return,G)}}break;case 1:Cn(o,i),Nn(i),c&512&&l!==null&&ls(l,l.return);break;case 5:if(Cn(o,i),Nn(i),c&512&&l!==null&&ls(l,l.return),i.flags&32){var d=i.stateNode;try{Gs(d,"")}catch(G){Ke(i,i.return,G)}}if(c&4&&(d=i.stateNode,d!=null)){var m=i.memoizedProps,v=l!==null?l.memoizedProps:m,T=i.type,C=i.updateQueue;if(i.updateQueue=null,C!==null)try{T==="input"&&m.type==="radio"&&m.name!=null&&fg(d,m),oh(T,v);var R=oh(T,m);for(v=0;v<C.length;v+=2){var b=C[v],M=C[v+1];b==="style"?Eg(d,M):b==="dangerouslySetInnerHTML"?vg(d,M):b==="children"?Gs(d,M):O(d,b,M,R)}switch(T){case"input":th(d,m);break;case"textarea":mg(d,m);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var W=m.value;W!=null?Bi(d,!!m.multiple,W,!1):L!==!!m.multiple&&(m.defaultValue!=null?Bi(d,!!m.multiple,m.defaultValue,!0):Bi(d,!!m.multiple,m.multiple?[]:"",!1))}d[yo]=m}catch(G){Ke(i,i.return,G)}}break;case 6:if(Cn(o,i),Nn(i),c&4){if(i.stateNode===null)throw Error(n(162));d=i.stateNode,m=i.memoizedProps;try{d.nodeValue=m}catch(G){Ke(i,i.return,G)}}break;case 3:if(Cn(o,i),Nn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{so(o.containerInfo)}catch(G){Ke(i,i.return,G)}break;case 4:Cn(o,i),Nn(i);break;case 13:Cn(o,i),Nn(i),d=i.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Lf=Qe())),c&4&&Fv(i);break;case 22:if(b=l!==null&&l.memoizedState!==null,i.mode&1?(_t=(R=_t)||b,Cn(o,i),_t=R):Cn(o,i),Nn(i),c&8192){if(R=i.memoizedState!==null,(i.stateNode.isHidden=R)&&!b&&i.mode&1)for(K=i,b=i.child;b!==null;){for(M=K=b;K!==null;){switch(L=K,W=L.child,L.tag){case 0:case 11:case 14:case 15:Ao(4,L,L.return);break;case 1:ls(L,L.return);var q=L.stateNode;if(typeof q.componentWillUnmount=="function"){c=L,l=L.return;try{o=c,q.props=o.memoizedProps,q.state=o.memoizedState,q.componentWillUnmount()}catch(G){Ke(c,l,G)}}break;case 5:ls(L,L.return);break;case 22:if(L.memoizedState!==null){$v(M);continue}}W!==null?(W.return=L,K=W):$v(M)}b=b.sibling}e:for(b=null,M=i;;){if(M.tag===5){if(b===null){b=M;try{d=M.stateNode,R?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(T=M.stateNode,C=M.memoizedProps.style,v=C!=null&&C.hasOwnProperty("display")?C.display:null,T.style.display=wg("display",v))}catch(G){Ke(i,i.return,G)}}}else if(M.tag===6){if(b===null)try{M.stateNode.nodeValue=R?"":M.memoizedProps}catch(G){Ke(i,i.return,G)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===i)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===i)break e;for(;M.sibling===null;){if(M.return===null||M.return===i)break e;b===M&&(b=null),M=M.return}b===M&&(b=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Cn(o,i),Nn(i),c&4&&Fv(i);break;case 21:break;default:Cn(o,i),Nn(i)}}function Nn(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Ov(l)){var c=l;break e}l=l.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Gs(d,""),c.flags&=-33);var m=Mv(i);Rf(i,m,d);break;case 3:case 4:var v=c.stateNode.containerInfo,T=Mv(i);Pf(i,T,v);break;default:throw Error(n(161))}}catch(C){Ke(i,i.return,C)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function K1(i,o,l){K=i,jv(i)}function jv(i,o,l){for(var c=(i.mode&1)!==0;K!==null;){var d=K,m=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Vl;if(!v){var T=d.alternate,C=T!==null&&T.memoizedState!==null||_t;T=Vl;var R=_t;if(Vl=v,(_t=C)&&!R)for(K=d;K!==null;)v=K,C=v.child,v.tag===22&&v.memoizedState!==null?zv(d):C!==null?(C.return=v,K=C):zv(d);for(;m!==null;)K=m,jv(m),m=m.sibling;K=d,Vl=T,_t=R}Bv(i)}else d.subtreeFlags&8772&&m!==null?(m.return=d,K=m):Bv(i)}}function Bv(i){for(;K!==null;){var o=K;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:_t||Fl(5,o);break;case 1:var c=o.stateNode;if(o.flags&4&&!_t)if(l===null)c.componentDidMount();else{var d=o.elementType===o.type?l.memoizedProps:Sn(o.type,l.memoizedProps);c.componentDidUpdate(d,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=o.updateQueue;m!==null&&Fy(o,m,c);break;case 3:var v=o.updateQueue;if(v!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Fy(o,v,l)}break;case 5:var T=o.stateNode;if(l===null&&o.flags&4){l=T;var C=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&l.focus();break;case"img":C.src&&(l.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var R=o.alternate;if(R!==null){var b=R.memoizedState;if(b!==null){var M=b.dehydrated;M!==null&&so(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_t||o.flags&512&&Af(o)}catch(L){Ke(o,o.return,L)}}if(o===i){K=null;break}if(l=o.sibling,l!==null){l.return=o.return,K=l;break}K=o.return}}function $v(i){for(;K!==null;){var o=K;if(o===i){K=null;break}var l=o.sibling;if(l!==null){l.return=o.return,K=l;break}K=o.return}}function zv(i){for(;K!==null;){var o=K;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Fl(4,o)}catch(C){Ke(o,l,C)}break;case 1:var c=o.stateNode;if(typeof c.componentDidMount=="function"){var d=o.return;try{c.componentDidMount()}catch(C){Ke(o,d,C)}}var m=o.return;try{Af(o)}catch(C){Ke(o,m,C)}break;case 5:var v=o.return;try{Af(o)}catch(C){Ke(o,v,C)}}}catch(C){Ke(o,o.return,C)}if(o===i){K=null;break}var T=o.sibling;if(T!==null){T.return=o.return,K=T;break}K=o.return}}var q1=Math.ceil,Ul=$.ReactCurrentDispatcher,Df=$.ReactCurrentOwner,un=$.ReactCurrentBatchConfig,Ce=0,ft=null,Je=null,vt=0,Jt=0,us=mr(0),st=0,Po=null,ri=0,jl=0,Nf=0,Ro=null,Bt=null,Lf=0,cs=1/0,qn=null,Bl=!1,bf=null,Tr=null,$l=!1,Sr=null,zl=0,Do=0,Of=null,Hl=-1,Wl=0;function Ot(){return Ce&6?Qe():Hl!==-1?Hl:Hl=Qe()}function Ir(i){return i.mode&1?Ce&2&&vt!==0?vt&-vt:R1.transition!==null?(Wl===0&&(Wl=Og()),Wl):(i=Ne,i!==0||(i=window.event,i=i===void 0?16:Hg(i.type)),i):1}function kn(i,o,l,c){if(50<Do)throw Do=0,Of=null,Error(n(185));eo(i,l,c),(!(Ce&2)||i!==ft)&&(i===ft&&(!(Ce&2)&&(jl|=l),st===4&&Cr(i,vt)),$t(i,c),l===1&&Ce===0&&!(o.mode&1)&&(cs=Qe()+500,wl&&yr()))}function $t(i,o){var l=i.callbackNode;R_(i,o);var c=el(i,i===ft?vt:0);if(c===0)l!==null&&Ng(l),i.callbackNode=null,i.callbackPriority=0;else if(o=c&-c,i.callbackPriority!==o){if(l!=null&&Ng(l),o===1)i.tag===0?P1(Wv.bind(null,i)):Py(Wv.bind(null,i)),k1(function(){!(Ce&6)&&yr()}),l=null;else{switch(Mg(c)){case 1:l=dh;break;case 4:l=Lg;break;case 16:l=Ya;break;case 536870912:l=bg;break;default:l=Ya}l=Zv(l,Hv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Hv(i,o){if(Hl=-1,Wl=0,Ce&6)throw Error(n(327));var l=i.callbackNode;if(hs()&&i.callbackNode!==l)return null;var c=el(i,i===ft?vt:0);if(c===0)return null;if(c&30||c&i.expiredLanes||o)o=Kl(i,c);else{o=c;var d=Ce;Ce|=2;var m=qv();(ft!==i||vt!==o)&&(qn=null,cs=Qe()+500,si(i,o));do try{Y1();break}catch(T){Kv(i,T)}while(!0);Jh(),Ul.current=m,Ce=d,Je!==null?o=0:(ft=null,vt=0,o=st)}if(o!==0){if(o===2&&(d=ph(i),d!==0&&(c=d,o=Mf(i,d))),o===1)throw l=Po,si(i,0),Cr(i,c),$t(i,Qe()),l;if(o===6)Cr(i,c);else{if(d=i.current.alternate,!(c&30)&&!G1(d)&&(o=Kl(i,c),o===2&&(m=ph(i),m!==0&&(c=m,o=Mf(i,m))),o===1))throw l=Po,si(i,0),Cr(i,c),$t(i,Qe()),l;switch(i.finishedWork=d,i.finishedLanes=c,o){case 0:case 1:throw Error(n(345));case 2:oi(i,Bt,qn);break;case 3:if(Cr(i,c),(c&130023424)===c&&(o=Lf+500-Qe(),10<o)){if(el(i,0)!==0)break;if(d=i.suspendedLanes,(d&c)!==c){Ot(),i.pingedLanes|=i.suspendedLanes&d;break}i.timeoutHandle=Bh(oi.bind(null,i,Bt,qn),o);break}oi(i,Bt,qn);break;case 4:if(Cr(i,c),(c&4194240)===c)break;for(o=i.eventTimes,d=-1;0<c;){var v=31-wn(c);m=1<<v,v=o[v],v>d&&(d=v),c&=~m}if(c=d,c=Qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*q1(c/1960))-c,10<c){i.timeoutHandle=Bh(oi.bind(null,i,Bt,qn),c);break}oi(i,Bt,qn);break;case 5:oi(i,Bt,qn);break;default:throw Error(n(329))}}}return $t(i,Qe()),i.callbackNode===l?Hv.bind(null,i):null}function Mf(i,o){var l=Ro;return i.current.memoizedState.isDehydrated&&(si(i,o).flags|=256),i=Kl(i,o),i!==2&&(o=Bt,Bt=l,o!==null&&Vf(o)),i}function Vf(i){Bt===null?Bt=i:Bt.push.apply(Bt,i)}function G1(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var d=l[c],m=d.getSnapshot;d=d.value;try{if(!En(m(),d))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cr(i,o){for(o&=~Nf,o&=~jl,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-wn(o),c=1<<l;i[l]=-1,o&=~c}}function Wv(i){if(Ce&6)throw Error(n(327));hs();var o=el(i,0);if(!(o&1))return $t(i,Qe()),null;var l=Kl(i,o);if(i.tag!==0&&l===2){var c=ph(i);c!==0&&(o=c,l=Mf(i,c))}if(l===1)throw l=Po,si(i,0),Cr(i,o),$t(i,Qe()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,oi(i,Bt,qn),$t(i,Qe()),null}function Ff(i,o){var l=Ce;Ce|=1;try{return i(o)}finally{Ce=l,Ce===0&&(cs=Qe()+500,wl&&yr())}}function ii(i){Sr!==null&&Sr.tag===0&&!(Ce&6)&&hs();var o=Ce;Ce|=1;var l=un.transition,c=Ne;try{if(un.transition=null,Ne=1,i)return i()}finally{Ne=c,un.transition=l,Ce=o,!(Ce&6)&&yr()}}function Uf(){Jt=us.current,Fe(us)}function si(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,C1(l)),Je!==null)for(l=Je.return;l!==null;){var c=l;switch(qh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&yl();break;case 3:os(),Fe(Ft),Fe(It),uf();break;case 5:af(c);break;case 4:os();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:Zh(c.type._context);break;case 22:case 23:Uf()}l=l.return}if(ft=i,Je=i=kr(i.current,null),vt=Jt=o,st=0,Po=null,Nf=jl=ri=0,Bt=Ro=null,ei!==null){for(o=0;o<ei.length;o++)if(l=ei[o],c=l.interleaved,c!==null){l.interleaved=null;var d=c.next,m=l.pending;if(m!==null){var v=m.next;m.next=d,c.next=v}l.pending=c}ei=null}return i}function Kv(i,o){do{var l=Je;try{if(Jh(),Rl.current=bl,Dl){for(var c=He.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Dl=!1}if(ni=0,ht=it=He=null,Io=!1,Co=0,Df.current=null,l===null||l.return===null){st=1,Po=o,Je=null;break}e:{var m=i,v=l.return,T=l,C=o;if(o=vt,T.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var R=C,b=T,M=b.tag;if(!(b.mode&1)&&(M===0||M===11||M===15)){var L=b.alternate;L?(b.updateQueue=L.updateQueue,b.memoizedState=L.memoizedState,b.lanes=L.lanes):(b.updateQueue=null,b.memoizedState=null)}var W=yv(v);if(W!==null){W.flags&=-257,vv(W,v,T,m,o),W.mode&1&&gv(m,R,o),o=W,C=R;var q=o.updateQueue;if(q===null){var G=new Set;G.add(C),o.updateQueue=G}else q.add(C);break e}else{if(!(o&1)){gv(m,R,o),jf();break e}C=Error(n(426))}}else if(je&&T.mode&1){var Ye=yv(v);if(Ye!==null){!(Ye.flags&65536)&&(Ye.flags|=256),vv(Ye,v,T,m,o),Yh(as(C,T));break e}}m=C=as(C,T),st!==4&&(st=2),Ro===null?Ro=[m]:Ro.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,o&=-o,m.lanes|=o;var A=pv(m,C,o);Vy(m,A);break e;case 1:T=C;var k=m.type,P=m.stateNode;if(!(m.flags&128)&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Tr===null||!Tr.has(P)))){m.flags|=65536,o&=-o,m.lanes|=o;var j=mv(m,T,o);Vy(m,j);break e}}m=m.return}while(m!==null)}Qv(l)}catch(Y){o=Y,Je===l&&l!==null&&(Je=l=l.return);continue}break}while(!0)}function qv(){var i=Ul.current;return Ul.current=bl,i===null?bl:i}function jf(){(st===0||st===3||st===2)&&(st=4),ft===null||!(ri&268435455)&&!(jl&268435455)||Cr(ft,vt)}function Kl(i,o){var l=Ce;Ce|=2;var c=qv();(ft!==i||vt!==o)&&(qn=null,si(i,o));do try{Q1();break}catch(d){Kv(i,d)}while(!0);if(Jh(),Ce=l,Ul.current=c,Je!==null)throw Error(n(261));return ft=null,vt=0,st}function Q1(){for(;Je!==null;)Gv(Je)}function Y1(){for(;Je!==null&&!T_();)Gv(Je)}function Gv(i){var o=Jv(i.alternate,i,Jt);i.memoizedProps=i.pendingProps,o===null?Qv(i):Je=o,Df.current=null}function Qv(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=z1(l,o),l!==null){l.flags&=32767,Je=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{st=6,Je=null;return}}else if(l=$1(l,o,Jt),l!==null){Je=l;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=i}while(o!==null);st===0&&(st=5)}function oi(i,o,l){var c=Ne,d=un.transition;try{un.transition=null,Ne=1,X1(i,o,l,c)}finally{un.transition=d,Ne=c}return null}function X1(i,o,l,c){do hs();while(Sr!==null);if(Ce&6)throw Error(n(327));l=i.finishedWork;var d=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var m=l.lanes|l.childLanes;if(D_(i,m),i===ft&&(Je=ft=null,vt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||$l||($l=!0,Zv(Ya,function(){return hs(),null})),m=(l.flags&15990)!==0,l.subtreeFlags&15990||m){m=un.transition,un.transition=null;var v=Ne;Ne=1;var T=Ce;Ce|=4,Df.current=null,W1(i,l),Uv(l,i),y1(Uh),rl=!!Fh,Uh=Fh=null,i.current=l,K1(l),S_(),Ce=T,Ne=v,un.transition=m}else i.current=l;if($l&&($l=!1,Sr=i,zl=d),m=i.pendingLanes,m===0&&(Tr=null),k_(l.stateNode),$t(i,Qe()),o!==null)for(c=i.onRecoverableError,l=0;l<o.length;l++)d=o[l],c(d.value,{componentStack:d.stack,digest:d.digest});if(Bl)throw Bl=!1,i=bf,bf=null,i;return zl&1&&i.tag!==0&&hs(),m=i.pendingLanes,m&1?i===Of?Do++:(Do=0,Of=i):Do=0,yr(),null}function hs(){if(Sr!==null){var i=Mg(zl),o=un.transition,l=Ne;try{if(un.transition=null,Ne=16>i?16:i,Sr===null)var c=!1;else{if(i=Sr,Sr=null,zl=0,Ce&6)throw Error(n(331));var d=Ce;for(Ce|=4,K=i.current;K!==null;){var m=K,v=m.child;if(K.flags&16){var T=m.deletions;if(T!==null){for(var C=0;C<T.length;C++){var R=T[C];for(K=R;K!==null;){var b=K;switch(b.tag){case 0:case 11:case 15:Ao(8,b,m)}var M=b.child;if(M!==null)M.return=b,K=M;else for(;K!==null;){b=K;var L=b.sibling,W=b.return;if(bv(b),b===R){K=null;break}if(L!==null){L.return=W,K=L;break}K=W}}}var q=m.alternate;if(q!==null){var G=q.child;if(G!==null){q.child=null;do{var Ye=G.sibling;G.sibling=null,G=Ye}while(G!==null)}}K=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,K=v;else e:for(;K!==null;){if(m=K,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Ao(9,m,m.return)}var A=m.sibling;if(A!==null){A.return=m.return,K=A;break e}K=m.return}}var k=i.current;for(K=k;K!==null;){v=K;var P=v.child;if(v.subtreeFlags&2064&&P!==null)P.return=v,K=P;else e:for(v=k;K!==null;){if(T=K,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:Fl(9,T)}}catch(Y){Ke(T,T.return,Y)}if(T===v){K=null;break e}var j=T.sibling;if(j!==null){j.return=T.return,K=j;break e}K=T.return}}if(Ce=d,yr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Xa,i)}catch{}c=!0}return c}finally{Ne=l,un.transition=o}}return!1}function Yv(i,o,l){o=as(l,o),o=pv(i,o,1),i=wr(i,o,1),o=Ot(),i!==null&&(eo(i,1,o),$t(i,o))}function Ke(i,o,l){if(i.tag===3)Yv(i,i,l);else for(;o!==null;){if(o.tag===3){Yv(o,i,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Tr===null||!Tr.has(c))){i=as(l,i),i=mv(o,i,1),o=wr(o,i,1),i=Ot(),o!==null&&(eo(o,1,i),$t(o,i));break}}o=o.return}}function J1(i,o,l){var c=i.pingCache;c!==null&&c.delete(o),o=Ot(),i.pingedLanes|=i.suspendedLanes&l,ft===i&&(vt&l)===l&&(st===4||st===3&&(vt&130023424)===vt&&500>Qe()-Lf?si(i,0):Nf|=l),$t(i,o)}function Xv(i,o){o===0&&(i.mode&1?(o=Za,Za<<=1,!(Za&130023424)&&(Za=4194304)):o=1);var l=Ot();i=Hn(i,o),i!==null&&(eo(i,o,l),$t(i,l))}function Z1(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Xv(i,l)}function ex(i,o){var l=0;switch(i.tag){case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=i.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(o),Xv(i,l)}var Jv;Jv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ft.current)jt=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return jt=!1,B1(i,o,l);jt=!!(i.flags&131072)}else jt=!1,je&&o.flags&1048576&&Ry(o,Tl,o.index);switch(o.lanes=0,o.tag){case 2:var c=o.type;Ml(i,o),i=o.pendingProps;var d=Zi(o,It.current);is(o,l),d=ff(null,o,c,i,d,l);var m=df();return o.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ut(c)?(m=!0,vl(o)):m=!1,o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,nf(o),d.updater=xl,o.stateNode=d,d._reactInternals=o,sf(o,c,i,l),o=Tf(null,o,c,!0,m,l)):(o.tag=0,je&&m&&Kh(o),bt(null,o,d,l),o=o.child),o;case 16:c=o.elementType;e:{switch(Ml(i,o),i=o.pendingProps,d=c._init,c=d(c._payload),o.type=c,d=o.tag=nx(c),i=Sn(c,i),d){case 0:o=Ef(null,o,c,i,l);break e;case 1:o=Cv(null,o,c,i,l);break e;case 11:o=wv(null,o,c,i,l);break e;case 14:o=Ev(null,o,c,Sn(c.type,i),l);break e}throw Error(n(306,c,""))}return o;case 0:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Sn(c,d),Ef(i,o,c,d,l);case 1:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Sn(c,d),Cv(i,o,c,d,l);case 3:e:{if(kv(o),i===null)throw Error(n(387));c=o.pendingProps,m=o.memoizedState,d=m.element,My(i,o),_l(o,c,null,l);var v=o.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){d=as(Error(n(423)),o),o=_v(i,o,c,l,d);break e}else if(c!==d){d=as(Error(n(424)),o),o=_v(i,o,c,l,d);break e}else for(Xt=pr(o.stateNode.containerInfo.firstChild),Yt=o,je=!0,Tn=null,l=Wy(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ns(),c===d){o=Kn(i,o,l);break e}bt(i,o,c,l)}o=o.child}return o;case 5:return Ky(o),i===null&&Qh(o),c=o.type,d=o.pendingProps,m=i!==null?i.memoizedProps:null,v=d.children,jh(c,d)?v=null:m!==null&&jh(c,m)&&(o.flags|=32),Iv(i,o),bt(i,o,v,l),o.child;case 6:return i===null&&Qh(o),null;case 13:return xv(i,o,l);case 4:return of(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=ss(o,null,c,l):bt(i,o,c,l),o.child;case 11:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Sn(c,d),wv(i,o,c,d,l);case 7:return bt(i,o,o.pendingProps,l),o.child;case 8:return bt(i,o,o.pendingProps.children,l),o.child;case 12:return bt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(c=o.type._context,d=o.pendingProps,m=o.memoizedProps,v=d.value,Oe(Il,c._currentValue),c._currentValue=v,m!==null)if(En(m.value,v)){if(m.children===d.children&&!Ft.current){o=Kn(i,o,l);break e}}else for(m=o.child,m!==null&&(m.return=o);m!==null;){var T=m.dependencies;if(T!==null){v=m.child;for(var C=T.firstContext;C!==null;){if(C.context===c){if(m.tag===1){C=Wn(-1,l&-l),C.tag=2;var R=m.updateQueue;if(R!==null){R=R.shared;var b=R.pending;b===null?C.next=C:(C.next=b.next,b.next=C),R.pending=C}}m.lanes|=l,C=m.alternate,C!==null&&(C.lanes|=l),ef(m.return,l,o),T.lanes|=l;break}C=C.next}}else if(m.tag===10)v=m.type===o.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=l,T=v.alternate,T!==null&&(T.lanes|=l),ef(v,l,o),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===o){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}bt(i,o,d.children,l),o=o.child}return o;case 9:return d=o.type,c=o.pendingProps.children,is(o,l),d=an(d),c=c(d),o.flags|=1,bt(i,o,c,l),o.child;case 14:return c=o.type,d=Sn(c,o.pendingProps),d=Sn(c.type,d),Ev(i,o,c,d,l);case 15:return Tv(i,o,o.type,o.pendingProps,l);case 17:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Sn(c,d),Ml(i,o),o.tag=1,Ut(c)?(i=!0,vl(o)):i=!1,is(o,l),By(o,c,d),sf(o,c,d,l),Tf(null,o,c,!0,i,l);case 19:return Pv(i,o,l);case 22:return Sv(i,o,l)}throw Error(n(156,o.tag))};function Zv(i,o){return Dg(i,o)}function tx(i,o,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(i,o,l,c){return new tx(i,o,l,c)}function Bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function nx(i){if(typeof i=="function")return Bf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===be)return 11;if(i===rt)return 14}return 2}function kr(i,o){var l=i.alternate;return l===null?(l=cn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function ql(i,o,l,c,d,m){var v=2;if(c=i,typeof i=="function")Bf(i)&&(v=1);else if(typeof i=="string")v=5;else e:switch(i){case se:return ai(l.children,d,m,o);case te:v=8,d|=8;break;case me:return i=cn(12,l,o,d|2),i.elementType=me,i.lanes=m,i;case Le:return i=cn(13,l,o,d),i.elementType=Le,i.lanes=m,i;case Re:return i=cn(19,l,o,d),i.elementType=Re,i.lanes=m,i;case Ee:return Gl(l,d,m,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $e:v=10;break e;case nt:v=9;break e;case be:v=11;break e;case rt:v=14;break e;case Se:v=16,c=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=cn(v,l,o,d),o.elementType=i,o.type=c,o.lanes=m,o}function ai(i,o,l,c){return i=cn(7,i,c,o),i.lanes=l,i}function Gl(i,o,l,c){return i=cn(22,i,c,o),i.elementType=Ee,i.lanes=l,i.stateNode={isHidden:!1},i}function $f(i,o,l){return i=cn(6,i,null,o),i.lanes=l,i}function zf(i,o,l){return o=cn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function rx(i,o,l,c,d){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mh(0),this.expirationTimes=mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mh(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Hf(i,o,l,c,d,m,v,T,C){return i=new rx(i,o,l,T,C),o===1?(o=1,m===!0&&(o|=8)):o=0,m=cn(3,null,null,o),i.current=m,m.stateNode=i,m.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(m),i}function ix(i,o,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:i,containerInfo:o,implementation:l}}function ew(i){if(!i)return gr;i=i._reactInternals;e:{if(Qr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Ut(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(Ut(l))return xy(i,l,o)}return o}function tw(i,o,l,c,d,m,v,T,C){return i=Hf(l,c,!0,i,d,m,v,T,C),i.context=ew(null),l=i.current,c=Ot(),d=Ir(l),m=Wn(c,d),m.callback=o??null,wr(l,m,d),i.current.lanes=d,eo(i,d,c),$t(i,c),i}function Ql(i,o,l,c){var d=o.current,m=Ot(),v=Ir(d);return l=ew(l),o.context===null?o.context=l:o.pendingContext=l,o=Wn(m,v),o.payload={element:i},c=c===void 0?null:c,c!==null&&(o.callback=c),i=wr(d,o,v),i!==null&&(kn(i,d,v,m),kl(i,d,v)),v}function Yl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function nw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Wf(i,o){nw(i,o),(i=i.alternate)&&nw(i,o)}function sx(){return null}var rw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Kf(i){this._internalRoot=i}Xl.prototype.render=Kf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Ql(i,o,null,null)},Xl.prototype.unmount=Kf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ii(function(){Ql(null,i,null,null)}),o[jn]=null}};function Xl(i){this._internalRoot=i}Xl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ug();i={blockedOn:null,target:i,priority:o};for(var l=0;l<hr.length&&o!==0&&o<hr[l].priority;l++);hr.splice(l,0,i),l===0&&$g(i)}};function qf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Jl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function iw(){}function ox(i,o,l,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var R=Yl(v);m.call(R)}}var v=tw(o,c,i,0,null,!1,!1,"",iw);return i._reactRootContainer=v,i[jn]=v.current,mo(i.nodeType===8?i.parentNode:i),ii(),v}for(;d=i.lastChild;)i.removeChild(d);if(typeof c=="function"){var T=c;c=function(){var R=Yl(C);T.call(R)}}var C=Hf(i,0,!1,null,null,!1,!1,"",iw);return i._reactRootContainer=C,i[jn]=C.current,mo(i.nodeType===8?i.parentNode:i),ii(function(){Ql(o,C,l,c)}),C}function Zl(i,o,l,c,d){var m=l._reactRootContainer;if(m){var v=m;if(typeof d=="function"){var T=d;d=function(){var C=Yl(v);T.call(C)}}Ql(o,v,i,d)}else v=ox(l,o,i,d,c);return Yl(v)}Vg=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Zs(o.pendingLanes);l!==0&&(gh(o,l|1),$t(o,Qe()),!(Ce&6)&&(cs=Qe()+500,yr()))}break;case 13:ii(function(){var c=Hn(i,1);if(c!==null){var d=Ot();kn(c,i,1,d)}}),Wf(i,1)}},yh=function(i){if(i.tag===13){var o=Hn(i,134217728);if(o!==null){var l=Ot();kn(o,i,134217728,l)}Wf(i,134217728)}},Fg=function(i){if(i.tag===13){var o=Ir(i),l=Hn(i,o);if(l!==null){var c=Ot();kn(l,i,o,c)}Wf(i,o)}},Ug=function(){return Ne},jg=function(i,o){var l=Ne;try{return Ne=i,o()}finally{Ne=l}},uh=function(i,o,l){switch(o){case"input":if(th(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==i&&c.form===i.form){var d=gl(c);if(!d)throw Error(n(90));Zc(c),th(c,d)}}}break;case"textarea":mg(i,l);break;case"select":o=l.value,o!=null&&Bi(i,!!l.multiple,o,!1)}},Cg=Ff,kg=ii;var ax={usingClientEntryPoint:!1,Events:[vo,Xi,gl,Sg,Ig,Ff]},No={findFiberByHostInstance:Yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lx={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Pg(i),i===null?null:i.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{Xa=eu.inject(lx),An=eu}catch{}}return zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax,zt.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(o))throw Error(n(200));return ix(i,o,null,l)},zt.createRoot=function(i,o){if(!qf(i))throw Error(n(299));var l=!1,c="",d=rw;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(d=o.onRecoverableError)),o=Hf(i,1,!1,null,null,l,!1,c,d),i[jn]=o.current,mo(i.nodeType===8?i.parentNode:i),new Kf(o)},zt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Pg(o),i=i===null?null:i.stateNode,i},zt.flushSync=function(i){return ii(i)},zt.hydrate=function(i,o,l){if(!Jl(o))throw Error(n(200));return Zl(null,i,o,!0,l)},zt.hydrateRoot=function(i,o,l){if(!qf(i))throw Error(n(405));var c=l!=null&&l.hydratedSources||null,d=!1,m="",v=rw;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),o=tw(o,null,i,1,l??null,d,!1,m,v),i[jn]=o.current,mo(i),c)for(i=0;i<c.length;i++)l=c[i],d=l._getVersion,d=d(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,d]:o.mutableSourceEagerHydrationData.push(l,d);return new Xl(o)},zt.render=function(i,o,l){if(!Jl(o))throw Error(n(200));return Zl(null,i,o,!1,l)},zt.unmountComponentAtNode=function(i){if(!Jl(i))throw Error(n(40));return i._reactRootContainer?(ii(function(){Zl(null,null,i,!1,function(){i._reactRootContainer=null,i[jn]=null})}),!0):!1},zt.unstable_batchedUpdates=Ff,zt.unstable_renderSubtreeIntoContainer=function(i,o,l,c){if(!Jl(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Zl(i,o,l,!1,c)},zt.version="18.2.0-next-9e3b772b8-20220608",zt}var fw;function gx(){if(fw)return Yf.exports;fw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yf.exports=mx(),Yf.exports}var dw;function yx(){if(dw)return tu;dw=1;var t=gx();return tu.createRoot=t.createRoot,tu.hydrateRoot=t.hydrateRoot,tu}var vx=yx();const wx=tT(vx),Ex="modulepreload",Tx=function(t){return"/"+t},pw={},vn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(n.map(f=>{if(f=Tx(f),f in pw)return;pw[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Ex,p||(y.as="script"),y.crossOrigin="",y.href=f,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((w,E)=>{y.addEventListener("load",w),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};/**
 * @remix-run/router v1.0.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const mw="popstate";function Sx(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return bd("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ea(s)}return kx(e,n,null,t)}function Ix(){return Math.random().toString(36).substr(2,8)}function gw(t){return{usr:t.state,key:t.key}}function bd(t,e,n,r){return n===void 0&&(n=null),Iu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ms(e):e,{state:n,key:e&&e.key||r||Ix()})}function ea(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ms(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Cx(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",n=typeof t=="string"?t:ea(t);return new URL(n,e)}function kx(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h=br.Pop,f=null;function p(){h=br.Pop,f&&f({action:h,location:w.location})}function g(E,S){h=br.Push;let _=bd(w.location,E,S),D=gw(_),F=w.createHref(_);try{u.pushState(D,"",F)}catch{s.location.assign(F)}a&&f&&f({action:h,location:w.location})}function y(E,S){h=br.Replace;let _=bd(w.location,E,S),D=gw(_),F=w.createHref(_);u.replaceState(D,"",F),a&&f&&f({action:h,location:w.location})}let w={get action(){return h},get location(){return t(s,u)},listen(E){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(mw,p),f=E,()=>{s.removeEventListener(mw,p),f=null}},createHref(E){return e(s,E)},encodeLocation(E){let S=Cx(typeof E=="string"?E:ea(E));return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(E){return u.go(E)}};return w}var yw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yw||(yw={}));function _x(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ms(e):e,s=rT(r.pathname||"/",n);if(s==null)return null;let a=nT(t);xx(a);let u=null;for(let h=0;u==null&&h<a.length;++h)u=Mx(a[h],Ux(s));return u}function nT(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((s,a)=>{let u={relativePath:s.path||"",caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(mt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Or([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),nT(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:bx(h,s.index),routesMeta:f})}),e}function xx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ox(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ax=/^:\w+$/,Px=3,Rx=2,Dx=1,Nx=10,Lx=-2,vw=t=>t==="*";function bx(t,e){let n=t.split("/"),r=n.length;return n.some(vw)&&(r+=Lx),e&&(r+=Rx),n.filter(s=>!vw(s)).reduce((s,a)=>s+(Ax.test(a)?Px:a===""?Dx:Nx),r)}function Ox(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Mx(t,e){let{routesMeta:n}=t,r={},s="/",a=[];for(let u=0;u<n.length;++u){let h=n[u],f=u===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Vx({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p);if(!g)return null;Object.assign(r,g.params);let y=h.route;a.push({params:r,pathname:Or([s,g.pathname]),pathnameBase:zx(Or([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Or([s,g.pathnameBase]))}return a}function Vx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Fx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,g,y)=>{if(g==="*"){let w=h[y]||"";u=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}return p[g]=jx(h[y]||"",g),p},{}),pathname:a,pathnameBase:u,pattern:t}}function Fx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Np(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(u,h)=>(r.push(h),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Ux(t){try{return decodeURI(t)}catch(e){return Np(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jx(t,e){try{return decodeURIComponent(t)}catch(n){return Np(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function rT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Np(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ms(t):t;return{pathname:n?n.startsWith("/")?n:$x(n,e):e,search:Hx(r),hash:Wx(s)}}function $x(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sT(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ms(t):(s=Iu({},t),mt(!s.pathname||!s.pathname.includes("?"),Zf("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Zf("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Zf("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,h;if(r||u==null)h=n;else{let y=e.length-1;if(u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}h=y>=0?e[y]:"/"}let f=Bx(s,h),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const Or=t=>t.join("/").replace(/\/\/+/g,"/"),zx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Kx{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function qx(t){return t instanceof Kx}const oT=["post","put","patch","delete"];new Set(oT);const Gx=["get",...oT];new Set(Gx);/**
 * React Router v6.4.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Od.apply(this,arguments)}const Qx=x.createContext(null),Yx=x.createContext(null),aT=x.createContext(null),nc=x.createContext(null),rc=x.createContext(null),Vs=x.createContext({outlet:null,matches:[]}),lT=x.createContext(null);function Xx(t,e){let{relative:n}=e===void 0?{}:e;Ea()||mt(!1);let{basename:r,navigator:s}=x.useContext(nc),{hash:a,pathname:u,search:h}=cT(t,{relative:n}),f=u;return r!=="/"&&(f=u==="/"?r:Or([r,u])),s.createHref({pathname:f,search:h,hash:a})}function Ea(){return x.useContext(rc)!=null}function ic(){return Ea()||mt(!1),x.useContext(rc).location}function uT(){Ea()||mt(!1);let{basename:t,navigator:e}=x.useContext(nc),{matches:n}=x.useContext(Vs),{pathname:r}=ic(),s=JSON.stringify(iT(n).map(h=>h.pathnameBase)),a=x.useRef(!1);return x.useEffect(()=>{a.current=!0}),x.useCallback(function(h,f){if(f===void 0&&(f={}),!a.current)return;if(typeof h=="number"){e.go(h);return}let p=sT(h,JSON.parse(s),r,f.relative==="path");t!=="/"&&(p.pathname=p.pathname==="/"?t:Or([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,s,r])}function p$(){let{matches:t}=x.useContext(Vs),e=t[t.length-1];return e?e.params:{}}function cT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(Vs),{pathname:s}=ic(),a=JSON.stringify(iT(r).map(u=>u.pathnameBase));return x.useMemo(()=>sT(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Jx(t,e){Ea()||mt(!1);let{navigator:n}=x.useContext(nc),r=x.useContext(aT),{matches:s}=x.useContext(Vs),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let f=ic(),p;if(e){var g;let _=typeof e=="string"?Ms(e):e;h==="/"||(g=_.pathname)!=null&&g.startsWith(h)||mt(!1),p=_}else p=f;let y=p.pathname||"/",w=h==="/"?y:y.slice(h.length)||"/",E=_x(t,{pathname:w}),S=nA(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Or([h,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:Or([h,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r||void 0);return e&&S?x.createElement(rc.Provider,{value:{location:Od({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:br.Pop}},S):S}function Zx(){let t=iA(),e=qx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unhandled Thrown Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",x.createElement("code",{style:a},"errorElement")," props on",x.createElement("code",{style:a},"<Route>")))}class eA extends x.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(lT.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function tA(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(Qx);return s&&n.route.errorElement&&(s._deepestRenderedBoundaryId=n.route.id),x.createElement(Vs.Provider,{value:e},r)}function nA(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,s=n==null?void 0:n.errors;if(s!=null){let a=r.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id]));a>=0||mt(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,u,h)=>{let f=u.route.id?s==null?void 0:s[u.route.id]:null,p=n?u.route.errorElement||x.createElement(Zx,null):null,g=()=>x.createElement(tA,{match:u,routeContext:{outlet:a,matches:e.concat(r.slice(0,h+1))}},f?p:u.route.element!==void 0?u.route.element:a);return n&&(u.route.errorElement||h===0)?x.createElement(eA,{location:n.location,component:p,error:f,children:g()}):g()},null)}var ww;(function(t){t.UseRevalidator="useRevalidator"})(ww||(ww={}));var Md;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Md||(Md={}));function rA(t){let e=x.useContext(aT);return e||mt(!1),e}function iA(){var t;let e=x.useContext(lT),n=rA(Md.UseRouteError),r=x.useContext(Vs),s=r.matches[r.matches.length-1];return e||(r||mt(!1),s.route.id||mt(!1),(t=n.errors)==null?void 0:t[s.route.id])}function Ht(t){mt(!1)}function sA(t){let{basename:e="/",children:n=null,location:r,navigationType:s=br.Pop,navigator:a,static:u=!1}=t;Ea()&&mt(!1);let h=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:h,navigator:a,static:u}),[h,a,u]);typeof r=="string"&&(r=Ms(r));let{pathname:p="/",search:g="",hash:y="",state:w=null,key:E="default"}=r,S=x.useMemo(()=>{let _=rT(p,h);return _==null?null:{pathname:_,search:g,hash:y,state:w,key:E}},[h,p,g,y,w,E]);return S==null?null:x.createElement(nc.Provider,{value:f},x.createElement(rc.Provider,{children:n,value:{location:S,navigationType:s}}))}function oA(t){let{children:e,location:n}=t,r=x.useContext(Yx),s=r&&!e?r.router.routes:Vd(e);return Jx(s,n)}var Ew;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Ew||(Ew={}));new Promise(()=>{});function Vd(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;if(r.type===x.Fragment){n.push.apply(n,Vd(r.props.children,e));return}r.type!==Ht&&mt(!1),!r.props.index||!r.props.children||mt(!1);let a=[...e,s],u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(u.children=Vd(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.4.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}function aA(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function lA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uA(t,e){return t.button===0&&(!e||e==="_self")&&!lA(t)}const cA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function hA(t){let{basename:e,children:n,window:r}=t,s=x.useRef();s.current==null&&(s.current=Sx({window:r,v5Compat:!0}));let a=s.current,[u,h]=x.useState({action:a.action,location:a.location});return x.useLayoutEffect(()=>a.listen(h),[a]),x.createElement(sA,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a})}const ci=x.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:g}=e,y=aA(e,cA),w=Xx(p,{relative:s}),E=fA(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:s});function S(_){r&&r(_),_.defaultPrevented||E(_)}return x.createElement("a",Fd({},y,{href:w,onClick:a?r:S,ref:n,target:f}))});var Tw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Tw||(Tw={}));var Sw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sw||(Sw={}));function fA(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:u}=e===void 0?{}:e,h=uT(),f=ic(),p=cT(t,{relative:u});return x.useCallback(g=>{if(uA(g,n)){g.preventDefault();let y=r!==void 0?r:ea(f)===ea(p);h(t,{replace:y,state:s,preventScrollReset:a,relative:u})}},[f,h,p,r,s,n,t,a,u])}const Lp=x.createContext(null);function dA({children:t}){const[e,n]=x.useState(null);return z.jsx(Lp.Provider,{value:{User:e,setUser:n},children:t})}var Iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],h=t[n++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,h=u?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,g=a>>2,y=(a&3)<<4|h>>4;let w=(h&15)<<2|p>>6,E=p&63;f||(E=64,u||(w=64)),r.push(n[g],n[y],n[w],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||y==null)throw Error();const w=a<<2|h>>4;if(r.push(w),p!==64){const E=h<<4&240|p>>2;if(r.push(E),y!==64){const S=p<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mA=function(t){const e=hT(t);return fT.encodeByteArray(e,!0)},Cu=function(t){return mA(t).replace(/\./g,"")},dT=function(t){try{return fT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function pT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mT(){return typeof indexedDB=="object"}function gT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function wA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=()=>EA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof Iw>"u")return;const t=Iw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dT(t[1]);return e&&JSON.parse(e)},bp=()=>{try{return TA()||SA()||IA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yT=t=>{var e,n;return(n=(e=bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CA=t=>{const e=yT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kA=()=>{var t;return(t=bp())===null||t===void 0?void 0:t.config},vT=t=>{var e;return(e=bp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cu(JSON.stringify(n)),Cu(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="FirebaseError";class xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AA,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Li.prototype.create)}}class Li{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?PA(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new xn(s,h,r)}}function PA(t,e){return t.replace(RA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const RA=/\{\$([^}]+)}/g;function DA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ta(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(Cw(a)&&Cw(u)){if(!ta(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Fo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NA(t,e){const n=new LA(t,e);return n.subscribe.bind(n)}class LA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ed),s.error===void 0&&(s.error=ed),s.complete===void 0&&(s.complete=ed);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ed(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=1e3,MA=2,VA=4*60*60*1e3,FA=.5;function kw(t,e=OA,n=MA){const r=e*Math.pow(n,t),s=Math.round(FA*r*(Math.random()-.5)*2);return Math.min(VA,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class _n{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _A;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BA(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(t){return t===hi?void 0:t}function BA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const zA={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},HA=xe.INFO,WA={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},KA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sc{constructor(e){this.name=e,this._logLevel=HA,this._logHandler=KA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const qA=(t,e)=>e.some(n=>t instanceof n);let _w,xw;function GA(){return _w||(_w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return xw||(xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,Ud=new WeakMap,ET=new WeakMap,td=new WeakMap,Op=new WeakMap;function YA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Mr(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,t)}).catch(()=>{}),Op.set(e,t),e}function XA(t){if(Ud.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Ud.set(t,e)}let jd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ud.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JA(t){jd=t(jd)}function ZA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nd(this),e,...n);return ET.set(r,e.sort?e.sort():[e]),Mr(r)}:QA().includes(t)?function(...e){return t.apply(nd(this),e),Mr(wT.get(this))}:function(...e){return Mr(t.apply(nd(this),e))}}function eP(t){return typeof t=="function"?ZA(t):(t instanceof IDBTransaction&&XA(t),qA(t,GA())?new Proxy(t,jd):t)}function Mr(t){if(t instanceof IDBRequest)return YA(t);if(td.has(t))return td.get(t);const e=eP(t);return e!==t&&(td.set(t,e),Op.set(e,t)),e}const nd=t=>Op.get(t);function TT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),h=Mr(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Mr(u.result),f.oldVersion,f.newVersion,Mr(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",()=>s())}).catch(()=>{}),h}const tP=["get","getKey","getAll","getAllKeys","count"],nP=["put","add","delete","clear"],rd=new Map;function Aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rd.get(e))return rd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tP.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&f.done]))[0]};return rd.set(e,a),a}JA(t=>({...t,get:(e,n,r)=>Aw(e,n)||t.get(e,n,r),has:(e,n)=>!!Aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bd="@firebase/app",Pw="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new sc("@firebase/app"),sP="@firebase/app-compat",oP="@firebase/analytics-compat",aP="@firebase/analytics",lP="@firebase/app-check-compat",uP="@firebase/app-check",cP="@firebase/auth",hP="@firebase/auth-compat",fP="@firebase/database",dP="@firebase/database-compat",pP="@firebase/functions",mP="@firebase/functions-compat",gP="@firebase/installations",yP="@firebase/installations-compat",vP="@firebase/messaging",wP="@firebase/messaging-compat",EP="@firebase/performance",TP="@firebase/performance-compat",SP="@firebase/remote-config",IP="@firebase/remote-config-compat",CP="@firebase/storage",kP="@firebase/storage-compat",_P="@firebase/firestore",xP="@firebase/firestore-compat",AP="firebase",PP="9.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",RP={[Bd]:"fire-core",[sP]:"fire-core-compat",[aP]:"fire-analytics",[oP]:"fire-analytics-compat",[uP]:"fire-app-check",[lP]:"fire-app-check-compat",[cP]:"fire-auth",[hP]:"fire-auth-compat",[fP]:"fire-rtdb",[dP]:"fire-rtdb-compat",[pP]:"fire-fn",[mP]:"fire-fn-compat",[gP]:"fire-iid",[yP]:"fire-iid-compat",[vP]:"fire-fcm",[wP]:"fire-fcm-compat",[EP]:"fire-perf",[TP]:"fire-perf-compat",[SP]:"fire-rc",[IP]:"fire-rc-compat",[CP]:"fire-gcs",[kP]:"fire-gcs-compat",[_P]:"fire-fst",[xP]:"fire-fst-compat","fire-js":"fire-js",[AP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,zd=new Map;function DP(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fn(t){const e=t.name;if(zd.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;zd.set(e,t);for(const n of ku.values())DP(n,t);return!0}function bi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vr=new Li("app","Firebase",NP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=PP;function ST(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$d,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Vr.create("bad-app-name",{appName:String(s)});if(n||(n=kA()),!n)throw Vr.create("no-options");const a=ku.get(s);if(a){if(ta(n,a.options)&&ta(r,a.config))return a;throw Vr.create("duplicate-app",{appName:s})}const u=new $A(s);for(const f of zd.values())u.addComponent(f);const h=new LP(n,r,u);return ku.set(s,h),h}function Mp(t=$d){const e=ku.get(t);if(!e&&t===$d)return ST();if(!e)throw Vr.create("no-app",{appName:t});return e}function pn(t,e,n){var r;let s=(r=RP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(h.join(" "));return}Fn(new _n(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="firebase-heartbeat-database",OP=1,na="firebase-heartbeat-store";let id=null;function IT(){return id||(id=TT(bP,OP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(na)}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),id}async function MP(t){var e;try{return(await IT()).transaction(na).objectStore(na).get(CT(t))}catch(n){if(n instanceof xn)ki.warn(n.message);else{const r=Vr.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});ki.warn(r.message)}}}async function Rw(t,e){var n;try{const s=(await IT()).transaction(na,"readwrite");return await s.objectStore(na).put(e,CT(t)),s.done}catch(r){if(r instanceof xn)ki.warn(r.message);else{const s=Vr.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});ki.warn(s.message)}}}function CT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=1024,FP=30*24*60*60*1e3;class UP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=FP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dw(),{heartbeatsToSend:n,unsentEntries:r}=jP(this._heartbeatsCache.heartbeats),s=Cu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Dw(){return new Date().toISOString().substring(0,10)}function jP(t,e=VP){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Nw(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Nw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await MP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nw(t){return Cu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){Fn(new _n("platform-logger",e=>new rP(e),"PRIVATE")),Fn(new _n("heartbeat",e=>new UP(e),"PRIVATE")),pn(Bd,Pw,t),pn(Bd,Pw,"esm2017"),pn("fire-js","")}$P("");function Vp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zP=kT,_T=new Li("auth","Firebase",kT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new sc("@firebase/auth");function pu(t,...e){Lw.logLevel<=xe.ERROR&&Lw.error(`Auth (${Sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw Fp(t,...e)}function bn(t,...e){return Fp(t,...e)}function xT(t,e,n){const r=Object.assign(Object.assign({},zP()),{[e]:n});return new Li("auth","Firebase",r).create(e,{appName:t.name})}function HP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yn(t,"argument-error"),xT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _T.create(t,...e)}function ue(t,e,...n){if(!t)throw Fp(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pu(e),new Error(e)}function nr(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Map;function Qn(t){nr(t instanceof Function,"Expected a class definition");let e=bw.get(t);return e?(nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bw.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t,e){const n=bi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ta(a,e??{}))return s;yn(s,"already-initialized")}return n.initialize({options:e})}function KP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qP(){return Ow()==="http:"||Ow()==="https:"}function Ow(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qP()||pT()||"connection"in navigator)?navigator.onLine:!0}function QP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=gA()||yA()}get(){return GP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t,e){nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new Ia(3e4,6e4);function Ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fs(t,e,n,r,s={}){return PT(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Ta(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),AT.fetch()(RT(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},a))})}async function PT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YP),e);try{const s=new JP(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw nu(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw nu(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw nu(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw nu(t,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw xT(t,g,p);yn(t,g)}}catch(s){if(s instanceof xn)throw s;yn(t,"network-request-failed")}}async function ka(t,e,n,r,s={}){const a=await Fs(t,e,n,r,s);return"mfaPendingCredential"in a&&yn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function RT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Up(t.config,s):`${t.config.apiScheme}://${s}`}class JP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),XP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=bn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e){return Fs(t,"POST","/v1/accounts:delete",e)}async function eR(t,e){return Fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tR(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=jp(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:zo(sd(s.auth_time)),issuedAtTime:zo(sd(s.iat)),expirationTime:zo(sd(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sd(t){return Number(t)*1e3}function jp(t){var e;const[n,r,s]=t.split(".");if(n===void 0||r===void 0||s===void 0)return pu("JWT malformed, contained fewer than 3 sections"),null;try{const a=dT(r);return a?JSON.parse(a):(pu("Failed to decode base64 JWT payload"),null)}catch(a){return pu("Caught error parsing JWT payload as JSON",(e=a)===null||e===void 0?void 0:e.toString()),null}}function nR(t){const e=jp(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xn&&rR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Cs(t,eR(n,{idToken:r}));ue(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?aR(a.providerUserInfo):[],h=oR(t.providerData,u),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),g=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new DT(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function sR(t){const e=lt(t);await _u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function aR(t){return t.map(e=>{var{providerId:n}=e,r=Vp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e){const n=await PT(t,{},async()=>{const r=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=RT(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",AT.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await lR(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new ra;return r&&(ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new DT(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Cs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tR(this,e)}reload(){return sR(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _u(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Cs(this,ZP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,h,f,p,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(s=n.email)!==null&&s!==void 0?s:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,_=(h=n.tenantId)!==null&&h!==void 0?h:void 0,D=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,F=(p=n.createdAt)!==null&&p!==void 0?p:void 0,V=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:O,emailVerified:$,isAnonymous:J,providerData:ce,stsTokenManager:se}=n;ue(O&&se,e,"internal-error");const te=ra.fromJSON(this.name,se);ue(typeof O=="string",e,"internal-error"),xr(y,e.name),xr(w,e.name),ue(typeof $=="boolean",e,"internal-error"),ue(typeof J=="boolean",e,"internal-error"),xr(E,e.name),xr(S,e.name),xr(_,e.name),xr(D,e.name),xr(F,e.name),xr(V,e.name);const me=new Ti({uid:O,auth:e,email:w,emailVerified:$,displayName:y,isAnonymous:J,photoURL:S,phoneNumber:E,tenantId:_,stsTokenManager:te,createdAt:F,lastLoginAt:V});return ce&&Array.isArray(ce)&&(me.providerData=ce.map($e=>Object.assign({},$e))),D&&(me._redirectEventId=D),me}static async _fromIdTokenResponse(e,n,r=!1){const s=new ra;s.updateFromServerResponse(n);const a=new Ti({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _u(a),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NT.type="NONE";const Mw=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e,n){return`firebase:${t}:${e}:${n}`}class ws{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=mu(this.userKey,s.apiKey,a),this.fullPersistenceKey=mu("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ws(Qn(Mw),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Qn(Mw);const u=mu(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(u);if(g){const y=Ti._fromJSON(e,g);p!==a&&(h=y),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ws(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ws(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(FT(e))return"Webos";if(Bp(e))return"Safari";if((e.includes("chrome/")||bT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LT(t=Nt()){return/firefox\//i.test(t)}function Bp(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bT(t=Nt()){return/crios\//i.test(t)}function OT(t=Nt()){return/iemobile/i.test(t)}function MT(t=Nt()){return/android/i.test(t)}function VT(t=Nt()){return/blackberry/i.test(t)}function FT(t=Nt()){return/webos/i.test(t)}function oc(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uR(t=Nt()){var e;return oc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cR(){return vA()&&document.documentMode===10}function UT(t=Nt()){return oc(t)||MT(t)||FT(t)||VT(t)||/windows phone/i.test(t)||OT(t)}function hR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e=[]){let n;switch(t){case"Browser":n=Vw(Nt());break;case"Worker":n=`${Vw(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=s)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fw(this),this.idTokenSubscription=new Fw(this),this.beforeStateQueue=new fR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ws.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await _u(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?lt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Li("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await ws.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),u=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(u,this,"internal-error"),u.then(()=>a(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Us(t){return lt(t)}class Fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=NA(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pR(t,e,n){const r=Us(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=BT(e),{host:u,port:h}=mR(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),gR()}function BT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mR(t){const e=BT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Uw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Uw(u)}}}function Uw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function yR(t,e){return Fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(t,e){return ka(t,"POST","/v1/accounts:signInWithPassword",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e){return ka(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}async function ER(t,e){return ka(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends $p{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ia(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ia(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vR(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return wR(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return yR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ER(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(t,e){return ka(t,"POST","/v1/accounts:signInWithIdp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="http://localhost";class _i extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Vp(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new _i(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Es(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Es(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Es(e,n)}buildRequest(){const e={requestUri:TR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ta(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IR(t){const e=Vo(Fo(t)).link,n=e?Vo(Fo(e)).deep_link_id:null,r=Vo(Fo(t)).deep_link_id;return(r?Vo(Fo(r)).link:null)||r||n||e||t}class zp{constructor(e){var n,r,s,a,u,h;const f=Vo(Fo(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,y=SR((s=f.mode)!==null&&s!==void 0?s:null);ue(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=IR(e);try{return new zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.providerId=js.PROVIDER_ID}static credential(e,n){return ia._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zp.parseLink(n);return ue(r,"argument-error"),ia._fromEmailAndCode(e,r.code,r.tenantId)}}js.PROVIDER_ID="password";js.EMAIL_PASSWORD_SIGN_IN_METHOD="password";js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends _a{constructor(){super("facebook.com")}static credential(e){return _i._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends _a{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _i._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends _a{constructor(){super("github.com")}static credential(e){return _i._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends _a{constructor(){super("twitter.com")}static credential(e,n){return _i._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e){return ka(t,"POST","/v1/accounts:signUp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Ti._fromIdTokenResponse(e,r,s),u=jw(r);return new xi({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jw(r);return new xi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends xn{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xu.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xu(e,n,r,s)}}function $T(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xu._fromErrorAndOperation(t,a,e,r):a})}async function kR(t,e,n=!1){const r=await Cs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e,n=!1){var r;const{auth:s}=t,a="reauthenticate";try{const u=await Cs(t,$T(s,a,e,t),n);ue(u.idToken,s,"internal-error");const h=jp(u.idToken);ue(h,s,"internal-error");const{sub:f}=h;return ue(t.uid===f,s,"user-mismatch"),xi._forOperation(t,a,u)}catch(u){throw((r=u)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(t,e,n=!1){const r="signIn",s=await $T(t,r,e),a=await xi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function xR(t,e){return zT(Us(t),e)}async function m$(t,e,n){const r=Us(t),s=await CR(r,{returnSecureToken:!0,email:e,password:n}),a=await xi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function g$(t,e,n){return xR(lt(t),js.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(t,e){return Fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=lt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Cs(r,AR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function PR(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function RR(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function DR(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function NR(t){return lt(t).signOut()}const Au="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Au,"1"),this.storage.removeItem(Au),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){const t=Nt();return Bp(t)||oc(t)}const bR=1e3,OR=10;class WT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=LR()&&hR(),this.fallbackToPolling=UT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(r);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);cR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OR):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const MR=WT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KT.type="SESSION";const qT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ac(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(n.origin,a)),f=await VR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=Wp("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(w.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function UR(t){On().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function jR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $R(){return GT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebaseLocalStorageDb",zR=1,Pu="firebaseLocalStorage",YT="fbase_key";class xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lc(t,e){return t.transaction([Pu],e?"readwrite":"readonly").objectStore(Pu)}function HR(){const t=indexedDB.deleteDatabase(QT);return new xa(t).toPromise()}function Wd(){const t=indexedDB.open(QT,zR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pu,{keyPath:YT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pu)?e(r):(r.close(),await HR(),e(await Wd()))})})}async function Bw(t,e,n){const r=lc(t,!0).put({[YT]:e,value:n});return new xa(r).toPromise()}async function WR(t,e){const n=lc(t,!1).get(e),r=await new xa(n).toPromise();return r===void 0?null:r.value}function $w(t,e){const n=lc(t,!0).delete(e);return new xa(n).toPromise()}const KR=800,qR=3;class XT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ac._getInstance($R()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jR(),!this.activeServiceWorker)return;this.sender=new FR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await Bw(e,Au,"1"),await $w(e,Au),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$w(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=lc(s,!1).getAll();return new xa(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XT.type="LOCAL";const GR=XT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function YR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=bn("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",QR().appendChild(r)})}function XR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ia(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t,e){return e?Qn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends $p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Es(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Es(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Es(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JR(t){return zT(t.auth,new Kp(t),t.bypassAuthState)}function ZR(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),_R(n,new Kp(t),t.bypassAuthState)}async function eD(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),kR(n,new Kp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JR;case"linkViaPopup":case"linkViaRedirect":return eD;case"reauthViaPopup":case"reauthViaRedirect":return ZR;default:yn(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Ia(2e3,1e4);async function v$(t,e,n){const r=Us(t);HP(t,e,Hp);const s=JT(r,n);return new pi(r,"signInViaPopup",e,s).executeNotNull()}class pi extends ZT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,pi.currentPopupAction&&pi.currentPopupAction.cancel(),pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,tD.get())};e()}}pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="pendingRedirect",gu=new Map;class rD extends ZT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gu.get(this.auth._key());if(!e){try{const r=await iD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gu.set(this.auth._key(),e)}return this.bypassAuthState||gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iD(t,e){const n=aD(e),r=oD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function sD(t,e){gu.set(t._key(),e)}function oD(t){return Qn(t._redirectPersistence)}function aD(t){return mu(nD,t.config.apiKey,t.name)}async function lD(t,e,n=!1){const r=Us(t),s=JT(r,e),u=await new rD(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=10*60*1e3;class cD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uD&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(e))}saveEventToCache(e){this.cachedEventUids.add(zw(e)),this.lastProcessedEventTime=Date.now()}}function zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e={}){return Fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pD=/^https?/;async function mD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fD(t);for(const n of e)try{if(gD(n))return}catch{}yn(t,"unauthorized-domain")}function gD(t){const e=Hd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!pD.test(n))return!1;if(dD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Ia(3e4,6e4);function Hw(){const t=On().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vD(t){return new Promise((e,n)=>{var r,s,a;function u(){Hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hw(),n(bn(t,"network-request-failed"))},timeout:yD.get()})}if(!((s=(r=On().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=On().gapi)===null||a===void 0)&&a.load)u();else{const h=XR("iframefcb");return On()[h]=()=>{gapi.load?u():n(bn(t,"network-request-failed"))},YR(`https://apis.google.com/js/api.js?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw yu=null,e})}let yu=null;function wD(t){return yu=yu||vD(t),yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new Ia(5e3,15e3),TD="__/auth/iframe",SD="emulator/auth/iframe",ID={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kD(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Up(e,SD):`https://${t.config.authDomain}/${TD}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},s=CD.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ta(r).slice(1)}`}async function _D(t){const e=await wD(t),n=On().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:kD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ID,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=bn(t,"network-request-failed"),h=On().setTimeout(()=>{a(u)},ED.get());function f(){On().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AD=500,PD=600,RD="_blank",DD="http://localhost";class Ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ND(t,e,n,r=AD,s=PD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},xD),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Nt().toLowerCase();n&&(h=bT(p)?RD:n),LT(p)&&(e=e||DD,f.scrollbars="yes");const g=Object.entries(f).reduce((w,[E,S])=>`${w}${E}=${S},`,"");if(uR(p)&&h!=="_self")return LD(e||"",h),new Ww(null);const y=window.open(e||"",h,g);ue(y,t,"popup-blocked");try{y.focus()}catch{}return new Ww(y)}function LD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="__/auth/handler",OD="emulator/auth/handler";function Kw(t,e,n,r,s,a){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:s};if(e instanceof Hp){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",DA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))u[f]=p}if(e instanceof _a){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(u.scopes=f.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const f of Object.keys(h))h[f]===void 0&&delete h[f];return`${MD(t)}?${Ta(h).slice(1)}`}function MD({config:t}){return t.emulator?Up(t,OD):`https://${t.authDomain}/${bD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="webStorageSupport";class VD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=lD,this._overrideRedirectResult=sD}async _openPopup(e,n,r,s){var a;nr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=Kw(e,n,r,Hd(),s);return ND(e,u,Wp())}async _openRedirect(e,n,r,s){return await this._originValidation(e),UR(Kw(e,n,r,Hd(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(nr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _D(e),r=new cD(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(od,{type:od},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[od];u!==void 0&&n(!!u),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UT()||Bp()||oc()}}const FD=VD;var qw="@firebase/auth",Gw="0.20.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var s;e(((s=r)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BD(t){Fn(new _n("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:a,authDomain:u}=r.options;return((h,f)=>{ue(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),ue(!(u!=null&&u.includes(":")),"argument-error",{appName:h.name});const p={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(t)},g=new dR(h,f,p);return KP(g,n),g})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fn(new _n("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(r=>new UD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(qw,Gw,jD(t)),pn(qw,Gw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=5*60,zD=vT("authIdTokenMaxAge")||$D;let Qw=null;const HD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zD)return;const s=n==null?void 0:n.token;Qw!==s&&(Qw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tS(t=Mp()){const e=bi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WP(t,{popupRedirectResolver:FD,persistence:[GR,MR,qT]}),r=vT("authTokenSyncURL");if(r){const a=HD(r);RR(n,a,()=>a(n.currentUser)),PR(n,u=>a(u))}const s=yT("auth");return s&&pR(n,`http://${s}`),n}BD("Browser");var WD={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function KD(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return WD[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Yw(t){var e=KD(t);return"".concat(e.value).concat(e.unit)}var qD=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var s=document.createElement("style");document.head.appendChild(s);var a=s.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(u,0),r},Ru=function(){return Ru=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ru.apply(this,arguments)},GD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},QD=qD("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function YD(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,s=r===void 0?"#000000":r,a=t.speedMultiplier,u=a===void 0?1:a,h=t.cssOverride,f=h===void 0?{}:h,p=t.size,g=p===void 0?35:p,y=GD(t,["loading","color","speedMultiplier","cssOverride","size"]),w=Ru({background:"transparent !important",width:Yw(g),height:Yw(g),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(QD," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},f);return n?x.createElement("span",Ru({style:w},y)):null}function XD(){return z.jsx("div",{children:z.jsx("div",{className:"w-full h-screen flex justify-center items-center",children:z.jsx(YD,{color:"#ff0000",size:160})})})}const JD=typeof window>"u"||typeof document>"u";let uc=JD?x.useEffect:x.useLayoutEffect;function Ts(t){let e=x.useRef(t);return uc(()=>{e.current=t},[t]),e}function ZD(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function cc(){let t=[],e=[],n={enqueue(r){e.push(r)},addEventListener(r,s,a,u){return r.addEventListener(s,a,u),n.add(()=>r.removeEventListener(s,a,u))},requestAnimationFrame(...r){let s=requestAnimationFrame(...r);return n.add(()=>cancelAnimationFrame(s))},nextFrame(...r){return n.requestAnimationFrame(()=>n.requestAnimationFrame(...r))},setTimeout(...r){let s=setTimeout(...r);return n.add(()=>clearTimeout(s))},microTask(...r){let s={current:!0};return ZD(()=>{s.current&&r[0]()}),n.add(()=>{s.current=!1})},add(r){return t.push(r),()=>{let s=t.indexOf(r);if(s>=0){let[a]=t.splice(s,1);a()}}},dispose(){for(let r of t.splice(0))r()},async workQueue(){for(let r of e.splice(0))await r()}};return n}function nS(){let[t]=x.useState(cc);return x.useEffect(()=>()=>t.dispose(),[t]),t}let mi=function(t){let e=Ts(t);return Kt.useCallback((...n)=>e.current(...n),[e])},ad={serverHandoffComplete:!1};function rS(){let[t,e]=x.useState(ad.serverHandoffComplete);return x.useEffect(()=>{t!==!0&&e(!0)},[t]),x.useEffect(()=>{ad.serverHandoffComplete===!1&&(ad.serverHandoffComplete=!0)},[]),t}function dn(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,dn),r}let eN=Symbol();function iS(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=mi(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[eN]))?void 0:n}var sS=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(sS||{}),Yn=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Yn||{});function oS({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:a=!0,name:u}){let h=aS(e,t);if(a)return ru(h,n,r,u);let f=s??0;if(f&2){let{static:p=!1,...g}=h;if(p)return ru(g,n,r,u)}if(f&1){let{unmount:p=!0,...g}=h;return dn(p?0:1,{0(){return null},1(){return ru({...g,hidden:!0,style:{display:"none"}},n,r,u)}})}return ru(h,n,r,u)}function ru(t,e={},n,r){let{as:s=n,children:a,refName:u="ref",...h}=ld(t,["unmount","static"]),f=t.ref!==void 0?{[u]:t.ref}:{},p=typeof a=="function"?a(e):a;h.className&&typeof h.className=="function"&&(h.className=h.className(e));let g={};if(e){let y=!1,w=[];for(let[E,S]of Object.entries(e))typeof S=="boolean"&&(y=!0),S===!0&&w.push(E);y&&(g["data-headlessui-state"]=w.join(" "))}if(s===x.Fragment&&Object.keys(Xw(h)).length>0){if(!x.isValidElement(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(h).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));return x.cloneElement(p,Object.assign({},aS(p.props,Xw(ld(h,["ref"]))),g,f,tN(p.ref,f.ref)))}return x.createElement(s,Object.assign({},ld(h,["ref"]),s!==x.Fragment&&f,s!==x.Fragment&&g),p)}function tN(...t){return{ref:t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}}function aS(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...a){let u=n[r];for(let h of u){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;h(s,...a)}}});return e}function qp(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Xw(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ld(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let Gp=x.createContext(null);Gp.displayName="OpenClosedContext";var sa=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(sa||{});function lS(){return x.useContext(Gp)}function nN({value:t,children:e}){return Kt.createElement(Gp.Provider,{value:t},e)}function uS(){let t=x.useRef(!1);return uc(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function rN(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function ud(t,...e){t&&e.length>0&&t.classList.add(...e)}function cd(t,...e){t&&e.length>0&&t.classList.remove(...e)}var Kd=(t=>(t.Ended="ended",t.Cancelled="cancelled",t))(Kd||{});function iN(t,e){let n=cc();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(t),[a,u]=[r,s].map(h=>{let[f=0]=h.split(",").filter(Boolean).map(p=>p.includes("ms")?parseFloat(p):parseFloat(p)*1e3).sort((p,g)=>g-p);return f});if(a+u!==0){let h=[];h.push(n.addEventListener(t,"transitionrun",f=>{f.target===f.currentTarget&&(h.splice(0).forEach(p=>p()),h.push(n.addEventListener(t,"transitionend",p=>{p.target===p.currentTarget&&(e("ended"),h.splice(0).forEach(g=>g()))}),n.addEventListener(t,"transitioncancel",p=>{p.target===p.currentTarget&&(e("cancelled"),h.splice(0).forEach(g=>g()))})))}))}else e("ended");return n.add(()=>e("cancelled")),n.dispose}function sN(t,e,n,r){let s=n?"enter":"leave",a=cc(),u=r!==void 0?rN(r):()=>{};s==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let h=dn(s,{enter:()=>e.enter,leave:()=>e.leave}),f=dn(s,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),p=dn(s,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return cd(t,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),ud(t,...h,...p),a.nextFrame(()=>{cd(t,...p),ud(t,...f),iN(t,g=>(g==="ended"&&(cd(t,...h),ud(t,...e.entered)),u(g)))}),a.dispose}function oN({container:t,direction:e,classes:n,onStart:r,onStop:s}){let a=uS(),u=nS(),h=Ts(e);uc(()=>{let f=cc();u.add(f.dispose);let p=t.current;if(p&&h.current!=="idle"&&a.current)return f.dispose(),r.current(h.current),f.add(sN(p,n.current,h.current==="enter",g=>{f.dispose(),dn(g,{[Kd.Ended](){s.current(h.current)},[Kd.Cancelled]:()=>{}})})),f.dispose},[e])}function li(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let hc=x.createContext(null);hc.displayName="TransitionContext";var aN=(t=>(t.Visible="visible",t.Hidden="hidden",t))(aN||{});function lN(){let t=x.useContext(hc);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function uN(){let t=x.useContext(fc);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let fc=x.createContext(null);fc.displayName="NestingContext";function dc(t){return"children"in t?dc(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function cS(t,e){let n=Ts(t),r=x.useRef([]),s=uS(),a=nS(),u=mi((E,S=Yn.Hidden)=>{let _=r.current.findIndex(({el:D})=>D===E);_!==-1&&(dn(S,{[Yn.Unmount](){r.current.splice(_,1)},[Yn.Hidden](){r.current[_].state="hidden"}}),a.microTask(()=>{var D;!dc(r)&&s.current&&((D=n.current)==null||D.call(n))}))}),h=mi(E=>{let S=r.current.find(({el:_})=>_===E);return S?S.state!=="visible"&&(S.state="visible"):r.current.push({el:E,state:"visible"}),()=>u(E,Yn.Unmount)}),f=x.useRef([]),p=x.useRef(Promise.resolve()),g=x.useRef({enter:[],leave:[],idle:[]}),y=mi((E,S,_)=>{f.current.splice(0),e&&(e.chains.current[S]=e.chains.current[S].filter(([D])=>D!==E)),e==null||e.chains.current[S].push([E,new Promise(D=>{f.current.push(D)})]),e==null||e.chains.current[S].push([E,new Promise(D=>{Promise.all(g.current[S].map(([F,V])=>V)).then(()=>D())})]),S==="enter"?p.current=p.current.then(()=>e==null?void 0:e.wait.current).then(()=>_(S)):_(S)}),w=mi((E,S,_)=>{Promise.all(g.current[S].splice(0).map(([D,F])=>F)).then(()=>{var D;(D=f.current.shift())==null||D()}).then(()=>_(S))});return x.useMemo(()=>({children:r,register:h,unregister:u,onStart:y,onStop:w,wait:p,chains:g}),[h,u,r,y,w,g,p])}function cN(){}let hN=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Jw(t){var e;let n={};for(let r of hN)n[r]=(e=t[r])!=null?e:cN;return n}function fN(t){let e=x.useRef(Jw(t));return x.useEffect(()=>{e.current=Jw(t)},[t]),e}let dN="div",hS=sS.RenderStrategy,fS=qp(function(t,e){let{beforeEnter:n,afterEnter:r,beforeLeave:s,afterLeave:a,enter:u,enterFrom:h,enterTo:f,entered:p,leave:g,leaveFrom:y,leaveTo:w,...E}=t,S=x.useRef(null),_=iS(S,e),D=E.unmount?Yn.Unmount:Yn.Hidden,{show:F,appear:V,initial:O}=lN(),[$,J]=x.useState(F?"visible":"hidden"),ce=uN(),{register:se,unregister:te}=ce,me=x.useRef(null);x.useEffect(()=>se(S),[se,S]),x.useEffect(()=>{if(D===Yn.Hidden&&S.current){if(F&&$!=="visible"){J("visible");return}return dn($,{hidden:()=>te(S),visible:()=>se(S)})}},[$,S,se,te,F,D]);let $e=Ts({enter:li(u),enterFrom:li(h),enterTo:li(f),entered:li(p),leave:li(g),leaveFrom:li(y),leaveTo:li(w)}),nt=fN({beforeEnter:n,afterEnter:r,beforeLeave:s,afterLeave:a}),be=rS();x.useEffect(()=>{if(be&&$==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,$,be]);let Le=O&&!V,Re=!be||Le||me.current===F?"idle":F?"enter":"leave",rt=mi(I=>dn(I,{enter:()=>nt.current.beforeEnter(),leave:()=>nt.current.beforeLeave(),idle:()=>{}})),Se=mi(I=>dn(I,{enter:()=>nt.current.afterEnter(),leave:()=>nt.current.afterLeave(),idle:()=>{}})),Ee=cS(()=>{J("hidden"),te(S)},ce);oN({container:S,classes:$e,direction:Re,onStart:Ts(I=>{Ee.onStart(S,I,rt)}),onStop:Ts(I=>{Ee.onStop(S,I,Se),I==="leave"&&!dc(Ee)&&(J("hidden"),te(S))})}),x.useEffect(()=>{!Le||(D===Yn.Hidden?me.current=null:me.current=F)},[F,Le,$]);let H=E,Z={ref:_};return Kt.createElement(fc.Provider,{value:Ee},Kt.createElement(nN,{value:dn($,{visible:sa.Open,hidden:sa.Closed})},oS({ourProps:Z,theirProps:H,defaultTag:dN,features:hS,visible:$==="visible",name:"Transition.Child"})))}),qd=qp(function(t,e){let{show:n,appear:r=!1,unmount:s,...a}=t,u=x.useRef(null),h=iS(u,e);rS();let f=lS();if(n===void 0&&f!==null&&(n=dn(f,{[sa.Open]:!0,[sa.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,g]=x.useState(n?"visible":"hidden"),y=cS(()=>{g("hidden")}),[w,E]=x.useState(!0),S=x.useRef([n]);uc(()=>{w!==!1&&S.current[S.current.length-1]!==n&&(S.current.push(n),E(!1))},[S,n]);let _=x.useMemo(()=>({show:n,appear:r,initial:w}),[n,r,w]);x.useEffect(()=>{if(n)g("visible");else if(!dc(y))g("hidden");else{let F=u.current;if(!F)return;let V=F.getBoundingClientRect();V.x===0&&V.y===0&&V.width===0&&V.height===0&&g("hidden")}},[n,y]);let D={unmount:s};return Kt.createElement(fc.Provider,{value:y},Kt.createElement(hc.Provider,{value:_},oS({ourProps:{...D,as:x.Fragment,children:Kt.createElement(fS,{ref:h,...D,...a})},theirProps:{},defaultTag:x.Fragment,features:hS,visible:p==="visible",name:"Transition"})))}),pN=qp(function(t,e){let n=x.useContext(hc)!==null,r=lS()!==null;return Kt.createElement(Kt.Fragment,null,!n&&r?Kt.createElement(qd,{ref:e,...t}):Kt.createElement(fS,{ref:e,...t}))}),mN=Object.assign(qd,{Child:pN,Root:qd});const dS=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),pc=x.createContext({}),Qp=x.createContext(null),mc=typeof document<"u",gN=mc?x.useLayoutEffect:x.useEffect,pS=x.createContext({strict:!1}),Yp=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),yN="framerAppearId",mS="data-"+Yp(yN);function vN(t,e,n,r){const{visualElement:s}=x.useContext(pc),a=x.useContext(pS),u=x.useContext(Qp),h=x.useContext(dS).reducedMotion,f=x.useRef();r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current;x.useInsertionEffect(()=>{p&&p.update(n,u)});const g=x.useRef(!!(n[mS]&&!window.HandoffComplete));return gN(()=>{p&&(p.render(),g.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(p.updateFeatures(),!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),p}function ds(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wN(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ds(n)&&(n.current=r))},[e])}function oa(t){return typeof t=="string"||Array.isArray(t)}function gc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Xp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jp=["initial",...Xp];function yc(t){return gc(t.animate)||Jp.some(e=>oa(t[e]))}function gS(t){return!!(yc(t)||t.variants)}function EN(t,e){if(yc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||oa(n)?n:void 0,animate:oa(r)?r:void 0}}return t.inherit!==!1?e:{}}function TN(t){const{initial:e,animate:n}=EN(t,x.useContext(pc));return x.useMemo(()=>({initial:e,animate:n}),[Zw(e),Zw(n)])}function Zw(t){return Array.isArray(t)?t.join(" "):t}const e0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aa={};for(const t in e0)aa[t]={isEnabled:e=>e0[t].some(n=>!!e[n])};function SN(t){for(const e in t)aa[e]={...aa[e],...t[e]}}const yS=x.createContext({}),vS=x.createContext({}),IN=Symbol.for("motionComponentSymbol");function CN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&SN(t);function a(h,f){let p;const g={...x.useContext(dS),...h,layoutId:kN(h)},{isStatic:y}=g,w=TN(h),E=r(h,y);if(!y&&mc){w.visualElement=vN(s,E,g,e);const S=x.useContext(vS),_=x.useContext(pS).strict;w.visualElement&&(p=w.visualElement.loadFeatures(g,_,t,S))}return x.createElement(pc.Provider,{value:w},p&&w.visualElement?x.createElement(p,{visualElement:w.visualElement,...g}):null,n(s,h,wN(E,w.visualElement,f),E,y,w.visualElement))}const u=x.forwardRef(a);return u[IN]=s,u}function kN({layoutId:t}){const e=x.useContext(yS).id;return e&&t!==void 0?e+"-"+t:t}function _N(t){function e(r,s={}){return CN(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const xN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zp(t){return typeof t!="string"||t.includes("-")?!1:!!(xN.indexOf(t)>-1||/[A-Z]/.test(t))}const Du={};function AN(t){Object.assign(Du,t)}const Aa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oi=new Set(Aa);function wS(t,{layout:e,layoutId:n}){return Oi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Du[t]||t==="opacity")}const Gt=t=>!!(t&&t.getVelocity),PN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RN=Aa.length;function DN(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let a="";for(let u=0;u<RN;u++){const h=Aa[u];if(t[h]!==void 0){const f=PN[h]||h;a+=`${f}(${t[h]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(t,r?"":a):n&&r&&(a="none"),a}const ES=t=>e=>typeof e=="string"&&e.startsWith(t),TS=ES("--"),Gd=ES("var(--"),NN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,LN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,jr=(t,e,n)=>Math.min(Math.max(n,t),e),Mi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ho={...Mi,transform:t=>jr(0,1,t)},iu={...Mi,default:1},Wo=t=>Math.round(t*1e5)/1e5,vc=/(-)?([\d]*\.?[\d])+/g,SS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Pa(t){return typeof t=="string"}const Ra=t=>({test:e=>Pa(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ar=Ra("deg"),Mn=Ra("%"),oe=Ra("px"),ON=Ra("vh"),MN=Ra("vw"),t0={...Mn,parse:t=>Mn.parse(t)/100,transform:t=>Mn.transform(t*100)},n0={...Mi,transform:Math.round},IS={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,size:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:iu,scaleX:iu,scaleY:iu,scaleZ:iu,skew:Ar,skewX:Ar,skewY:Ar,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Ho,originX:t0,originY:t0,originZ:oe,zIndex:n0,fillOpacity:Ho,strokeOpacity:Ho,numOctaves:n0};function em(t,e,n,r){const{style:s,vars:a,transform:u,transformOrigin:h}=t;let f=!1,p=!1,g=!0;for(const y in e){const w=e[y];if(TS(y)){a[y]=w;continue}const E=IS[y],S=LN(w,E);if(Oi.has(y)){if(f=!0,u[y]=S,!g)continue;w!==(E.default||0)&&(g=!1)}else y.startsWith("origin")?(p=!0,h[y]=S):s[y]=S}if(e.transform||(f||r?s.transform=DN(t.transform,n,g,r):s.transform&&(s.transform="none")),p){const{originX:y="50%",originY:w="50%",originZ:E=0}=h;s.transformOrigin=`${y} ${w} ${E}`}}const tm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CS(t,e,n){for(const r in e)!Gt(e[r])&&!wS(r,n)&&(t[r]=e[r])}function VN({transformTemplate:t},e,n){return x.useMemo(()=>{const r=tm();return em(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function FN(t,e,n){const r=t.style||{},s={};return CS(s,r,t),Object.assign(s,VN(t,e,n)),t.transformValues?t.transformValues(s):s}function UN(t,e,n){const r={},s=FN(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const jN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jN.has(t)}let kS=t=>!Nu(t);function BN(t){t&&(kS=e=>e.startsWith("on")?!Nu(e):t(e))}try{BN(require("@emotion/is-prop-valid").default)}catch{}function $N(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(kS(s)||n===!0&&Nu(s)||!e&&!Nu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function r0(t,e,n){return typeof t=="string"?t:oe.transform(e+n*t)}function zN(t,e,n){const r=r0(e,t.x,t.width),s=r0(n,t.y,t.height);return`${r} ${s}`}const HN={offset:"stroke-dashoffset",array:"stroke-dasharray"},WN={offset:"strokeDashoffset",array:"strokeDasharray"};function KN(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?HN:WN;t[a.offset]=oe.transform(-r);const u=oe.transform(e),h=oe.transform(n);t[a.array]=`${u} ${h}`}function nm(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...p},g,y,w){if(em(t,p,g,w),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:S,dimensions:_}=t;E.transform&&(_&&(S.transform=E.transform),delete E.transform),_&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=zN(_,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),u!==void 0&&KN(E,u,h,f,!1)}const _S=()=>({...tm(),attrs:{}}),rm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qN(t,e,n,r){const s=x.useMemo(()=>{const a=_S();return nm(a,e,{enableHardwareAcceleration:!1},rm(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};CS(a,t.style,t),s.style={...a,...s.style}}return s}function GN(t=!1){return(n,r,s,{latestValues:a},u)=>{const f=(Zp(n)?qN:UN)(r,a,u,n),g={...$N(r,typeof n=="string",t),...f,ref:s},{children:y}=r,w=x.useMemo(()=>Gt(y)?y.get():y,[y]);return x.createElement(n,{...g,children:w})}}function xS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const AS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PS(t,e,n,r){xS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(AS.has(s)?s:Yp(s),e.attrs[s])}function im(t,e){const{style:n}=t,r={};for(const s in n)(Gt(n[s])||e.style&&Gt(e.style[s])||wS(s,t))&&(r[s]=n[s]);return r}function RS(t,e){const n=im(t,e);for(const r in t)if(Gt(t[r])||Gt(e[r])){const s=Aa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function sm(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function QN(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Lu=t=>Array.isArray(t),YN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),XN=t=>Lu(t)?t[t.length-1]||0:t;function vu(t){const e=Gt(t)?t.get():t;return YN(e)?e.toValue():e}function JN({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,a){const u={latestValues:ZN(r,s,a,t),renderState:e()};return n&&(u.mount=h=>n(r,h,u)),u}const DS=t=>(e,n)=>{const r=x.useContext(pc),s=x.useContext(Qp),a=()=>JN(t,e,r,s);return n?a():QN(a)};function ZN(t,e,n,r){const s={},a=r(t,{});for(const w in a)s[w]=vu(a[w]);let{initial:u,animate:h}=t;const f=yc(t),p=gS(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?h:u;return y&&typeof y!="boolean"&&!gc(y)&&(Array.isArray(y)?y:[y]).forEach(E=>{const S=sm(t,E);if(!S)return;const{transitionEnd:_,transition:D,...F}=S;for(const V in F){let O=F[V];if(Array.isArray(O)){const $=g?O.length-1:0;O=O[$]}O!==null&&(s[V]=O)}for(const V in _)s[V]=_[V]}),s}const Xe=t=>t;class i0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function eL(t){let e=new i0,n=new i0,r=0,s=!1,a=!1;const u=new WeakSet,h={schedule:(f,p=!1,g=!1)=>{const y=g&&s,w=y?e:n;return p&&u.add(f),w.add(f)&&y&&s&&(r=e.order.length),f},cancel:f=>{n.remove(f),u.delete(f)},process:f=>{if(s){a=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let p=0;p<r;p++){const g=e.order[p];g(f),u.has(g)&&(h.schedule(g),t())}s=!1,a&&(a=!1,h.process(f))}};return h}const su=["prepare","read","update","preRender","render","postRender"],tL=40;function nL(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=su.reduce((y,w)=>(y[w]=eL(()=>n=!0),y),{}),u=y=>a[y].process(s),h=()=>{const y=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,tL),1),s.timestamp=y,s.isProcessing=!0,su.forEach(u),s.isProcessing=!1,n&&e&&(r=!1,t(h))},f=()=>{n=!0,r=!0,s.isProcessing||t(h)};return{schedule:su.reduce((y,w)=>{const E=a[w];return y[w]=(S,_=!1,D=!1)=>(n||f(),E.schedule(S,_,D)),y},{}),cancel:y=>su.forEach(w=>a[w].cancel(y)),state:s,steps:a}}const{schedule:Ue,cancel:rr,state:xt,steps:hd}=nL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0),rL={useVisualState:DS({scrapeMotionValuesFromProps:RS,createRenderState:_S,onMount:(t,e,{renderState:n,latestValues:r})=>{Ue.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ue.render(()=>{nm(n,r,{enableHardwareAcceleration:!1},rm(e.tagName),t.transformTemplate),PS(e,n)})}})},iL={useVisualState:DS({scrapeMotionValuesFromProps:im,createRenderState:tm})};function sL(t,{forwardMotionProps:e=!1},n,r){return{...Zp(t)?rL:iL,preloadedFeatures:n,useRender:GN(e),createVisualElement:r,Component:t}}function Xn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const NS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function wc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const oL=t=>e=>NS(e)&&t(e,wc(e));function Zn(t,e,n,r){return Xn(t,e,oL(n),r)}const aL=(t,e)=>n=>e(t(n)),Fr=(...t)=>t.reduce(aL);function LS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const s0=LS("dragHorizontal"),o0=LS("dragVertical");function bS(t){let e=!1;if(t==="y")e=o0();else if(t==="x")e=s0();else{const n=s0(),r=o0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function OS(){const t=bS(!0);return t?(t(),!1):!0}class Wr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function a0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,u)=>{if(a.pointerType==="touch"||OS())return;const h=t.getProps();t.animationState&&h.whileHover&&t.animationState.setActive("whileHover",e),h[r]&&Ue.update(()=>h[r](a,u))};return Zn(t.current,n,s,{passive:!t.getProps()[r]})}class lL extends Wr{mount(){this.unmount=Fr(a0(this.node,!0),a0(this.node,!1))}unmount(){}}class uL extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fr(Xn(this.node.current,"focus",()=>this.onFocus()),Xn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const MS=(t,e)=>e?t===e?!0:MS(t,e.parentElement):!1;function fd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,wc(n))}class cL extends Wr{constructor(){super(...arguments),this.removeStartListeners=Xe,this.removeEndListeners=Xe,this.removeAccessibleListeners=Xe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Zn(window,"pointerup",(h,f)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:g,globalTapTarget:y}=this.node.getProps();Ue.update(()=>{!y&&!MS(this.node.current,h.target)?g&&g(h,f):p&&p(h,f)})},{passive:!(r.onTap||r.onPointerUp)}),u=Zn(window,"pointercancel",(h,f)=>this.cancelPress(h,f),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fr(a,u),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const u=h=>{h.key!=="Enter"||!this.checkPressEnd()||fd("up",(f,p)=>{const{onTap:g}=this.node.getProps();g&&Ue.update(()=>g(f,p))})};this.removeEndListeners(),this.removeEndListeners=Xn(this.node.current,"keyup",u),fd("down",(h,f)=>{this.startPress(h,f)})},n=Xn(this.node.current,"keydown",e),r=()=>{this.isPressing&&fd("cancel",(a,u)=>this.cancelPress(a,u))},s=Xn(this.node.current,"blur",r);this.removeAccessibleListeners=Fr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ue.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!OS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ue.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Zn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Xn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qd=new WeakMap,dd=new WeakMap,hL=t=>{const e=Qd.get(t.target);e&&e(t)},fL=t=>{t.forEach(hL)};function dL({root:t,...e}){const n=t||document;dd.has(n)||dd.set(n,{});const r=dd.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(fL,{root:t,...e})),r[s]}function pL(t,e,n){const r=dL(e);return Qd.set(t,n),r.observe(t),()=>{Qd.delete(t),r.unobserve(t)}}const mL={some:0,all:1};class gL extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:mL[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(f)};return pL(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yL(e,n))&&this.startObserver()}unmount(){}}function yL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vL={inView:{Feature:gL},tap:{Feature:cL},focus:{Feature:uL},hover:{Feature:lL}};function VS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function wL(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function EL(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ec(t,e,n){const r=t.getProps();return sm(r,e,n!==void 0?n:r.custom,wL(t),EL(t))}let om=Xe;const Si=t=>t*1e3,er=t=>t/1e3,TL={current:!1},FS=t=>Array.isArray(t)&&typeof t[0]=="number";function US(t){return!!(!t||typeof t=="string"&&jS[t]||FS(t)||Array.isArray(t)&&t.every(US))}const Uo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,jS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uo([0,.65,.55,1]),circOut:Uo([.55,0,1,.45]),backIn:Uo([.31,.01,.66,-.59]),backOut:Uo([.33,1.53,.69,.99])};function BS(t){if(t)return FS(t)?Uo(t):Array.isArray(t)?t.map(BS):jS[t]}function SL(t,e,n,{delay:r=0,duration:s,repeat:a=0,repeatType:u="loop",ease:h,times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=BS(h);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}function IL(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const $S=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CL=1e-7,kL=12;function _L(t,e,n,r,s){let a,u,h=0;do u=e+(n-e)/2,a=$S(u,r,s)-t,a>0?n=u:e=u;while(Math.abs(a)>CL&&++h<kL);return u}function Da(t,e,n,r){if(t===e&&n===r)return Xe;const s=a=>_L(a,0,1,t,n);return a=>a===0||a===1?a:$S(s(a),e,r)}const xL=Da(.42,0,1,1),AL=Da(0,0,.58,1),zS=Da(.42,0,.58,1),PL=t=>Array.isArray(t)&&typeof t[0]!="number",HS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WS=t=>e=>1-t(1-e),am=t=>1-Math.sin(Math.acos(t)),KS=WS(am),RL=HS(am),qS=Da(.33,1.53,.69,.99),lm=WS(qS),DL=HS(lm),NL=t=>(t*=2)<1?.5*lm(t):.5*(2-Math.pow(2,-10*(t-1))),LL={linear:Xe,easeIn:xL,easeInOut:zS,easeOut:AL,circIn:am,circInOut:RL,circOut:KS,backIn:lm,backInOut:DL,backOut:qS,anticipate:NL},l0=t=>{if(Array.isArray(t)){om(t.length===4);const[e,n,r,s]=t;return Da(e,n,r,s)}else if(typeof t=="string")return LL[t];return t},um=(t,e)=>n=>!!(Pa(n)&&bN.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),GS=(t,e,n)=>r=>{if(!Pa(r))return r;const[s,a,u,h]=r.match(vc);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},bL=t=>jr(0,255,t),pd={...Mi,transform:t=>Math.round(bL(t))},gi={test:um("rgb","red"),parse:GS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pd.transform(t)+", "+pd.transform(e)+", "+pd.transform(n)+", "+Wo(Ho.transform(r))+")"};function OL(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Yd={test:um("#"),parse:OL,transform:gi.transform},ps={test:um("hsl","hue"),parse:GS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mn.transform(Wo(e))+", "+Mn.transform(Wo(n))+", "+Wo(Ho.transform(r))+")"},Mt={test:t=>gi.test(t)||Yd.test(t)||ps.test(t),parse:t=>gi.test(t)?gi.parse(t):ps.test(t)?ps.parse(t):Yd.parse(t),transform:t=>Pa(t)?t:t.hasOwnProperty("red")?gi.transform(t):ps.transform(t)},We=(t,e,n)=>-n*t+n*e+t;function md(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ML({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,u=0;if(!e)s=a=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;s=md(f,h,t+1/3),a=md(f,h,t),u=md(f,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}const gd=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},VL=[Yd,gi,ps],FL=t=>VL.find(e=>e.test(t));function u0(t){const e=FL(t);let n=e.parse(t);return e===ps&&(n=ML(n)),n}const QS=(t,e)=>{const n=u0(t),r=u0(e),s={...n};return a=>(s.red=gd(n.red,r.red,a),s.green=gd(n.green,r.green,a),s.blue=gd(n.blue,r.blue,a),s.alpha=We(n.alpha,r.alpha,a),gi.transform(s))};function UL(t){var e,n;return isNaN(t)&&Pa(t)&&(((e=t.match(vc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(SS))===null||n===void 0?void 0:n.length)||0)>0}const YS={regex:NN,countKey:"Vars",token:"${v}",parse:Xe},XS={regex:SS,countKey:"Colors",token:"${c}",parse:Mt.parse},JS={regex:vc,countKey:"Numbers",token:"${n}",parse:Mi.parse};function yd(t,{regex:e,countKey:n,token:r,parse:s}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(s)))}function bu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&yd(n,YS),yd(n,XS),yd(n,JS),n}function ZS(t){return bu(t).values}function eI(t){const{values:e,numColors:n,numVars:r,tokenised:s}=bu(t),a=e.length;return u=>{let h=s;for(let f=0;f<a;f++)f<r?h=h.replace(YS.token,u[f]):f<r+n?h=h.replace(XS.token,Mt.transform(u[f])):h=h.replace(JS.token,Wo(u[f]));return h}}const jL=t=>typeof t=="number"?0:t;function BL(t){const e=ZS(t);return eI(t)(e.map(jL))}const Br={test:UL,parse:ZS,createTransformer:eI,getAnimatableNone:BL},tI=(t,e)=>n=>`${n>0?e:t}`;function nI(t,e){return typeof t=="number"?n=>We(t,e,n):Mt.test(t)?QS(t,e):t.startsWith("var(")?tI(t,e):iI(t,e)}const rI=(t,e)=>{const n=[...t],r=n.length,s=t.map((a,u)=>nI(a,e[u]));return a=>{for(let u=0;u<r;u++)n[u]=s[u](a);return n}},$L=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=nI(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}},iI=(t,e)=>{const n=Br.createTransformer(e),r=bu(t),s=bu(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Fr(rI(r.values,s.values),n):tI(t,e)},la=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},c0=(t,e)=>n=>We(t,e,n);function zL(t){return typeof t=="number"?c0:typeof t=="string"?Mt.test(t)?QS:iI:Array.isArray(t)?rI:typeof t=="object"?$L:c0}function HL(t,e,n){const r=[],s=n||zL(t[0]),a=t.length-1;for(let u=0;u<a;u++){let h=s(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Xe:e;h=Fr(f,h)}r.push(h)}return r}function sI(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(om(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=HL(e,r,s),h=u.length,f=p=>{let g=0;if(h>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=la(t[g],t[g+1],p);return u[g](y)};return n?p=>f(jr(t[0],t[a-1],p)):f}function WL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=la(0,e,r);t.push(We(n,1,s))}}function KL(t){const e=[0];return WL(e,t.length-1),e}function qL(t,e){return t.map(n=>n*e)}function GL(t,e){return t.map(()=>e||zS).splice(0,t.length-1)}function Ou({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=PL(r)?r.map(l0):l0(r),a={done:!1,value:e[0]},u=qL(n&&n.length===e.length?n:KL(e),t),h=sI(u,e,{ease:Array.isArray(s)?s:GL(e,s)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}function oI(t,e){return e?t*(1e3/e):0}const QL=5;function aI(t,e,n){const r=Math.max(e-QL,0);return oI(n-t(r),e-r)}const h0=.001,YL=.01,XL=10,JL=.05,ZL=1;function eb({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,a,u=1-e;u=jr(JL,ZL,u),t=jr(YL,XL,er(t)),u<1?(s=p=>{const g=p*u,y=g*t,w=g-n,E=Xd(p,u),S=Math.exp(-y);return h0-w/E*S},a=p=>{const y=p*u*t,w=y*n+n,E=Math.pow(u,2)*Math.pow(p,2)*t,S=Math.exp(-y),_=Xd(Math.pow(p,2),u);return(-s(p)+h0>0?-1:1)*((w-E)*S)/_}):(s=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-.001+g*y},a=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const h=5/t,f=nb(s,a,h);if(t=Si(t),isNaN(f))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const tb=12;function nb(t,e,n){let r=n;for(let s=1;s<tb;s++)r=r-t(r)/e(r);return r}function Xd(t,e){return t*Math.sqrt(1-e*e)}const rb=["duration","bounce"],ib=["stiffness","damping","mass"];function f0(t,e){return e.some(n=>t[n]!==void 0)}function sb(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!f0(t,ib)&&f0(t,rb)){const n=eb(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function lI({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],a=t[t.length-1],u={done:!1,value:s},{stiffness:h,damping:f,mass:p,duration:g,velocity:y,isResolvedFromDuration:w}=sb({...r,velocity:-er(r.velocity||0)}),E=y||0,S=f/(2*Math.sqrt(h*p)),_=a-s,D=er(Math.sqrt(h/p)),F=Math.abs(_)<5;n||(n=F?.01:2),e||(e=F?.005:.5);let V;if(S<1){const O=Xd(D,S);V=$=>{const J=Math.exp(-S*D*$);return a-J*((E+S*D*_)/O*Math.sin(O*$)+_*Math.cos(O*$))}}else if(S===1)V=O=>a-Math.exp(-D*O)*(_+(E+D*_)*O);else{const O=D*Math.sqrt(S*S-1);V=$=>{const J=Math.exp(-S*D*$),ce=Math.min(O*$,300);return a-J*((E+S*D*_)*Math.sinh(ce)+O*_*Math.cosh(ce))/O}}return{calculatedDuration:w&&g||null,next:O=>{const $=V(O);if(w)u.done=O>=g;else{let J=E;O!==0&&(S<1?J=aI(V,O,$):J=0);const ce=Math.abs(J)<=n,se=Math.abs(a-$)<=e;u.done=ce&&se}return u.value=u.done?a:$,u}}}function d0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const y=t[0],w={done:!1,value:y},E=te=>h!==void 0&&te<h||f!==void 0&&te>f,S=te=>h===void 0?f:f===void 0||Math.abs(h-te)<Math.abs(f-te)?h:f;let _=n*e;const D=y+_,F=u===void 0?D:u(D);F!==D&&(_=F-y);const V=te=>-_*Math.exp(-te/r),O=te=>F+V(te),$=te=>{const me=V(te),$e=O(te);w.done=Math.abs(me)<=p,w.value=w.done?F:$e};let J,ce;const se=te=>{E(w.value)&&(J=te,ce=lI({keyframes:[w.value,S(w.value)],velocity:aI(O,te,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return se(0),{calculatedDuration:null,next:te=>{let me=!1;return!ce&&J===void 0&&(me=!0,$(te),se(te)),J!==void 0&&te>J?ce.next(te-J):(!me&&$(te),w)}}}const ob=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ue.update(e,!0),stop:()=>rr(e),now:()=>xt.isProcessing?xt.timestamp:performance.now()}},p0=2e4;function m0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<p0;)e+=n,r=t.next(e);return e>=p0?1/0:e}const ab={decay:d0,inertia:d0,tween:Ou,keyframes:Ou,spring:lI};function Mu({autoplay:t=!0,delay:e=0,driver:n=ob,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:h="loop",onPlay:f,onStop:p,onComplete:g,onUpdate:y,...w}){let E=1,S=!1,_,D;const F=()=>{D=new Promise(N=>{_=N})};F();let V;const O=ab[s]||Ou;let $;O!==Ou&&typeof r[0]!="number"&&($=sI([0,100],r,{clamp:!1}),r=[0,100]);const J=O({...w,keyframes:r});let ce;h==="mirror"&&(ce=O({...w,keyframes:[...r].reverse(),velocity:-(w.velocity||0)}));let se="idle",te=null,me=null,$e=null;J.calculatedDuration===null&&a&&(J.calculatedDuration=m0(J));const{calculatedDuration:nt}=J;let be=1/0,Le=1/0;nt!==null&&(be=nt+u,Le=be*(a+1)-u);let Re=0;const rt=N=>{if(me===null)return;E>0&&(me=Math.min(me,N)),E<0&&(me=Math.min(N-Le/E,me)),te!==null?Re=te:Re=Math.round(N-me)*E;const Q=Re-e*(E>=0?1:-1),ye=E>=0?Q<0:Q>Le;Re=Math.max(Q,0),se==="finished"&&te===null&&(Re=Le);let pe=Re,De=J;if(a){const ct=Math.min(Re,Le)/be;let ji=Math.floor(ct),rn=ct%1;!rn&&ct>=1&&(rn=1),rn===1&&ji--,ji=Math.min(ji,a+1),!!(ji%2)&&(h==="reverse"?(rn=1-rn,u&&(rn-=u/be)):h==="mirror"&&(De=ce)),pe=jr(0,1,rn)*be}const ve=ye?{done:!1,value:r[0]}:De.next(pe);$&&(ve.value=$(ve.value));let{done:Ae}=ve;!ye&&nt!==null&&(Ae=E>=0?Re>=Le:Re<=0);const ke=te===null&&(se==="finished"||se==="running"&&Ae);return y&&y(ve.value),ke&&H(),ve},Se=()=>{V&&V.stop(),V=void 0},Ee=()=>{se="idle",Se(),_(),F(),me=$e=null},H=()=>{se="finished",g&&g(),Se(),_()},Z=()=>{if(S)return;V||(V=n(rt));const N=V.now();f&&f(),te!==null?me=N-te:(!me||se==="finished")&&(me=N),se==="finished"&&F(),$e=me,te=null,se="running",V.start()};t&&Z();const I={then(N,Q){return D.then(N,Q)},get time(){return er(Re)},set time(N){N=Si(N),Re=N,te!==null||!V||E===0?te=N:me=V.now()-N/E},get duration(){const N=J.calculatedDuration===null?m0(J):J.calculatedDuration;return er(N)},get speed(){return E},set speed(N){N===E||!V||(E=N,I.time=er(Re))},get state(){return se},play:Z,pause:()=>{se="paused",te=Re},stop:()=>{S=!0,se!=="idle"&&(se="idle",p&&p(),Ee())},cancel:()=>{$e!==null&&rt($e),Ee()},complete:()=>{se="finished"},sample:N=>(me=0,rt(N))};return I}function lb(t){let e;return()=>(e===void 0&&(e=t()),e)}const ub=lb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cb=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ou=10,hb=2e4,fb=(t,e)=>e.type==="spring"||t==="backgroundColor"||!US(e.ease);function db(t,e,{onUpdate:n,onComplete:r,...s}){if(!(ub()&&cb.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let u=!1,h,f,p=!1;const g=()=>{f=new Promise(O=>{h=O})};g();let{keyframes:y,duration:w=300,ease:E,times:S}=s;if(fb(e,s)){const O=Mu({...s,repeat:0,delay:0});let $={done:!1,value:y[0]};const J=[];let ce=0;for(;!$.done&&ce<hb;)$=O.sample(ce),J.push($.value),ce+=ou;S=void 0,y=J,w=ce-ou,E="linear"}const _=SL(t.owner.current,e,y,{...s,duration:w,ease:E,times:S}),D=()=>{p=!1,_.cancel()},F=()=>{p=!0,Ue.update(D),h(),g()};return _.onfinish=()=>{p||(t.set(IL(y,s)),r&&r(),F())},{then(O,$){return f.then(O,$)},attachTimeline(O){return _.timeline=O,_.onfinish=null,Xe},get time(){return er(_.currentTime||0)},set time(O){_.currentTime=Si(O)},get speed(){return _.playbackRate},set speed(O){_.playbackRate=O},get duration(){return er(w)},play:()=>{u||(_.play(),rr(D))},pause:()=>_.pause(),stop:()=>{if(u=!0,_.playState==="idle")return;const{currentTime:O}=_;if(O){const $=Mu({...s,autoplay:!1});t.setWithVelocity($.sample(O-ou).value,$.sample(O).value,ou)}F()},complete:()=>{p||_.finish()},cancel:F}}function pb({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Xe,pause:Xe,stop:Xe,then:a=>(a(),Promise.resolve()),cancel:Xe,complete:Xe});return e?Mu({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const mb={type:"spring",stiffness:500,damping:25,restSpeed:10},gb=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yb={type:"keyframes",duration:.8},vb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wb=(t,{keyframes:e})=>e.length>2?yb:Oi.has(t)?t.startsWith("scale")?gb(e[1]):mb:vb,Jd=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Br.test(e)||e==="0")&&!e.startsWith("url(")),Eb=new Set(["brightness","contrast","saturate","opacity"]);function Tb(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(vc)||[];if(!r)return t;const s=n.replace(r,"");let a=Eb.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const Sb=/([a-z-]*)\(.*?\)/g,Zd={...Br,getAnimatableNone:t=>{const e=t.match(Sb);return e?e.map(Tb).join(" "):t}},Ib={...IS,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:Zd,WebkitFilter:Zd},cm=t=>Ib[t];function uI(t,e){let n=cm(t);return n!==Zd&&(n=Br),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cI=t=>/^0[^.\s]+$/.test(t);function Cb(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||cI(t)}function kb(t,e,n,r){const s=Jd(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const u=r.from!==void 0?r.from:t.get();let h;const f=[];for(let p=0;p<a.length;p++)a[p]===null&&(a[p]=p===0?u:a[p-1]),Cb(a[p])&&f.push(p),typeof a[p]=="string"&&a[p]!=="none"&&a[p]!=="0"&&(h=a[p]);if(s&&f.length&&h)for(let p=0;p<f.length;p++){const g=f[p];a[g]=uI(e,h)}return a}function _b({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}function hm(t,e){return t[e]||t.default||t}const xb={skipAnimations:!1},fm=(t,e,n,r={})=>s=>{const a=hm(r,t)||{},u=a.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Si(u);const f=kb(e,t,n,a),p=f[0],g=f[f.length-1],y=Jd(t,p),w=Jd(t,g);let E={keyframes:f,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-h,onUpdate:S=>{e.set(S),a.onUpdate&&a.onUpdate(S)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(_b(a)||(E={...E,...wb(t,E)}),E.duration&&(E.duration=Si(E.duration)),E.repeatDelay&&(E.repeatDelay=Si(E.repeatDelay)),!y||!w||TL.current||a.type===!1||xb.skipAnimations)return pb(E);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=db(e,t,E);if(S)return S}return Mu(E)};function Vu(t){return!!(Gt(t)&&t.add)}const hI=t=>/^\-?\d*\.?\d+$/.test(t);function dm(t,e){t.indexOf(e)===-1&&t.push(e)}function pm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class mm{constructor(){this.subscriptions=[]}add(e){return dm(this.subscriptions,e),()=>pm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ab=t=>!isNaN(parseFloat(t));class Pb{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:u}=xt;this.lastUpdated!==u&&(this.timeDelta=a,this.lastUpdated=u,Ue.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ue.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Ab(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new mm);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?oI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ks(t,e){return new Pb(t,e)}const fI=t=>e=>e.test(t),Rb={test:t=>t==="auto",parse:t=>t},dI=[Mi,oe,Mn,Ar,MN,ON,Rb],bo=t=>dI.find(fI(t)),Db=[...dI,Mt,Br],Nb=t=>Db.find(fI(t));function Lb(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ks(n))}function bb(t,e){const n=Ec(t,e);let{transitionEnd:r={},transition:s={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const u in a){const h=XN(a[u]);Lb(t,u,h)}}function Ob(t,e,n){var r,s;const a=Object.keys(e).filter(h=>!t.hasValue(h)),u=a.length;if(u)for(let h=0;h<u;h++){const f=a[h],p=e[f];let g=null;Array.isArray(p)&&(g=p[0]),g===null&&(g=(s=(r=n[f])!==null&&r!==void 0?r:t.readValue(f))!==null&&s!==void 0?s:e[f]),g!=null&&(typeof g=="string"&&(hI(g)||cI(g))?g=parseFloat(g):!Nb(g)&&Br.test(p)&&(g=uI(f,p)),t.addValue(f,ks(g,{owner:t})),n[f]===void 0&&(n[f]=g),g!==null&&t.setBaseTarget(f,g))}}function Mb(t,e){return e?(e[t]||e.default||e).from:void 0}function Vb(t,e,n){const r={};for(const s in t){const a=Mb(s,e);if(a!==void 0)r[s]=a;else{const u=n.getValue(s);u&&(r[s]=u.get())}}return r}function Fb({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ub(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function pI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...h}=t.makeTargetAnimatable(e);const f=t.getValue("willChange");r&&(a=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const y in h){const w=t.getValue(y),E=h[y];if(!w||E===void 0||g&&Fb(g,y))continue;const S={delay:n,elapsed:0,...hm(a||{},y)};if(window.HandoffAppearAnimations){const F=t.getProps()[mS];if(F){const V=window.HandoffAppearAnimations(F,y,w,Ue);V!==null&&(S.elapsed=V,S.isHandoff=!0)}}let _=!S.isHandoff&&!Ub(w,E);if(S.type==="spring"&&(w.getVelocity()||S.velocity)&&(_=!1),w.animation&&(_=!1),_)continue;w.start(fm(y,w,E,t.shouldReduceMotion&&Oi.has(y)?{type:!1}:S));const D=w.animation;Vu(f)&&(f.add(y),D.then(()=>f.remove(y))),p.push(D)}return u&&Promise.all(p).then(()=>{u&&bb(t,u)}),p}function ep(t,e,n={}){const r=Ec(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(pI(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=s;return jb(t,e,p+f,g,y,n)}:()=>Promise.resolve(),{when:h}=s;if(h){const[f,p]=h==="beforeChildren"?[a,u]:[u,a];return f().then(()=>p())}else return Promise.all([a(),u(n.delay)])}function jb(t,e,n=0,r=0,s=1,a){const u=[],h=(t.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(Bb).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(ep(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function Bb(t,e){return t.sortNodePosition(e)}function $b(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>ep(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=ep(t,e,n);else{const s=typeof e=="function"?Ec(t,e,n.custom):e;r=Promise.all(pI(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const zb=[...Xp].reverse(),Hb=Xp.length;function Wb(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$b(t,n,r)))}function Kb(t){let e=Wb(t);const n=Gb();let r=!0;const s=(f,p)=>{const g=Ec(t,p);if(g){const{transition:y,transitionEnd:w,...E}=g;f={...f,...E,...w}}return f};function a(f){e=f(t)}function u(f,p){const g=t.getProps(),y=t.getVariantContext(!0)||{},w=[],E=new Set;let S={},_=1/0;for(let F=0;F<Hb;F++){const V=zb[F],O=n[V],$=g[V]!==void 0?g[V]:y[V],J=oa($),ce=V===p?O.isActive:null;ce===!1&&(_=F);let se=$===y[V]&&$!==g[V]&&J;if(se&&r&&t.manuallyAnimateOnMount&&(se=!1),O.protectedKeys={...S},!O.isActive&&ce===null||!$&&!O.prevProp||gc($)||typeof $=="boolean")continue;let me=qb(O.prevProp,$)||V===p&&O.isActive&&!se&&J||F>_&&J,$e=!1;const nt=Array.isArray($)?$:[$];let be=nt.reduce(s,{});ce===!1&&(be={});const{prevResolvedValues:Le={}}=O,Re={...Le,...be},rt=Se=>{me=!0,E.has(Se)&&($e=!0,E.delete(Se)),O.needsAnimating[Se]=!0};for(const Se in Re){const Ee=be[Se],H=Le[Se];if(S.hasOwnProperty(Se))continue;let Z=!1;Lu(Ee)&&Lu(H)?Z=!VS(Ee,H):Z=Ee!==H,Z?Ee!==void 0?rt(Se):E.add(Se):Ee!==void 0&&E.has(Se)?rt(Se):O.protectedKeys[Se]=!0}O.prevProp=$,O.prevResolvedValues=be,O.isActive&&(S={...S,...be}),r&&t.blockInitialAnimation&&(me=!1),me&&(!se||$e)&&w.push(...nt.map(Se=>({animation:Se,options:{type:V,...f}})))}if(E.size){const F={};E.forEach(V=>{const O=t.getBaseTarget(V);O!==void 0&&(F[V]=O)}),w.push({animation:F})}let D=!!w.length;return r&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(w):Promise.resolve()}function h(f,p,g){var y;if(n[f].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(E=>{var S;return(S=E.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const w=u(g,f);for(const E in n)n[E].protectedKeys={};return w}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>n}}function qb(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VS(e,t):!1}function ui(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gb(){return{animate:ui(!0),whileInView:ui(),whileHover:ui(),whileTap:ui(),whileDrag:ui(),whileFocus:ui(),exit:ui()}}class Qb extends Wr{constructor(e){super(e),e.animationState||(e.animationState=Kb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),gc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Yb=0;class Xb extends Wr{constructor(){super(...arguments),this.id=Yb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Jb={animation:{Feature:Qb},exit:{Feature:Xb}},g0=(t,e)=>Math.abs(t-e);function Zb(t,e){const n=g0(t.x,e.x),r=g0(t.y,e.y);return Math.sqrt(n**2+r**2)}class mI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=wd(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=Zb(y.offset,{x:0,y:0})>=3;if(!w&&!E)return;const{point:S}=y,{timestamp:_}=xt;this.history.push({...S,timestamp:_});const{onStart:D,onMove:F}=this.handlers;w||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=vd(w,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:E,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=wd(y.type==="pointercancel"?this.lastMoveEventInfo:vd(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,D),S&&S(y,D)},!NS(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const u=wc(e),h=vd(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=xt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,wd(h,this.history)),this.removeListeners=Fr(Zn(this.contextWindow,"pointermove",this.handlePointerMove),Zn(this.contextWindow,"pointerup",this.handlePointerUp),Zn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rr(this.updatePoint)}}function vd(t,e){return e?{point:e(t.point)}:t}function y0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wd({point:t},e){return{point:t,delta:y0(t,gI(e)),offset:y0(t,eO(e)),velocity:tO(e,.1)}}function eO(t){return t[0]}function gI(t){return t[t.length-1]}function tO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=gI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Si(e)));)n--;if(!r)return{x:0,y:0};const a=er(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function tn(t){return t.max-t.min}function tp(t,e=0,n=.01){return Math.abs(t-e)<=n}function v0(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),(tp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(tp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ko(t,e,n,r){v0(t.x,e.x,n.x,r?r.originX:void 0),v0(t.y,e.y,n.y,r?r.originY:void 0)}function w0(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function nO(t,e,n){w0(t.x,e.x,n.x),w0(t.y,e.y,n.y)}function E0(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function qo(t,e,n){E0(t.x,e.x,n.x),E0(t.y,e.y,n.y)}function rO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function T0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function iO(t,{top:e,left:n,bottom:r,right:s}){return{x:T0(t.x,n,s),y:T0(t.y,e,r)}}function S0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function sO(t,e){return{x:S0(t.x,e.x),y:S0(t.y,e.y)}}function oO(t,e){let n=.5;const r=tn(t),s=tn(e);return s>r?n=la(e.min,e.max-r,t.min):r>s&&(n=la(t.min,t.max-s,e.min)),jr(0,1,n)}function aO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const np=.35;function lO(t=np){return t===!1?t=0:t===!0&&(t=np),{x:I0(t,"left","right"),y:I0(t,"top","bottom")}}function I0(t,e,n){return{min:C0(t,e),max:C0(t,n)}}function C0(t,e){return typeof t=="number"?t:t[e]||0}const k0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ms=()=>({x:k0(),y:k0()}),_0=()=>({min:0,max:0}),et=()=>({x:_0(),y:_0()});function fn(t){return[t("x"),t("y")]}function yI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function uO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ed(t){return t===void 0||t===1}function rp({scale:t,scaleX:e,scaleY:n}){return!Ed(t)||!Ed(e)||!Ed(n)}function fi(t){return rp(t)||vI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function vI(t){return x0(t.x)||x0(t.y)}function x0(t){return t&&t!=="0%"}function Fu(t,e,n){const r=t-n,s=e*r;return n+s}function A0(t,e,n,r,s){return s!==void 0&&(t=Fu(t,s,r)),Fu(t,n,r)+e}function ip(t,e=0,n=1,r,s){t.min=A0(t.min,e,n,r,s),t.max=A0(t.max,e,n,r,s)}function wI(t,{x:e,y:n}){ip(t.x,e.translate,e.scale,e.originPoint),ip(t.y,n.translate,n.scale,n.originPoint)}function hO(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=n[h],u=a.projectionDelta;const f=a.instance;f&&f.style&&f.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&gs(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,wI(t,u)),r&&fi(a.latestValues)&&gs(t,a.latestValues))}e.x=P0(e.x),e.y=P0(e.y)}function P0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Pr(t,e){t.min=t.min+e,t.max=t.max+e}function R0(t,e,[n,r,s]){const a=e[s]!==void 0?e[s]:.5,u=We(t.min,t.max,a);ip(t,e[n],e[r],u,e.scale)}const fO=["x","scaleX","originX"],dO=["y","scaleY","originY"];function gs(t,e){R0(t.x,e,fO),R0(t.y,e,dO)}function EI(t,e){return yI(cO(t.getBoundingClientRect(),e))}function pO(t,e,n){const r=EI(t,n),{scroll:s}=e;return s&&(Pr(r.x,s.offset.x),Pr(r.y,s.offset.y)),r}const TI=({current:t})=>t?t.ownerDocument.defaultView:null,mO=new WeakMap;class gO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wc(g,"page").point)},a=(g,y)=>{const{drag:w,dragPropagation:E,onDragStart:S}=this.getProps();if(w&&!E&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=bS(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(D=>{let F=this.getAxisMotionValue(D).get()||0;if(Mn.test(F)){const{projection:V}=this.visualElement;if(V&&V.layout){const O=V.layout.layoutBox[D];O&&(F=tn(O)*(parseFloat(F)/100))}}this.originPoint[D]=F}),S&&Ue.update(()=>S(g,y),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},u=(g,y)=>{const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:S,onDrag:_}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:D}=y;if(E&&this.currentDirection===null){this.currentDirection=yO(D),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),_&&_(g,y)},h=(g,y)=>this.stop(g,y),f=()=>fn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mI(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:TI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ue.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!au(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=rO(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&ds(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=iO(s.layoutBox,n):this.constraints=!1,this.elastic=lO(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fn(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=aO(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ds(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=pO(r,s.root,this.visualElement.getTransformPagePoint());let u=sO(s.layout.layoutBox,a);if(n){const h=n(uO(u));this.hasMutatedConstraints=!!h,h&&(u=yI(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=fn(g=>{if(!au(g,n,this.currentDirection))return;let y=f&&f[g]||{};u&&(y={min:0,max:0});const w=s?200:1e6,E=s?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(fm(e,r,0,n))}stopAnimation(){fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fn(n=>{const{drag:r}=this.getProps();if(!au(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[n];a.set(e[n]-We(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ds(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};fn(u=>{const h=this.getAxisMotionValue(u);if(h){const f=h.get();s[u]=oO({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fn(u=>{if(!au(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(We(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;mO.set(this.visualElement,this);const e=this.visualElement.current,n=Zn(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ds(f)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const u=Xn(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(fn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=np,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function au(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vO extends Wr{constructor(e){super(e),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new gO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const D0=t=>(e,n)=>{t&&Ue.update(()=>t(e,n))};class wO extends Wr{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(e){this.session=new mI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:D0(e),onStart:D0(n),onMove:r,onEnd:(a,u)=>{delete this.session,s&&Ue.update(()=>s(a,u))}}}mount(){this.removePointerDownListener=Zn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function EO(){const t=x.useContext(Qp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=x.useId();return x.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=N0(t,e.target.x),r=N0(t,e.target.y);return`${n}% ${r}%`}},TO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Br.parse(t);if(s.length>5)return r;const a=Br.createTransformer(t),u=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const p=We(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};class SO extends Kt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;AN(IO),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,s||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Ue.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SI(t){const[e,n]=EO(),r=x.useContext(yS);return Kt.createElement(SO,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(vS),isPresent:e,safeToRemove:n})}const IO={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:TO},II=["TopLeft","TopRight","BottomLeft","BottomRight"],CO=II.length,L0=t=>typeof t=="string"?parseFloat(t):t,b0=t=>typeof t=="number"||oe.test(t);function kO(t,e,n,r,s,a){s?(t.opacity=We(0,n.opacity!==void 0?n.opacity:1,_O(r)),t.opacityExit=We(e.opacity!==void 0?e.opacity:1,0,xO(r))):a&&(t.opacity=We(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<CO;u++){const h=`border${II[u]}Radius`;let f=O0(e,h),p=O0(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||b0(f)===b0(p)?(t[h]=Math.max(We(L0(f),L0(p),r),0),(Mn.test(p)||Mn.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function O0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _O=CI(0,.5,KS),xO=CI(.5,.95,Xe);function CI(t,e,n){return r=>r<t?0:r>e?1:n(la(t,e,r))}function M0(t,e){t.min=e.min,t.max=e.max}function hn(t,e){M0(t.x,e.x),M0(t.y,e.y)}function V0(t,e,n,r,s){return t-=e,t=Fu(t,1/n,r),s!==void 0&&(t=Fu(t,1/s,r)),t}function AO(t,e=0,n=1,r=.5,s,a=t,u=t){if(Mn.test(e)&&(e=parseFloat(e),e=We(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=We(a.min,a.max,r);t===a&&(h-=e),t.min=V0(t.min,e,n,h,s),t.max=V0(t.max,e,n,h,s)}function F0(t,e,[n,r,s],a,u){AO(t,e[n],e[r],e[s],e.scale,a,u)}const PO=["x","scaleX","originX"],RO=["y","scaleY","originY"];function U0(t,e,n,r){F0(t.x,e,PO,n?n.x:void 0,r?r.x:void 0),F0(t.y,e,RO,n?n.y:void 0,r?r.y:void 0)}function j0(t){return t.translate===0&&t.scale===1}function kI(t){return j0(t.x)&&j0(t.y)}function DO(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function _I(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function B0(t){return tn(t.x)/tn(t.y)}class NO{constructor(){this.members=[]}add(e){dm(this.members,e),e.scheduleRender()}remove(e){if(pm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $0(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:f,rotateX:p,rotateY:g}=n;f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const LO=(t,e)=>t.depth-e.depth;class bO{constructor(){this.children=[],this.isDirty=!1}add(e){dm(this.children,e),this.isDirty=!0}remove(e){pm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(LO),this.isDirty=!1,this.children.forEach(e)}}function OO(t,e){const n=performance.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(rr(r),t(a-e))};return Ue.read(r,!0),()=>rr(r)}function MO(t){window.MotionDebug&&window.MotionDebug.record(t)}function VO(t){return t instanceof SVGElement&&t.tagName!=="svg"}function FO(t,e,n){const r=Gt(t)?t:ks(t);return r.start(fm("",r,e,n)),r.animation}const z0=["","X","Y","Z"],UO={visibility:"hidden"},H0=1e3;let jO=0;const di={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function xI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=jO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,di.totalNodes=di.resolvedTargetDeltas=di.recalculatedProjection=0,this.nodes.forEach(zO),this.nodes.forEach(GO),this.nodes.forEach(QO),this.nodes.forEach(HO),MO(di)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new bO)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new mm),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VO(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),t){let y;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=OO(w,250),wu.hasAnimatedSinceResize&&(wu.hasAnimatedSinceResize=!1,this.nodes.forEach(K0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||g.getDefaultTransition()||eM,{onLayoutAnimationStart:D,onLayoutAnimationComplete:F}=g.getProps(),V=!this.targetLayout||!_I(this.targetLayout,S)||E,O=!w&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||O||w&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,O);const $={...hm(_,"layout"),onPlay:D,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else w||K0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W0);return}this.isUpdating||this.nodes.forEach(KO),this.isUpdating=!1,this.nodes.forEach(qO),this.nodes.forEach(BO),this.nodes.forEach($O),this.clearAllSnapshots();const h=performance.now();xt.delta=jr(0,1e3/60,h-xt.timestamp),xt.timestamp=h,xt.isProcessing=!0,hd.update.process(xt),hd.preRender.process(xt),hd.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(WO),this.sharedNodes.forEach(XO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!kI(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(h||fi(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),tM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return et();const h=u.measureViewportBox(),{scroll:f}=this.root;return f&&(Pr(h.x,f.offset.x),Pr(h.y,f.offset.y)),h}removeElementScroll(u){const h=et();hn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:y}=p;if(p!==this.root&&g&&y.layoutScroll){if(g.isRoot){hn(h,u);const{scroll:w}=this.root;w&&(Pr(h.x,-w.offset.x),Pr(h.y,-w.offset.y))}Pr(h.x,g.offset.x),Pr(h.y,g.offset.y)}}return h}applyTransform(u,h=!1){const f=et();hn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&gs(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),fi(g.latestValues)&&gs(f,g.latestValues)}return fi(this.latestValues)&&gs(f,this.latestValues),f}removeTransform(u){const h=et();hn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!fi(p.latestValues))continue;rp(p.latestValues)&&p.updateSnapshot();const g=et(),y=p.measurePageBox();hn(g,y),U0(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return fi(this.latestValues)&&U0(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=xt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),qo(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),wI(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),qo(this.relativeTargetOrigin,this.target,E.target),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}di.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rp(this.parent.latestValues)||vI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;hn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;hO(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:S}=h;if(!S){this.projectionTransform&&(this.projectionDelta=ms(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ms(),this.projectionDeltaWithTransform=ms());const _=this.projectionTransform;Ko(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=$0(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==w||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),di.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},y=ms();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=et(),E=f?f.source:void 0,S=this.layout?this.layout.source:void 0,_=E!==S,D=this.getStack(),F=!D||D.members.length<=1,V=!!(_&&!F&&this.options.crossfade===!0&&!this.path.some(ZO));this.animationProgress=0;let O;this.mixTargetDelta=$=>{const J=$/1e3;q0(y.x,u.x,J),q0(y.y,u.y,J),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qo(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JO(this.relativeTarget,this.relativeTargetOrigin,w,J),O&&DO(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=et()),hn(O,this.relativeTarget)),_&&(this.animationValues=g,kO(g,p,this.latestValues,J,V,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{wu.hasAnimatedSinceResize=!0,this.currentAnimation=FO(0,H0,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(H0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&AI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||et();const y=tn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const w=tn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}hn(h,f),gs(h,g),Ko(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new NO),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(h=!0),!h)return;const p={};for(let g=0;g<z0.length;g++){const y="rotate"+z0[g];f[y]&&(p[y]=f[y],u.setStaticValue(y,0))}u.render();for(const g in p)u.setStaticValue(g,p[g]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UO;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=vu(u==null?void 0:u.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=vu(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!fi(this.latestValues)&&(_.transform=g?g({},""):"none",this.hasProjected=!1),_}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=$0(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:E,y:S}=this.projectionDelta;p.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,y.animationValues?p.opacity=y===this?(f=(h=w.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const _ in Du){if(w[_]===void 0)continue;const{correct:D,applyTo:F}=Du[_],V=p.transform==="none"?w[_]:D(w[_],y);if(F){const O=F.length;for(let $=0;$<O;$++)p[F[$]]=V}else p[_]=V}return this.options.layoutId&&(p.pointerEvents=y===this?vu(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(W0),this.root.sharedNodes.clear()}}}function BO(t){t.updateLayout()}function $O(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?fn(y=>{const w=u?n.measuredBox[y]:n.layoutBox[y],E=tn(w);w.min=r[y].min,w.max=w.min+E}):AI(a,n.layoutBox,r)&&fn(y=>{const w=u?n.measuredBox[y]:n.layoutBox[y],E=tn(r[y]);w.max=w.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const h=ms();Ko(h,r,n.layoutBox);const f=ms();u?Ko(f,t.applyTransform(s,!0),n.measuredBox):Ko(f,r,n.layoutBox);const p=!kI(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:E}=y;if(w&&E){const S=et();qo(S,n.layoutBox,w.layoutBox);const _=et();qo(_,r,E.layoutBox),_I(S,_)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zO(t){di.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WO(t){t.clearSnapshot()}function W0(t){t.clearMeasurements()}function KO(t){t.isLayoutDirty=!1}function qO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function K0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GO(t){t.resolveTargetDelta()}function QO(t){t.calcProjection()}function YO(t){t.resetRotation()}function XO(t){t.removeLeadSnapshot()}function q0(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function G0(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function JO(t,e,n,r){G0(t.x,e.x,n.x,r),G0(t.y,e.y,n.y,r)}function ZO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eM={duration:.45,ease:[.4,0,.1,1]},Q0=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Y0=Q0("applewebkit/")&&!Q0("chrome/")?Math.round:Xe;function X0(t){t.min=Y0(t.min),t.max=Y0(t.max)}function tM(t){X0(t.x),X0(t.y)}function AI(t,e,n){return t==="position"||t==="preserve-aspect"&&!tp(B0(e),B0(n),.2)}const nM=xI({attachResizeListener:(t,e)=>Xn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Td={current:void 0},PI=xI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Td.current){const t=new nM({});t.mount(window),t.setOptions({layoutScroll:!0}),Td.current=t}return Td.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rM={pan:{Feature:wO},drag:{Feature:vO,ProjectionNode:PI,MeasureLayout:SI}},iM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function sM(t){const e=iM.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function sp(t,e,n=1){const[r,s]=sM(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return hI(u)?parseFloat(u):u}else return Gd(s)?sp(s,e,n+1):s}function oM(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const a=s.get();if(!Gd(a))return;const u=sp(a,r);u&&s.set(u)});for(const s in e){const a=e[s];if(!Gd(a))continue;const u=sp(a,r);u&&(e[s]=u,n||(n={}),n[s]===void 0&&(n[s]=a))}return{target:e,transitionEnd:n}}const aM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),RI=t=>aM.has(t),lM=t=>Object.keys(t).some(RI),J0=t=>t===Mi||t===oe,Z0=(t,e)=>parseFloat(t.split(", ")[e]),eE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Z0(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?Z0(a[1],t):0}},uM=new Set(["x","y","z"]),cM=Aa.filter(t=>!uM.has(t));function hM(t){const e=[];return cM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const _s={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eE(4,13),y:eE(5,14)};_s.translateX=_s.x;_s.translateY=_s.y;const fM=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:u}=a,h={};u==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(p=>{h[p]=_s[p](r,a)}),e.render();const f=e.measureViewportBox();return n.forEach(p=>{const g=e.getValue(p);g&&g.jump(h[p]),t[p]=_s[p](f,a)}),t},dM=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(RI);let a=[],u=!1;const h=[];if(s.forEach(f=>{const p=t.getValue(f);if(!t.hasValue(f))return;let g=n[f],y=bo(g);const w=e[f];let E;if(Lu(w)){const S=w.length,_=w[0]===null?1:0;g=w[_],y=bo(g);for(let D=_;D<S&&w[D]!==null;D++)E?om(bo(w[D])===E):E=bo(w[D])}else E=bo(w);if(y!==E)if(J0(y)&&J0(E)){const S=p.get();typeof S=="string"&&p.set(parseFloat(S)),typeof w=="string"?e[f]=parseFloat(w):Array.isArray(w)&&E===oe&&(e[f]=w.map(parseFloat))}else y!=null&&y.transform&&(E!=null&&E.transform)&&(g===0||w===0)?g===0?p.set(E.transform(g)):e[f]=y.transform(w):(u||(a=hM(t),u=!0),h.push(f),r[f]=r[f]!==void 0?r[f]:e[f],p.jump(w))}),h.length){const f=h.indexOf("height")>=0?window.pageYOffset:null,p=fM(e,t,h);return a.length&&a.forEach(([g,y])=>{t.getValue(g).set(y)}),t.render(),mc&&f!==null&&window.scrollTo({top:f}),{target:p,transitionEnd:r}}else return{target:e,transitionEnd:r}};function pM(t,e,n,r){return lM(e)?dM(t,e,n,r):{target:e,transitionEnd:r}}const mM=(t,e,n,r)=>{const s=oM(t,e,r);return e=s.target,r=s.transitionEnd,pM(t,e,n,r)},op={current:null},DI={current:!1};function gM(){if(DI.current=!0,!!mc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>op.current=t.matches;t.addListener(e),e()}else op.current=!1}function yM(t,e,n){const{willChange:r}=e;for(const s in e){const a=e[s],u=n[s];if(Gt(a))t.addValue(s,a),Vu(r)&&r.add(s);else if(Gt(u))t.addValue(s,ks(a,{owner:t})),Vu(r)&&r.remove(s);else if(u!==a)if(t.hasValue(s)){const h=t.getValue(s);!h.hasAnimated&&h.set(a)}else{const h=t.getStaticValue(s);t.addValue(s,ks(h!==void 0?h:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const tE=new WeakMap,NI=Object.keys(aa),vM=NI.length,nE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wM=Jp.length;class EM{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ue.render(this.render,!1,!0);const{latestValues:h,renderState:f}=a;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.isControllingVariants=yc(n),this.isVariantNode=gS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{});for(const y in g){const w=g[y];h[y]!==void 0&&Gt(w)&&(w.set(h[y],!1),Vu(p)&&p.add(y))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,tE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DI.current||gM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:op.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tE.delete(this.current),this.projection&&this.projection.unmount(),rr(this.notifyUpdate),rr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Oi.has(e),s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ue.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,a){let u,h;for(let f=0;f<vM;f++){const p=NI[f],{isEnabled:g,Feature:y,ProjectionNode:w,MeasureLayout:E}=aa[p];w&&(u=w),g(n)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),E&&(h=E))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:p,drag:g,dragConstraints:y,layoutScroll:w,layoutRoot:E}=n;this.projection.setOptions({layoutId:f,layout:p,alwaysMeasureLayout:!!g||y&&ds(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:w,layoutRoot:E})}return h}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nE.length;r++){const s=nE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=yM(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<wM;r++){const s=Jp[r],a=this.props[s];(oa(a)||a===!1)&&(n[s]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ks(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=sm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Gt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new mm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LI extends EM{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},a){let u=Vb(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),u&&(u=s(u))),a){Ob(this,r,u);const h=mM(this,r,u,n);n=h.transitionEnd,r=h.target}return{transition:e,transitionEnd:n,...r}}}function TM(t){return window.getComputedStyle(t)}class SM extends LI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Oi.has(n)){const r=cm(n);return r&&r.default||0}else{const r=TM(e),s=(TS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EI(e,n)}build(e,n,r,s){em(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return im(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){xS(e,n,r,s)}}class IM extends LI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Oi.has(n)){const r=cm(n);return r&&r.default||0}return n=AS.has(n)?n:Yp(n),e.getAttribute(n)}measureInstanceViewportBox(){return et()}scrapeMotionValuesFromProps(e,n){return RS(e,n)}build(e,n,r,s){nm(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){PS(e,n,r,s)}mount(e){this.isSVGTag=rm(e.tagName),super.mount(e)}}const CM=(t,e)=>Zp(t)?new IM(e,{enableHardwareAcceleration:!1}):new SM(e,{enableHardwareAcceleration:!0}),kM={layout:{ProjectionNode:PI,MeasureLayout:SI}},_M={...Jb,...vL,...rM,...kM},xM=_N((t,e)=>sL(t,e,_M,CM)),bI="/assets/logo-CaBY21JL.png";function AM(t){const{User:e}=x.useContext(Lp),[n,r]=x.useState(""),[s,a]=x.useState(!1),[u,h]=x.useState(!1),f=uT();x.useEffect(()=>{e&&r(e.photoURL);const g=()=>{h(window.scrollY>80)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[e]);const p=()=>{NR(tS()).then(()=>f("/")).catch(g=>alert(g.message))};return z.jsx(xM.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1.5},className:`fixed top-0 z-10 w-full ${t.playPage?"backdrop-blur-sm":""}`,children:z.jsxs("nav",{className:`transition duration-500 ${u?"bg-black":""}`,children:[z.jsx("div",{className:"px-4 mx-auto max-w-8xl sm:px-6 lg:px-8",children:z.jsxs("div",{className:"flex items-center justify-between h-16",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("img",{className:"h-6 w-18 cursor-pointer",src:bI,alt:"Movie-Browser"}),z.jsx("div",{className:"hidden md:flex ml-10 space-x-4",children:["Home","Series","History","Liked","My List"].map(g=>z.jsx(ci,{to:`/${g.toLowerCase().replace(" ","")}`,className:"py-2 font-medium text-white transition hover:text-red-800 lg:px-3 text-m",children:g},g))})]}),z.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[z.jsx(ci,{to:"/search",children:z.jsx("svg",{className:"w-10 h-10 text-white hover:text-red-800 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e&&z.jsx("span",{className:"text-white hidden md:block",children:e.displayName}),z.jsxs("div",{className:"relative group",children:[z.jsx(ci,{to:"/profile",children:z.jsx("img",{className:"h-10 w-10 rounded-full cursor-pointer",src:n||"https://www.citypng.com/public/uploads/preview/profile-user-round-red-icon-symbol-download-png-11639594337tco5j3n0ix.png",alt:"User Profile"})}),z.jsxs("ul",{className:"absolute hidden group-hover:block bg-stone-900 text-white mt-1",children:[z.jsx("li",{children:z.jsx(ci,{to:"/profile",className:"block px-4 py-2 hover:bg-red-800",children:"Profile"})}),z.jsx("li",{children:z.jsx(ci,{to:"/signin",className:"block px-4 py-2 hover:bg-red-800",children:"Add User"})}),z.jsx("li",{children:z.jsx("button",{onClick:p,className:"block w-full text-left px-4 py-2 hover:bg-red-800",children:"Sign Out"})})]})]}),z.jsx("button",{onClick:()=>a(!s),className:"md:hidden p-2 rounded-md text-gray-400 bg-gray-900 hover:text-white hover:bg-gray-800",children:s?z.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):z.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),z.jsx(mN,{show:s,enter:"transition ease-out duration-100 transform",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75 transform",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:z.jsxs("div",{className:"md:hidden px-2 pt-2 pb-3 space-y-1",children:[["Home","Series","History","Liked","My List","Signin"].map(g=>z.jsx(ci,{to:`/${g.toLowerCase().replace(" ","")}`,className:"block px-3 py-2 text-base font-medium text-gray-300 rounded-md hover:bg-red-800 hover:text-white",children:g},g)),z.jsx("button",{onClick:p,className:"block w-full text-left px-3 py-2 text-base font-medium text-gray-300 rounded-md hover:bg-red-800 hover:text-white",children:"Sign Out"})]})})]})})}function PM(){const[t,e]=x.useState(!1),n=()=>{window.scrollY>100?e(!0):e(!1)};return x.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),z.jsx("div",{children:z.jsxs("header",{className:`fixed z-50 w-full flex items-center py-4 transition duration-500 ease-in-out ${t&&"bg-black transition duration-500 ease-in-out"}`,children:[z.jsx("div",{className:"w-9/12 md:w-11/12",children:z.jsx("img",{className:"h-8 sm:h-10 sm:w-18 ml-8 cursor-pointer",src:bI,alt:"movie-Browser"})}),z.jsx("div",{children:z.jsx(ci,{to:"/signin",children:z.jsx("button",{className:"bg-red-600 px-8 rounded-sm py-2 text-white text-base font-bold mr-4 lg:mr-0",children:"Login"})})})]})})}const rE=x.lazy(()=>vn(()=>import("./Home-BnnM-ezE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),RM=x.lazy(()=>vn(()=>import("./Series-D_4rtFJH.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,8]))),DM=x.lazy(()=>vn(()=>import("./Search-DNTEtu7s.js"),__vite__mapDeps([10,2,3,4]))),NM=x.lazy(()=>vn(()=>import("./Profile-DE4LGcuG.js"),__vite__mapDeps([11,3,12,6]))),LM=x.lazy(()=>vn(()=>import("./MyList-CkLMm96O.js"),__vite__mapDeps([13,14,4,2,3]))),bM=x.lazy(()=>vn(()=>import("./SignIn-Ca55_Yk3.js"),__vite__mapDeps([15,12]))),OM=x.lazy(()=>vn(()=>import("./SignUp-ZsRrHCeq.js"),__vite__mapDeps([16,12]))),MM=x.lazy(()=>vn(()=>import("./Welcome-ByqZspDM.js"),__vite__mapDeps([17,7,8,12]))),VM=x.lazy(()=>vn(()=>import("./ErrorPage-BN3_yac3.js"),[])),iE=x.lazy(()=>vn(()=>import("./Play-D6F-O3zL.js"),__vite__mapDeps([18,2,3,7,8,6]))),FM=x.lazy(()=>vn(()=>import("./LikedMovies-CS1YOyTd.js"),__vite__mapDeps([19,14,4,2,3]))),UM=x.lazy(()=>vn(()=>import("./History-Pn2qXvRI.js"),__vite__mapDeps([20,14,4,2,3])));function jM(){const{User:t,setUser:e}=x.useContext(Lp);return x.useEffect(()=>{const n=tS();DR(n,r=>{e(r),console.log(r)})},[]),z.jsxs("div",{children:[t?z.jsx(AM,{}):z.jsx(PM,{}),z.jsx(x.Suspense,{replace:!0,fallback:z.jsx(XD,{}),children:z.jsxs(oA,{children:[z.jsx(Ht,{index:!0,path:"/",element:t?z.jsx(rE,{}):z.jsx(MM,{})}),t?z.jsxs(z.Fragment,{children:[z.jsx(Ht,{path:"/home",element:z.jsx(rE,{})}),z.jsx(Ht,{path:"/series",element:z.jsx(RM,{})}),z.jsx(Ht,{path:"/search",element:z.jsx(DM,{})}),z.jsx(Ht,{path:"/profile",element:z.jsx(NM,{})}),z.jsx(Ht,{path:"/mylist",element:z.jsx(LM,{})}),z.jsx(Ht,{path:"/liked",element:z.jsx(FM,{})}),z.jsx(Ht,{path:"/history",element:z.jsx(UM,{})}),z.jsx(Ht,{path:"/play/:id",element:z.jsx(iE,{})})]}):null,z.jsx(Ht,{path:"/play/:id",element:z.jsx(iE,{})}),z.jsx(Ht,{path:"/signin",element:z.jsx(bM,{})}),z.jsx(Ht,{path:"/signup",element:z.jsx(OM,{})}),z.jsx(Ht,{path:"*",element:z.jsx(VM,{})})]})})]})}var BM="firebase",$M="9.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(BM,$M,"app");const OI="@firebase/installations",gm="0.5.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e4,VI=`w:${gm}`,FI="FIS_v2",zM="https://firebaseinstallations.googleapis.com/v1",HM=60*60*1e3,WM="installations",KM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ai=new Li(WM,KM,qM);function UI(t){return t instanceof xn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI({projectId:t}){return`${zM}/projects/${t}/installations`}function BI(t){return{token:t.token,requestStatus:2,expiresIn:QM(t.expiresIn),creationTime:Date.now()}}async function $I(t,e){const r=(await e.json()).error;return Ai.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function GM(t,{refreshToken:e}){const n=zI(t);return n.append("Authorization",YM(e)),n}async function HI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function QM(t){return Number(t.replace("s","000"))}function YM(t){return`${FI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=jI(t),s=zI(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={fid:n,authVersion:FI,appId:t.appId,sdkVersion:VI},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await HI(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:BI(p.authToken)}}else throw await $I("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^[cdef][\w-]{21}$/,ap="";function eV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=tV(t);return ZM.test(n)?n:ap}catch{return ap}}function tV(t){return JM(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Map;function qI(t,e){const n=Tc(t);GI(n,e),nV(n,e)}function GI(t,e){const n=KI.get(t);if(n)for(const r of n)r(e)}function nV(t,e){const n=rV();n&&n.postMessage({key:t,fid:e}),iV()}let yi=null;function rV(){return!yi&&"BroadcastChannel"in self&&(yi=new BroadcastChannel("[Firebase] FID Change"),yi.onmessage=t=>{GI(t.data.key,t.data.fid)}),yi}function iV(){KI.size===0&&yi&&(yi.close(),yi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="firebase-installations-database",oV=1,Pi="firebase-installations-store";let Sd=null;function ym(){return Sd||(Sd=TT(sV,oV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pi)}}})),Sd}async function Uu(t,e){const n=Tc(t),s=(await ym()).transaction(Pi,"readwrite"),a=s.objectStore(Pi),u=await a.get(n);return await a.put(e,n),await s.done,(!u||u.fid!==e.fid)&&qI(t,e.fid),e}async function QI(t){const e=Tc(t),r=(await ym()).transaction(Pi,"readwrite");await r.objectStore(Pi).delete(e),await r.done}async function Sc(t,e){const n=Tc(t),s=(await ym()).transaction(Pi,"readwrite"),a=s.objectStore(Pi),u=await a.get(n),h=e(u);return h===void 0?await a.delete(n):await a.put(h,n),await s.done,h&&(!u||u.fid!==h.fid)&&qI(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(t){let e;const n=await Sc(t.appConfig,r=>{const s=aV(r),a=lV(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===ap?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aV(t){const e=t||{fid:eV(),registrationStatus:0};return YI(e)}function lV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ai.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cV(t)}:{installationEntry:e}}async function uV(t,e){try{const n=await XM(t,e);return Uu(t.appConfig,n)}catch(n){throw UI(n)&&n.customData.serverCode===409?await QI(t.appConfig):await Uu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function cV(t){let e=await sE(t.appConfig);for(;e.registrationStatus===1;)await WI(100),e=await sE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await vm(t);return r||n}return e}function sE(t){return Sc(t,e=>{if(!e)throw Ai.create("installation-not-found");return YI(e)})}function YI(t){return hV(t)?{fid:t.fid,registrationStatus:0}:t}function hV(t){return t.registrationStatus===1&&t.registrationTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV({appConfig:t,heartbeatServiceProvider:e},n){const r=dV(t,n),s=GM(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={installation:{sdkVersion:VI,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await HI(()=>fetch(r,h));if(f.ok){const p=await f.json();return BI(p)}else throw await $I("Generate Auth Token",f)}function dV(t,{fid:e}){return`${jI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t,e=!1){let n;const r=await Sc(t.appConfig,a=>{if(!XI(a))throw Ai.create("not-registered");const u=a.authToken;if(!e&&gV(u))return a;if(u.requestStatus===1)return n=pV(t,e),a;{if(!navigator.onLine)throw Ai.create("app-offline");const h=vV(a);return n=mV(t,h),h}});return n?await n:r.authToken}async function pV(t,e){let n=await oE(t.appConfig);for(;n.authToken.requestStatus===1;)await WI(100),n=await oE(t.appConfig);const r=n.authToken;return r.requestStatus===0?wm(t,e):r}function oE(t){return Sc(t,e=>{if(!XI(e))throw Ai.create("not-registered");const n=e.authToken;return wV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function mV(t,e){try{const n=await fV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Uu(t.appConfig,r),n}catch(n){if(UI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Uu(t.appConfig,r)}throw n}}function XI(t){return t!==void 0&&t.registrationStatus===2}function gV(t){return t.requestStatus===2&&!yV(t)}function yV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+HM}function vV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function wV(t){return t.requestStatus===1&&t.requestTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t){const e=t,{installationEntry:n,registrationPromise:r}=await vm(e);return r?r.catch(console.error):wm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e=!1){const n=t;return await SV(n),(await wm(n,e)).token}async function SV(t){const{registrationPromise:e}=await vm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){if(!t||!t.options)throw Id("App Configuration");if(!t.name)throw Id("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Id(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Id(t){return Ai.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="installations",CV="installations-internal",kV=t=>{const e=t.getProvider("app").getImmediate(),n=IV(e),r=bi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_V=t=>{const e=t.getProvider("app").getImmediate(),n=bi(e,JI).getImmediate();return{getId:()=>EV(n),getToken:s=>TV(n,s)}};function xV(){Fn(new _n(JI,kV,"PUBLIC")),Fn(new _n(CV,_V,"PRIVATE"))}xV();pn(OI,gm);pn(OI,gm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="analytics",AV="firebase_id",PV="origin",RV=60*1e3,DV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ZI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new sc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function NV(t,e){const n=document.createElement("script");n.src=`${ZI}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function LV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function bV(t,e,n,r,s,a){const u=r[s];try{if(u)await e[u];else{const f=(await eC(n)).find(p=>p.measurementId===s);f&&await e[f.appId]}}catch(h){Zt.error(h)}t("config",s,a)}async function OV(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const h=await eC(n);for(const f of u){const p=h.find(y=>y.measurementId===f),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){Zt.error(a)}}function MV(t,e,n,r){async function s(a,u,h){try{a==="event"?await OV(t,e,n,u,h):a==="config"?await bV(t,e,n,r,u,h):a==="consent"?t("consent","update",h):t("set",u)}catch(f){Zt.error(f)}}return s}function VV(t,e,n,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=MV(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function FV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ZI)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},mn=new Li("analytics","Analytics",UV);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=30,BV=1e3;class $V{constructor(e={},n=BV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tC=new $V;function zV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function HV(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:zV(r)},a=DV.replace("{app-id}",n),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let h="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function WV(t,e=tC,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw mn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw mn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new GV;return setTimeout(async()=>{h.abort()},RV),nC({appId:r,apiKey:s,measurementId:a},u,h,e)}async function nC(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=tC){var a,u;const{appId:h,measurementId:f}=t;try{await KV(r,e)}catch(p){if(f)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${(a=p)===null||a===void 0?void 0:a.message}]`),{appId:h,measurementId:f};throw p}try{const p=await HV(t);return s.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!qV(g)){if(s.deleteThrottleMetadata(h),f)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw p}const y=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?kw(n,s.intervalMillis,jV):kw(n,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return s.setThrottleMetadata(h,w),Zt.debug(`Calling attemptFetch again in ${y} millis`),nC(t,w,r,s)}}function KV(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qV(t){if(!(t instanceof xn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class GV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function QV(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(){var t;if(mT())try{await gT()}catch(e){return Zt.warn(mn.create("indexeddb-unavailable",{errorInfo:(t=e)===null||t===void 0?void 0:t.toString()}).message),!1}else return Zt.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function XV(t,e,n,r,s,a,u){var h;const f=WV(t);f.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Zt.error(E)),e.push(f);const p=YV().then(E=>{if(E)return r.getId()}),[g,y]=await Promise.all([f,p]);FV(a)||NV(a,g.measurementId),s("js",new Date);const w=(h=u==null?void 0:u.config)!==null&&h!==void 0?h:{};return w[PV]="firebase",w.update=!0,y!=null&&(w[AV]=y),s("config",g.measurementId,w),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.app=e}_delete(){return delete Go[this.app.options.appId],Promise.resolve()}}let Go={},aE=[];const lE={};let Cd="dataLayer",ZV="gtag",uE,rC,cE=!1;function eF(){const t=[];if(pT()&&t.push("This is a browser extension environment."),wA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=mn.create("invalid-analytics-context",{errorInfo:e});Zt.warn(n.message)}}function tF(t,e,n){eF();const r=t.options.appId;if(!r)throw mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(Go[r]!=null)throw mn.create("already-exists",{id:r});if(!cE){LV(Cd);const{wrappedGtag:a,gtagCore:u}=VV(Go,aE,lE,Cd,ZV);rC=a,uE=u,cE=!0}return Go[r]=XV(t,aE,lE,e,uE,Cd,n),new JV(t)}function nF(t=Mp()){t=lt(t);const e=bi(t,ju);return e.isInitialized()?e.getImmediate():rF(t)}function rF(t,e={}){const n=bi(t,ju);if(n.isInitialized()){const s=n.getImmediate();if(ta(e,n.getOptions()))return s;throw mn.create("already-initialized")}return n.initialize({options:e})}function iF(t,e,n,r){t=lt(t),QV(rC,Go[t.app.options.appId],e,n,r).catch(s=>Zt.error(s))}const hE="@firebase/analytics",fE="0.8.4";function sF(){Fn(new _n(ju,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return tF(r,s,n)},"PUBLIC")),Fn(new _n("analytics-internal",t,"PRIVATE")),pn(hE,fE),pn(hE,fE,"esm2017");function t(e){try{const n=e.getProvider(ju).getImmediate();return{logEvent:(r,s,a)=>iF(n,r,s,a)}}catch(n){throw mn.create("interop-component-reg-failed",{reason:n})}}}sF();var oF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,Em=Em||{},he=oF||self;function Bu(){}function Ic(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function aF(t,e,n){return t.call.apply(t.bind,arguments)}function lF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Rt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Rt=aF:Rt=lF,Rt.apply(null,arguments)}function lu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,s,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[s].apply(r,u)}}function Kr(){this.s=this.s,this.o=this.o}var uF=0;Kr.prototype.s=!1;Kr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),uF!=0)};Kr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function dE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ic(r)){const s=t.length||0,a=r.length||0;t.length=s+a;for(let u=0;u<a;u++)t[s+u]=r[u]}else t.push(r)}}function Dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var cF=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{he.addEventListener("test",Bu,e),he.removeEventListener("test",Bu,e)}catch{}return t}();function $u(t){return/^[\s\xa0]*$/.test(t)}var pE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function kd(t,e){return t<e?-1:t>e?1:0}function kc(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function Ln(t){return kc().indexOf(t)!=-1}function Sm(t){return Sm[" "](t),t}Sm[" "]=Bu;function hF(t){var e=pF;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var fF=Ln("Opera"),xs=Ln("Trident")||Ln("MSIE"),sC=Ln("Edge"),lp=sC||xs,oC=Ln("Gecko")&&!(kc().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),dF=kc().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function aC(){var t=he.document;return t?t.documentMode:void 0}var zu;e:{var _d="",xd=function(){var t=kc();if(oC)return/rv:([^\);]+)(\)|;)/.exec(t);if(sC)return/Edge\/([\d\.]+)/.exec(t);if(xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dF)return/WebKit\/(\S+)/.exec(t);if(fF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xd&&(_d=xd?xd[1]:""),xs){var Ad=aC();if(Ad!=null&&Ad>parseFloat(_d)){zu=String(Ad);break e}}zu=_d}var pF={};function mF(){return hF(function(){let t=0;const e=pE(String(zu)).split("."),n=pE("9").split("."),r=Math.max(e.length,n.length);for(let u=0;t==0&&u<r;u++){var s=e[u]||"",a=n[u]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;t=kd(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||kd(s[2].length==0,a[2].length==0)||kd(s[2],a[2]),s=s[3],a=a[3]}while(t==0)}return 0<=t})}var up;if(he.document&&xs){var mE=aC();up=mE||parseInt(zu,10)||void 0}else up=void 0;var gF=up;function ua(t,e){if(Dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(oC){e:{try{Sm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ua.X.h.call(this)}}St(ua,Dt);var yF={2:"touch",3:"pen",4:"mouse"};ua.prototype.h=function(){ua.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),vF=0;function wF(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=s,this.key=++vF,this.ba=this.ea=!1}function xc(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Im(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lC(t){const e={};for(const n in t)e[n]=t[n];return e}const gE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uC(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let a=0;a<gE.length;a++)n=gE[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ac(t){this.src=t,this.g={},this.h=0}Ac.prototype.add=function(t,e,n,r,s){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var u=hp(t,e,r,s);return-1<u?(e=t[u],n||(e.ea=!1)):(e=new wF(e,this.src,a,!!r,s),e.ea=n,t.push(e)),e};function cp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=iC(r,e),a;(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(xc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hp(t,e,n,r){for(var s=0;s<t.length;++s){var a=t[s];if(!a.ba&&a.listener==e&&a.capture==!!n&&a.ha==r)return s}return-1}var Cm="closure_lm_"+(1e6*Math.random()|0),Pd={};function cC(t,e,n,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)cC(t,e[a],n,r,s);return null}return n=dC(n),t&&t[_c]?t.N(e,n,Cc(r)?!!r.capture:!1,s):EF(t,e,n,!1,r,s)}function EF(t,e,n,r,s,a){if(!e)throw Error("Invalid event type");var u=Cc(s)?!!s.capture:!!s,h=_m(t);if(h||(t[Cm]=h=new Ac(t)),n=h.add(e,n,r,u,a),n.proxy)return n;if(r=TF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cF||(s=u),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(fC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TF(){function t(n){return e.call(t.src,t.listener,n)}const e=SF;return t}function hC(t,e,n,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)hC(t,e[a],n,r,s);else r=Cc(r)?!!r.capture:!!r,n=dC(n),t&&t[_c]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=hp(a,n,r,s),-1<n&&(xc(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=_m(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hp(e,n,r,s)),(n=-1<t?e[t]:null)&&km(n))}function km(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[_c])cp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_m(e))?(cp(n,t),n.h==0&&(n.src=null,e[Cm]=null)):xc(t)}}}function fC(t){return t in Pd?Pd[t]:Pd[t]="on"+t}function SF(t,e){if(t.ba)t=!0;else{e=new ua(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&km(t),t=n.call(r,e)}return t}function _m(t){return t=t[Cm],t instanceof Ac?t:null}var Rd="__closure_events_fn_"+(1e9*Math.random()>>>0);function dC(t){return typeof t=="function"?t:(t[Rd]||(t[Rd]=function(e){return t.handleEvent(e)}),t[Rd])}function gt(){Kr.call(this),this.i=new Ac(this),this.P=this,this.I=null}St(gt,Kr);gt.prototype[_c]=!0;gt.prototype.removeEventListener=function(t,e,n,r){hC(this,t,e,n,r)};function Tt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Dt(e,t);else if(e instanceof Dt)e.target=e.target||t;else{var s=e;e=new Dt(r,t),uC(e,s)}if(s=!0,n)for(var a=n.length-1;0<=a;a--){var u=e.g=n[a];s=uu(u,r,!0,e)&&s}if(u=e.g=t,s=uu(u,r,!0,e)&&s,s=uu(u,r,!1,e)&&s,n)for(a=0;a<n.length;a++)u=e.g=n[a],s=uu(u,r,!1,e)&&s}gt.prototype.M=function(){if(gt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xc(n[r]);delete t.g[e],t.h--}}this.I=null};gt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function uu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==n){var h=u.listener,f=u.ha||u.src;u.ea&&cp(t.i,u),s=h.call(f,r)!==!1&&s}}return s&&!r.defaultPrevented}var xm=he.JSON.stringify;function IF(){var t=gC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class CF{constructor(){this.h=this.g=null}add(e,n){const r=pC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var pC=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new kF,t=>t.reset());class kF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _F(t){he.setTimeout(()=>{throw t},0)}function mC(t,e){fp||xF(),dp||(fp(),dp=!0),gC.add(t,e)}var fp;function xF(){var t=he.Promise.resolve(void 0);fp=function(){t.then(AF)}}var dp=!1,gC=new CF;function AF(){for(var t;t=IF();){try{t.h.call(t.g)}catch(n){_F(n)}var e=pC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}dp=!1}function Pc(t,e){gt.call(this),this.h=t||1,this.g=e||he,this.j=Rt(this.lb,this),this.l=Date.now()}St(Pc,gt);X=Pc.prototype;X.ca=!1;X.R=null;X.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tt(this,"tick"),this.ca&&(Am(this),this.start()))}};X.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Am(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}X.M=function(){Pc.X.M.call(this),Am(this),delete this.g};function Pm(t,e,n){if(typeof t=="function")n&&(t=Rt(t,n));else if(t&&typeof t.handleEvent=="function")t=Rt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function yC(t){t.g=Pm(()=>{t.g=null,t.i&&(t.i=!1,yC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class PF extends Kr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yC(this)}M(){super.M(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(t){Kr.call(this),this.h=t,this.g={}}St(ca,Kr);var yE=[];function vC(t,e,n,r){Array.isArray(n)||(n&&(yE[0]=n.toString()),n=yE);for(var s=0;s<n.length;s++){var a=cC(e,n[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function wC(t){Im(t.g,function(e,n){this.g.hasOwnProperty(n)&&km(e)},t),t.g={}}ca.prototype.M=function(){ca.X.M.call(this),wC(this)};ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rc(){this.g=!0}Rc.prototype.Aa=function(){this.g=!1};function RF(t,e,n,r,s,a){t.info(function(){if(t.g)if(a)for(var u="",h=a.split("&"),f=0;f<h.length;f++){var p=h[f].split("=");if(1<p.length){var g=p[0];p=p[1];var y=g.split("_");u=2<=y.length&&y[1]=="type"?u+(g+"="+p+"&"):u+(g+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+u})}function DF(t,e,n,r,s,a,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+a+" "+u})}function ys(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+LF(t,n)+(r?" "+r:"")})}function NF(t,e){t.info(function(){return"TIMEOUT: "+e})}Rc.prototype.info=function(){};function LF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if(a!="noop"&&a!="stop"&&a!="close")for(var u=1;u<s.length;u++)s[u]=""}}}}return xm(n)}catch{return e}}var Vi={},vE=null;function Dc(){return vE=vE||new gt}Vi.Pa="serverreachability";function EC(t){Dt.call(this,Vi.Pa,t)}St(EC,Dt);function ha(t){const e=Dc();Tt(e,new EC(e))}Vi.STAT_EVENT="statevent";function TC(t,e){Dt.call(this,Vi.STAT_EVENT,t),this.stat=e}St(TC,Dt);function Vt(t){const e=Dc();Tt(e,new TC(e,t))}Vi.Qa="timingevent";function SC(t,e){Dt.call(this,Vi.Qa,t),this.size=e}St(SC,Dt);function Na(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}var Nc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},IC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Rm(){}Rm.prototype.h=null;function wE(t){return t.h||(t.h=t.i())}function CC(){}var La={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Dm(){Dt.call(this,"d")}St(Dm,Dt);function Nm(){Dt.call(this,"c")}St(Nm,Dt);var pp;function Lc(){}St(Lc,Rm);Lc.prototype.g=function(){return new XMLHttpRequest};Lc.prototype.i=function(){return{}};pp=new Lc;function ba(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new ca(this),this.O=bF,t=lp?125:void 0,this.T=new Pc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kC}function kC(){this.i=null,this.g="",this.h=!1}var bF=45e3,mp={},Hu={};X=ba.prototype;X.setTimeout=function(t){this.O=t};function gp(t,e,n){t.K=1,t.v=Oc(ir(e)),t.s=n,t.P=!0,_C(t,null)}function _C(t,e){t.F=Date.now(),Oa(t),t.A=ir(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),bC(n.i,"t",r),t.C=0,n=t.l.H,t.h=new kC,t.g=tk(t.l,n?e:null,!t.s),0<t.N&&(t.L=new PF(Rt(t.La,t,t.g),t.N)),vC(t.S,t.g,"readystatechange",t.ib),e=t.H?lC(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),ha(),RF(t.j,t.u,t.A,t.m,t.U,t.s)}X.ib=function(t){t=t.target;const e=this.L;e&&Jn(t)==3?e.l():this.La(t)};X.La=function(t){try{if(t==this.g)e:{const g=Jn(this.g);var e=this.g.Ea();const y=this.g.aa();if(!(3>g)&&(g!=3||lp||this.g&&(this.h.h||this.g.fa()||IE(this.g)))){this.I||g!=4||e==7||(e==8||0>=y?ha(3):ha(2)),bc(this);var n=this.g.aa();this.Y=n;t:if(xC(this)){var r=IE(this.g);t="";var s=r.length,a=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),Qo(this);var u="";break t}this.h.i=new he.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=n==200,DF(this.j,this.u,this.A,this.m,this.U,g,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$u(h)){var p=h;break t}}p=null}if(n=p)ys(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yp(this,n);else{this.i=!1,this.o=3,Vt(12),vi(this),Qo(this);break e}}this.P?(AC(this,g,u),lp&&this.i&&g==3&&(vC(this.S,this.T,"tick",this.hb),this.T.start())):(ys(this.j,this.m,u,null),yp(this,u)),g==4&&vi(this),this.i&&!this.I&&(g==4?XC(this.l,this):(this.i=!1,Oa(this)))}else n==400&&0<u.indexOf("Unknown SID")?(this.o=3,Vt(12)):(this.o=0,Vt(13)),vi(this),Qo(this)}}}catch{}finally{}};function xC(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function AC(t,e,n){let r=!0,s;for(;!t.I&&t.C<n.length;)if(s=OF(t,n),s==Hu){e==4&&(t.o=4,Vt(14),r=!1),ys(t.j,t.m,null,"[Incomplete Response]");break}else if(s==mp){t.o=4,Vt(15),ys(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ys(t.j,t.m,s,null),yp(t,s);xC(t)&&s!=Hu&&s!=mp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Vt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Um(e),e.K=!0,Vt(11))):(ys(t.j,t.m,n,"[Invalid Chunked Response]"),vi(t),Qo(t))}X.hb=function(){if(this.g){var t=Jn(this.g),e=this.g.fa();this.C<e.length&&(bc(this),AC(this,t,e),this.i&&t!=4&&Oa(this))}};function OF(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Hu:(n=Number(e.substring(n,r)),isNaN(n)?mp:(r+=1,r+n>e.length?Hu:(e=e.substr(r,n),t.C=r+n,e)))}X.cancel=function(){this.I=!0,vi(this)};function Oa(t){t.V=Date.now()+t.O,PC(t,t.O)}function PC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Na(Rt(t.gb,t),e)}function bc(t){t.B&&(he.clearTimeout(t.B),t.B=null)}X.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(NF(this.j,this.A),this.K!=2&&(ha(),Vt(17)),vi(this),this.o=2,Qo(this)):PC(this,this.V-t)};function Qo(t){t.l.G==0||t.I||XC(t.l,t)}function vi(t){bc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Am(t.T),wC(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function yp(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||vp(n.h,t))){if(!t.J&&vp(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)qu(n),Fc(n);else break e;Fm(n),Vt(18)}}else n.Ba=s[1],0<n.Ba-n.T&&37500>s[2]&&n.L&&n.A==0&&!n.v&&(n.v=Na(Rt(n.cb,n),6e3));if(1>=VC(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else wi(n,11)}else if((t.J||n.g==t)&&qu(n),!$u(e))for(s=n.Fa.g.parse(e),e=0;e<s.length;e++){let p=s[e];if(n.T=p[0],p=p[1],n.G==2)if(p[0]=="c"){n.I=p[1],n.ka=p[2];const g=p[3];g!=null&&(n.ma=g,n.j.info("VER="+n.ma));const y=p[4];y!=null&&(n.Ca=y,n.j.info("SVER="+n.Ca));const w=p[5];w!=null&&typeof w=="number"&&0<w&&(r=1.5*w,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const S=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var a=r.h;a.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(a.j=a.l,a.g=new Set,a.h&&(Lm(a,a.h),a.h=null))}if(r.D){const _=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.za=_,Be(r.F,r.D,_))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var u=t;if(r.sa=ek(r,r.H?r.ka:null,r.V),u.J){FC(r.h,u);var h=u,f=r.J;f&&h.setTimeout(f),h.B&&(bc(h),Oa(h)),r.g=u}else QC(r);0<n.i.length&&Uc(n)}else p[0]!="stop"&&p[0]!="close"||wi(n,7);else n.G==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?wi(n,7):Vm(n):p[0]!="noop"&&n.l&&n.l.wa(p),n.A=0)}}ha(4)}catch{}}function MF(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ic(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function VF(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ic(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function RC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ic(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=VF(t),r=MF(t),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],n&&n[a],t)}var DC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var a=t[n].substring(0,r);s=t[n].substring(r+1)}else a=t[n];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ii(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ii){this.h=e!==void 0?e:t.h,Wu(this,t.j),this.s=t.s,this.g=t.g,Ku(this,t.m),this.l=t.l,e=t.i;var n=new fa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),EE(this,n),this.o=t.o}else t&&(n=String(t).match(DC))?(this.h=!!e,Wu(this,n[1]||"",!0),this.s=jo(n[2]||""),this.g=jo(n[3]||"",!0),Ku(this,n[4]),this.l=jo(n[5]||"",!0),EE(this,n[6]||"",!0),this.o=jo(n[7]||"")):(this.h=!!e,this.i=new fa(null,this.h))}Ii.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bo(e,TE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Bo(e,TE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Bo(n,n.charAt(0)=="/"?BF:jF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bo(n,zF)),t.join("")};function ir(t){return new Ii(t)}function Wu(t,e,n){t.j=n?jo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ku(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function EE(t,e,n){e instanceof fa?(t.i=e,HF(t.i,t.h)):(n||(e=Bo(e,$F)),t.i=new fa(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function Oc(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,UF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function UF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TE=/[#\/\?@]/g,jF=/[#\?:]/g,BF=/[#\?]/g,$F=/[#\?@]/g,zF=/#/g;function fa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qr(t){t.g||(t.g=new Map,t.h=0,t.i&&FF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=fa.prototype;X.add=function(t,e){qr(this),this.i=null,t=Bs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function NC(t,e){qr(t),e=Bs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function LC(t,e){return qr(t),e=Bs(t,e),t.g.has(e)}X.forEach=function(t,e){qr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};X.oa=function(){qr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let a=0;a<s.length;a++)n.push(e[r])}return n};X.W=function(t){qr(this);let e=[];if(typeof t=="string")LC(this,t)&&(e=e.concat(this.g.get(Bs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return qr(this),this.i=null,t=Bs(this,t),LC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function bC(t,e,n){NC(t,e),0<n.length&&(t.i=null,t.g.set(Bs(t,e),Tm(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var s=a;u[r]!==""&&(s+="="+encodeURIComponent(String(u[r]))),t.push(s)}}return this.i=t.join("&")};function Bs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HF(t,e){e&&!t.j&&(qr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(NC(this,r),bC(this,s,n))},t)),t.j=e}var WF=class{constructor(t,e){this.h=t,this.g=e}};function OC(t){this.l=t||KF,he.PerformanceNavigationTiming?(t=he.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(he.g&&he.g.Ga&&he.g.Ga()&&he.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KF=10;function MC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VC(t){return t.h?1:t.g?t.g.size:0}function vp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Lm(t,e){t.g?t.g.add(e):t.h=e}function FC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}OC.prototype.cancel=function(){if(this.i=UC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function UC(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Tm(t.i)}function bm(){}bm.prototype.stringify=function(t){return he.JSON.stringify(t,void 0)};bm.prototype.parse=function(t){return he.JSON.parse(t,void 0)};function qF(){this.g=new bm}function GF(t,e,n){const r=n||"";try{RC(t,function(s,a){let u=s;Cc(s)&&(u=xm(s)),e.push(r+a+"="+encodeURIComponent(u))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function QF(t,e){const n=new Rc;if(he.Image){const r=new Image;r.onload=lu(cu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lu(cu,n,r,"TestLoadImage: error",!1,e),r.onabort=lu(cu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lu(cu,n,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function cu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Ma(t){this.l=t.ac||null,this.j=t.jb||!1}St(Ma,Rm);Ma.prototype.g=function(){return new Mc(this.l,this.j)};Ma.prototype.i=function(t){return function(){return t}}({});function Mc(t,e){gt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Mc,gt);var Om=0;X=Mc.prototype;X.open=function(t,e){if(this.readyState!=Om)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,da(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||he).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=Om};X.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jC(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function jC(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}X.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Va(this):da(this),this.readyState==3&&jC(this)}};X.Va=function(t){this.g&&(this.response=this.responseText=t,Va(this))};X.Ua=function(t){this.g&&(this.response=t,Va(this))};X.ga=function(){this.g&&Va(this)};function Va(t){t.readyState=4,t.l=null,t.j=null,t.A=null,da(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function da(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var YF=he.JSON.parse;function Ge(t){gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BC,this.K=this.L=!1}St(Ge,gt);var BC="",XF=/^https?$/i,JF=["POST","PUT"];X=Ge.prototype;X.Ka=function(t){this.L=t};X.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pp.g(),this.C=this.u?wE(this.u):wE(pp),this.g.onreadystatechange=Rt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(a){SE(this,a);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const a of r.keys())n.set(a,r.get(a));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(a=>a.toLowerCase()=="content-type"),s=he.FormData&&t instanceof he.FormData,!(0<=iC(JF,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of n)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{HC(this),0<this.B&&((this.K=ZF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.qa,this)):this.A=Pm(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){SE(this,a)}};function ZF(t){return xs&&mF()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.qa=function(){typeof Em<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function SE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$C(t),Vc(t)}function $C(t){t.D||(t.D=!0,Tt(t,"complete"),Tt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),Vc(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vc(this,!0)),Ge.X.M.call(this)};X.Ha=function(){this.s||(this.F||this.v||this.l?zC(this):this.fb())};X.fb=function(){zC(this)};function zC(t){if(t.h&&typeof Em<"u"&&(!t.C[1]||Jn(t)!=4||t.aa()!=2)){if(t.v&&Jn(t)==4)Pm(t.Ha,0,t);else if(Tt(t,"readystatechange"),Jn(t)==4){t.h=!1;try{const h=t.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=h===0){var s=String(t.H).match(DC)[1]||null;if(!s&&he.self&&he.self.location){var a=he.self.location.protocol;s=a.substr(0,a.length-1)}r=!XF.test(s?s.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var u=2<Jn(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.aa()+"]",$C(t)}}finally{Vc(t)}}}}function Vc(t,e){if(t.g){HC(t);const n=t.g,r=t.C[0]?Bu:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function HC(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}function Jn(t){return t.g?t.g.readyState:0}X.aa=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}};X.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),YF(e)}};function IE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case BC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}X.Ea=function(){return this.m};X.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function WC(t){let e="";return Im(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Mm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=WC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Be(t,e,n))}function Mo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KC(t){this.Ca=0,this.i=[],this.j=new Rc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Mo("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Mo("baseRetryDelayMs",5e3,t),this.bb=Mo("retryDelaySeedMs",1e4,t),this.$a=Mo("forwardChannelMaxRetries",2,t),this.ta=Mo("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new OC(t&&t.concurrentRequestLimit),this.Fa=new qF,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}X=KC.prototype;X.ma=8;X.G=1;function Vm(t){if(qC(t),t.G==3){var e=t.U++,n=ir(t.F);Be(n,"SID",t.I),Be(n,"RID",e),Be(n,"TYPE","terminate"),Fa(t,n),e=new ba(t,t.j,e,void 0),e.K=2,e.v=Oc(ir(n)),n=!1,he.navigator&&he.navigator.sendBeacon&&(n=he.navigator.sendBeacon(e.v.toString(),"")),!n&&he.Image&&(new Image().src=e.v,n=!0),n||(e.g=tk(e.l,null),e.g.da(e.v)),e.F=Date.now(),Oa(e)}ZC(t)}function Fc(t){t.g&&(Um(t),t.g.cancel(),t.g=null)}function qC(t){Fc(t),t.u&&(he.clearTimeout(t.u),t.u=null),qu(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&he.clearTimeout(t.m),t.m=null)}function Uc(t){MC(t.h)||t.m||(t.m=!0,mC(t.Ja,t),t.C=0)}function eU(t,e){return VC(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Na(Rt(t.Ja,t,e),JC(t,t.C)),t.C++,!0)}X.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new ba(this,this.j,t,void 0);let a=this.s;if(this.S&&(a?(a=lC(a),uC(a,this.S)):a=this.S),this.o!==null||this.N||(s.H=a,a=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=GC(this,s,e),n=ir(this.F),Be(n,"RID",t),Be(n,"CVER",22),this.D&&Be(n,"X-HTTP-Session-Id",this.D),Fa(this,n),a&&(this.N?e="headers="+encodeURIComponent(String(WC(a)))+"&"+e:this.o&&Mm(n,this.o,a)),Lm(this.h,s),this.Ya&&Be(n,"TYPE","init"),this.O?(Be(n,"$req",e),Be(n,"SID","null"),s.Z=!0,gp(s,n,null)):gp(s,n,e),this.G=2}}else this.G==3&&(t?CE(this,t):this.i.length==0||MC(this.h)||CE(this))};function CE(t,e){var n;e?n=e.m:n=t.U++;const r=ir(t.F);Be(r,"SID",t.I),Be(r,"RID",n),Be(r,"AID",t.T),Fa(t,r),t.o&&t.s&&Mm(r,t.o,t.s),n=new ba(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=GC(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Lm(t.h,n),gp(n,r,e)}function Fa(t,e){t.ia&&Im(t.ia,function(n,r){Be(e,r,n)}),t.l&&RC({},function(n,r){Be(e,r,n)})}function GC(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Rt(t.l.Ra,t.l,t):null;e:{var s=t.i;let a=-1;for(;;){const u=["count="+n];a==-1?0<n?(a=s[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let f=0;f<n;f++){let p=s[f].h;const g=s[f].g;if(p-=a,0>p)a=Math.max(0,s[f].h-100),h=!1;else try{GF(g,u,"req"+p+"_")}catch{r&&r(g)}}if(h){r=u.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function QC(t){t.g||t.u||(t.Z=1,mC(t.Ia,t),t.A=0)}function Fm(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Na(Rt(t.Ia,t),JC(t,t.A)),t.A++,!0)}X.Ia=function(){if(this.u=null,YC(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Na(Rt(this.eb,this),t)}};X.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Vt(10),Fc(this),YC(this))};function Um(t){t.B!=null&&(he.clearTimeout(t.B),t.B=null)}function YC(t){t.g=new ba(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=ir(t.sa);Be(e,"RID","rpc"),Be(e,"SID",t.I),Be(e,"CI",t.L?"0":"1"),Be(e,"AID",t.T),Be(e,"TYPE","xmlhttp"),Fa(t,e),t.o&&t.s&&Mm(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Oc(ir(e)),n.s=null,n.P=!0,_C(n,t)}X.cb=function(){this.v!=null&&(this.v=null,Fc(this),Fm(this),Vt(19))};function qu(t){t.v!=null&&(he.clearTimeout(t.v),t.v=null)}function XC(t,e){var n=null;if(t.g==e){qu(t),Um(t),t.g=null;var r=2}else if(vp(t.h,e))n=e.D,FC(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;r=Dc(),Tt(r,new SC(r,n)),Uc(t)}else QC(t);else if(s=e.o,s==3||s==0&&0<t.pa||!(r==1&&eU(t,e)||r==2&&Fm(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),s){case 1:wi(t,5);break;case 4:wi(t,10);break;case 3:wi(t,6);break;default:wi(t,2)}}}function JC(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function wi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Rt(t.kb,t);n||(n=new Ii("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||Wu(n,"https"),Oc(n)),QF(n.toString(),r)}else Vt(2);t.G=0,t.l&&t.l.va(e),ZC(t),qC(t)}X.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function ZC(t){if(t.G=0,t.la=[],t.l){const e=UC(t.h);(e.length!=0||t.i.length!=0)&&(dE(t.la,e),dE(t.la,t.i),t.h.i.length=0,Tm(t.i),t.i.length=0),t.l.ua()}}function ek(t,e,n){var r=n instanceof Ii?ir(n):new Ii(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ku(r,r.m);else{var s=he.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new Ii(null,void 0);r&&Wu(a,r),e&&(a.g=e),s&&Ku(a,s),n&&(a.l=n),r=a}return n=t.D,e=t.za,n&&e&&Be(r,n,e),Be(r,"VER",t.ma),Fa(t,r),r}function tk(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ge(new Ma({jb:!0})):new Ge(t.ra),e.Ka(t.H),e}function nk(){}X=nk.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Ra=function(){};function Gu(){if(xs&&!(10<=Number(gF)))throw Error("Environmental error: no available transport.")}Gu.prototype.g=function(t,e){return new nn(t,e)};function nn(t,e){gt.call(this),this.g=new KC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!$u(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$u(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new $s(this)}St(nn,gt);nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Vt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=ek(t,null,t.V),Uc(t)};nn.prototype.close=function(){Vm(this.g)};nn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=xm(t),t=n);e.i.push(new WF(e.ab++,t)),e.G==3&&Uc(e)};nn.prototype.M=function(){this.g.l=null,delete this.j,Vm(this.g),delete this.g,nn.X.M.call(this)};function rk(t){Dm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}St(rk,Dm);function ik(){Nm.call(this),this.status=1}St(ik,Nm);function $s(t){this.g=t}St($s,nk);$s.prototype.xa=function(){Tt(this.g,"a")};$s.prototype.wa=function(t){Tt(this.g,new rk(t))};$s.prototype.va=function(t){Tt(this.g,new ik)};$s.prototype.ua=function(){Tt(this.g,"b")};Gu.prototype.createWebChannel=Gu.prototype.g;nn.prototype.send=nn.prototype.u;nn.prototype.open=nn.prototype.m;nn.prototype.close=nn.prototype.close;Nc.NO_ERROR=0;Nc.TIMEOUT=8;Nc.HTTP_ERROR=6;IC.COMPLETE="complete";CC.EventType=La;La.OPEN="a";La.CLOSE="b";La.ERROR="c";La.MESSAGE="d";gt.prototype.listen=gt.prototype.N;Ge.prototype.listenOnce=Ge.prototype.O;Ge.prototype.getLastError=Ge.prototype.Oa;Ge.prototype.getLastErrorCode=Ge.prototype.Ea;Ge.prototype.getStatus=Ge.prototype.aa;Ge.prototype.getResponseJson=Ge.prototype.Sa;Ge.prototype.getResponseText=Ge.prototype.fa;Ge.prototype.send=Ge.prototype.da;Ge.prototype.setWithCredentials=Ge.prototype.Ka;var tU=function(){return new Gu},nU=function(){return Dc()},Dd=Nc,rU=IC,iU=Vi,kE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},sU=Ma,hu=CC,oU=Ge;const _E="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="9.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new sc("@firebase/firestore");function xE(){return Ri.logLevel}function ee(t,...e){if(Ri.logLevel<=xe.DEBUG){const n=e.map(jm);Ri.debug(`Firestore (${zs}): ${t}`,...n)}}function sr(t,...e){if(Ri.logLevel<=xe.ERROR){const n=e.map(jm);Ri.error(`Firestore (${zs}): ${t}`,...n)}}function wp(t,...e){if(Ri.logLevel<=xe.WARN){const n=e.map(jm);Ri.warn(`Firestore (${zs}): ${t}`,...n)}}function jm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+t;throw sr(e),new Error(e)}function Me(t,e){t||fe()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class lU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uU{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ur,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ur)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new sk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new At(e)}}class cU{constructor(e,n,r,s){this.h=e,this.l=n,this.m=r,this.g=s,this.type="FirstParty",this.user=At.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Me(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class hU{constructor(e,n,r,s){this.h=e,this.l=n,this.m=r,this.g=s}getToken(){return Promise.resolve(new cU(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=a=>{a.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?s(a):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.A=n.token,new fU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=pU(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function As(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new ot(0,0))}static max(){return new ge(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),u=n.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends pa{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const mU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends pa{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return mU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ae(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ae(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ae(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new ae(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(qe.fromString(e))}static fromName(e){return new ie(qe.fromString(e).popFirst(5))}static empty(){return new ie(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new qe(e.slice()))}}function gU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new $r(s,ie.empty(),e)}function yU(t){return new $r(t.readTime,t.key,-1)}class $r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $r(ge.min(),ie.empty(),-1)}static max(){return new $r(ge.max(),ie.empty(),-1)}}function vU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==wU)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&n()},f=>r(f))}),u=!0,a===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{u[p]=g,++h,h===a&&r(u)},g=>s(g))}})}static doWhile(e,n){return new U((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bm.at=-1;class ut{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??wt.RED,this.left=s??wt.EMPTY,this.right=a??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new wt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,n,r,s){return this}insert(t,e,n){return new wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new gn([])}unionWith(e){let n=new at(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Lt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const TU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Me(!!t),typeof t=="string"){let e=0;const n=TU.exec(t);if(Me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uk(t){const e=t.mapValue.fields.__previous_value__;return lk(e)?uk(e):e}function ma(t){const e=zr(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,s,a,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=f}}class ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ga&&e.projectId===this.projectId&&e.database===this.database}}function jc(t){return t==null}function Qu(t){return t===0&&1/t==-1/0}function IU(t){return typeof t=="number"&&Number.isInteger(t)&&!Qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{}};function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lk(t)?4:CU(t)?9007199254740991:10:fe()}function Un(t,e){if(t===e)return!0;const n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ma(t).isEqual(ma(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=zr(r.timestampValue),u=zr(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ps(r.bytesValue).isEqual(Ps(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return tt(r.geoPointValue.latitude)===tt(s.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return tt(r.integerValue)===tt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=tt(r.doubleValue),u=tt(s.doubleValue);return a===u?Qu(a)===Qu(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return As(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:return function(r,s){const a=r.mapValue.fields||{},u=s.mapValue.fields||{};if(AE(a)!==AE(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(u[h]===void 0||!Un(a[h],u[h])))return!1;return!0}(t,e);default:return fe()}}function ya(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function Rs(t,e){if(t===e)return 0;const n=Di(t),r=Di(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=tt(s.integerValue||s.doubleValue),h=tt(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return RE(t.timestampValue,e.timestampValue);case 4:return RE(ma(t),ma(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(s,a){const u=Ps(s),h=Ps(a);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),h=a.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=Pe(u[f],h[f]);if(p!==0)return p}return Pe(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=Pe(tt(s.latitude),tt(a.latitude));return u!==0?u:Pe(tt(s.longitude),tt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const u=s.values||[],h=a.values||[];for(let f=0;f<u.length&&f<h.length;++f){const p=Rs(u[f],h[f]);if(p)return p}return Pe(u.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===du.mapValue&&a===du.mapValue)return 0;if(s===du.mapValue)return 1;if(a===du.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),f=a.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let g=0;g<h.length&&g<p.length;++g){const y=Pe(h[g],p[g]);if(y!==0)return y;const w=Rs(u[h[g]],f[p[g]]);if(w!==0)return w}return Pe(h.length,p.length)}(t.mapValue,e.mapValue);default:throw fe()}}function RE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=zr(t),r=zr(e),s=Pe(n.seconds,r.seconds);return s!==0?s:Pe(n.nanos,r.nanos)}function Ss(t){return Ep(t)}function Ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=zr(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ps(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ie.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",a=!0;for(const u of r.values||[])a?a=!1:s+=",",s+=Ep(u);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Ep(r.fields[h])}`;return a+"}"}(t.mapValue):fe();var e,n}function Tp(t){return!!t&&"integerValue"in t}function $m(t){return!!t&&"arrayValue"in t}function DE(t){return!!t&&"nullValue"in t}function NE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eu(t){return!!t&&"mapValue"in t}function Yo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=Pt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=h.popLast()}u?r[h.lastSegment()]=Yo(u):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Eu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fi(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Wt(Yo(this.value))}}function ck(t){const e=[];return Fi(t.fields,(n,r)=>{const s=new Pt([n]);if(Eu(r)){const a=ck(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Et(e,0,ge.min(),ge.min(),Wt.empty(),0)}static newFoundDocument(e,n,r){return new Et(e,1,n,ge.min(),r,0)}static newNoDocument(e,n){return new Et(e,2,n,ge.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,ge.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.ht=null}}function LE(t,e=null,n=[],r=[],s=null,a=null,u=null){return new kU(t,e,n,r,s,a,u)}function zm(t){const e=de(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+Ss(s.value);var s}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ss(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ss(r)).join(",")),e.ht=n}return e.ht}function _U(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ss(r.value)}`;var r}).join(", ")}]`),jc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ss(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ss(n)).join(",")),`Target(${e})`}function Hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!bU(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],r=e.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!Un(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OE(t.startAt,e.startAt)&&OE(t.endAt,e.endAt)}function Sp(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class qt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new xU(e,n,r):n==="array-contains"?new RU(e,r):n==="in"?new DU(e,r):n==="not-in"?new NU(e,r):n==="array-contains-any"?new LU(e,r):new qt(e,n,r)}static lt(e,n,r){return n==="in"?new AU(e,r):new PU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Rs(n,this.value)):n!==null&&Di(this.value)===Di(n)&&this.ft(Rs(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xU extends qt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.ft(n)}}class AU extends qt{constructor(e,n){super(e,"in",n),this.keys=hk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PU extends qt{constructor(e,n){super(e,"not-in",n),this.keys=hk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class RU extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $m(n)&&ya(n.arrayValue,this.value)}}class DU extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ya(this.value.arrayValue,n)}}class NU extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ya(this.value.arrayValue,n)}}class LU extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ya(this.value.arrayValue,r))}}class Yu{constructor(e,n){this.position=e,this.inclusive=n}}class Xo{constructor(e,n="asc"){this.field=e,this.dir=n}}function bU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function bE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=ie.comparator(ie.fromName(u.referenceValue),n.key):r=Rs(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function OE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this._t=null,this.wt=null,this.startAt,this.endAt}}function OU(t,e,n,r,s,a,u,h){return new Bc(t,e,n,r,s,a,u,h)}function Wm(t){return new Bc(t)}function ME(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MU(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function VU(t){for(const e of t.filters)if(e.dt())return e.field;return null}function FU(t){return t.collectionGroup!==null}function va(t){const e=de(t);if(e._t===null){e._t=[];const n=VU(e),r=MU(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new Xo(n)),e._t.push(new Xo(Pt.keyField(),"asc"));else{let s=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Xo(Pt.keyField(),a))}}}return e._t}function or(t){const e=de(t);if(!e.wt)if(e.limitType==="F")e.wt=LE(e.path,e.collectionGroup,va(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of va(e)){const u=a.dir==="desc"?"asc":"desc";n.push(new Xo(a.field,u))}const r=e.endAt?new Yu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Yu(e.startAt.position,e.startAt.inclusive):null;e.wt=LE(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e.wt}function Ip(t,e,n){return new Bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $c(t,e){return Hm(or(t),or(e))&&t.limitType===e.limitType}function fk(t){return`${zm(or(t))}|lt:${t.limitType}`}function Cp(t){return`Query(target=${_U(or(t))}; limitType=${t.limitType})`}function Km(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ie.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,a,u){const h=bE(s,a,u);return s.inclusive?h<=0:h<0}(n.startAt,va(n),r)||n.endAt&&!function(s,a,u){const h=bE(s,a,u);return s.inclusive?h>=0:h>0}(n.endAt,va(n),r))}(t,e)}function UU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dk(t){return(e,n)=>{let r=!1;for(const s of va(t)){const a=jU(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function jU(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,a,u){const h=a.data.field(s),f=u.data.field(s);return h!==null&&f!==null?Rs(h,f):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function mk(t){return{integerValue:""+t}}function BU(t,e){return IU(e)?mk(e):pk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this._=void 0}}function $U(t,e,n){return t instanceof Xu?function(r,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Ds?yk(t,e):t instanceof Ns?vk(t,e):function(r,s){const a=gk(r,s),u=VE(a)+VE(r.yt);return Tp(a)&&Tp(r.yt)?mk(u):pk(r.It,u)}(t,e)}function zU(t,e,n){return t instanceof Ds?yk(t,e):t instanceof Ns?vk(t,e):n}function gk(t,e){return t instanceof Ju?Tp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Xu extends zc{}class Ds extends zc{constructor(e){super(),this.elements=e}}function yk(t,e){const n=wk(e);for(const r of t.elements)n.some(s=>Un(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ns extends zc{constructor(e){super(),this.elements=e}}function vk(t,e){let n=wk(e);for(const r of t.elements)n=n.filter(s=>!Un(s,r));return{arrayValue:{values:n}}}class Ju extends zc{constructor(e,n){super(),this.It=e,this.yt=n}}function VE(t){return tt(t.integerValue||t.doubleValue)}function wk(t){return $m(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.field=e,this.transform=n}}function HU(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ds&&r instanceof Ds||n instanceof Ns&&r instanceof Ns?As(n.elements,r.elements,Un):n instanceof Ju&&r instanceof Ju?Un(n.yt,r.yt):n instanceof Xu&&r instanceof Xu}(t.transform,e.transform)}class WU{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hc{}function Tk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ik(t.key,Vn.none()):new Ba(t.key,t.data,Vn.none());{const n=t.data,r=Wt.empty();let s=new at(Pt.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Gr(t.key,r,new gn(s.toArray()),Vn.none())}}function KU(t,e,n){t instanceof Ba?function(r,s,a){const u=r.value.clone(),h=UE(r.fieldTransforms,s,a.transformResults);u.setAll(h),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(r,s,a){if(!Tu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const u=UE(r.fieldTransforms,s,a.transformResults),h=s.data;h.setAll(Sk(r)),h.setAll(u),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Jo(t,e,n,r){return t instanceof Ba?function(s,a,u,h){if(!Tu(s.precondition,a))return u;const f=s.value.clone(),p=jE(s.fieldTransforms,h,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gr?function(s,a,u,h){if(!Tu(s.precondition,a))return u;const f=jE(s.fieldTransforms,h,a),p=a.data;return p.setAll(Sk(s)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,u){return Tu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function qU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=gk(r.transform,s||null);a!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,a))}return n||null}function FE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&As(n,r,(s,a)=>HU(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ba extends Hc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gr extends Hc{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Sk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UE(t,e,n){const r=new Map;Me(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,zU(u,h,n[s]))}return r}function jE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,$U(a,u,e))}return r}class Ik extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GU extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,Ie;function YU(t){switch(t){default:return fe();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function Ck(t){if(t===void 0)return sr("GRPC error has no .code"),B.UNKNOWN;switch(t){case Ze.OK:return B.OK;case Ze.CANCELLED:return B.CANCELLED;case Ze.UNKNOWN:return B.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return B.INTERNAL;case Ze.UNAVAILABLE:return B.UNAVAILABLE;case Ze.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Ze.NOT_FOUND:return B.NOT_FOUND;case Ze.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Ze.ABORTED:return B.ABORTED;case Ze.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Ze.DATA_LOSS:return B.DATA_LOSS;default:return fe()}}(Ie=Ze||(Ze={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return ak(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new ut(ie.comparator);function ar(){return XU}const kk=new ut(ie.comparator);function $o(...t){let e=kk;for(const n of t)e=e.insert(n.key,n);return e}function _k(t){let e=kk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return Zo()}function xk(){return Zo()}function Zo(){return new Hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const JU=new ut(ie.comparator),ZU=new at(ie.comparator);function Te(...t){let e=ZU;for(const n of t)e=e.add(n);return e}const ej=new at(Pe);function Ak(){return ej}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wc(ge.min(),s,Ak(),ar(),Te())}}class $a{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $a(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r,s){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=s}}class Pk{constructor(e,n){this.targetId=e,this.At=n}}class Rk{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class BE{constructor(){this.Rt=0,this.bt=zE(),this.Pt=Lt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Te(),n=Te(),r=Te();return this.bt.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new $a(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=zE()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class tj{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ar(),this.qt=$E(),this.Kt=new at(Pe)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,s)=>{this.Ht(s)&&n(s)})}Yt(e){const n=e.targetId,r=e.At.count,s=this.Xt(n);if(s){const a=s.target;if(Sp(a))if(r===0){const u=new ie(a.path);this.jt(n,u,Et.newNoDocument(u,ge.min()))}else Me(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((a,u)=>{const h=this.Xt(u);if(h){if(a.current&&Sp(h.target)){const f=new ie(h.target.path);this.Ut.get(f)!==null||this.ee(u,f)||this.jt(u,f,Et.newNoDocument(f,e))}a.Dt&&(n.set(u,a.xt()),a.Nt())}});let r=Te();this.qt.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Xt(f);return!p||p.purpose===2||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const s=new Wc(e,n,this.Kt,this.Ut,r);return this.Ut=ar(),this.qt=$E(),this.Kt=new at(Pe),s}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const s=this.zt(e);this.ee(e,n)?s.kt(n,1):s.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new BE,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new at(Pe),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new BE),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function $E(){return new ut(ie.comparator)}function zE(){return new ut(ie.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={asc:"ASCENDING",desc:"DESCENDING"},rj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ij{constructor(e,n){this.databaseId=e,this.gt=n}}function Zu(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dk(t,e){return t.gt?e.toBase64():e.toUint8Array()}function sj(t,e){return Zu(t,e.toTimestamp())}function tr(t){return Me(!!t),ge.fromTimestamp(function(e){const n=zr(e);return new ot(n.seconds,n.nanos)}(t))}function qm(t,e){return function(n){return new qe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Nk(t){const e=qe.fromString(t);return Me(Ok(e)),e}function kp(t,e){return qm(t.databaseId,e.path)}function Nd(t,e){const n=Nk(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(Lk(n))}function _p(t,e){return qm(t.databaseId,e)}function oj(t){const e=Nk(t);return e.length===4?qe.emptyPath():Lk(e)}function xp(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lk(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HE(t,e,n){return{name:kp(t,e),fields:n.value.mapValue.fields}}function aj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(f,p){return f.gt?(Me(p===void 0||typeof p=="string"),Lt.fromBase64String(p||"")):(Me(p===void 0||p instanceof Uint8Array),Lt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(f){const p=f.code===void 0?B.UNKNOWN:Ck(f.code);return new ae(p,f.message||"")}(u);n=new Rk(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Nd(t,r.document.name),a=tr(r.document.updateTime),u=new Wt({mapValue:{fields:r.document.fields}}),h=Et.newFoundDocument(s,a,u),f=r.targetIds||[],p=r.removedTargetIds||[];n=new Su(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Nd(t,r.document),a=r.readTime?tr(r.readTime):ge.min(),u=Et.newNoDocument(s,a),h=r.removedTargetIds||[];n=new Su([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Nd(t,r.document),a=r.removedTargetIds||[];n=new Su([],a,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const s=r.count||0,a=new QU(s),u=r.targetId;n=new Pk(u,a)}}return n}function lj(t,e){let n;if(e instanceof Ba)n={update:HE(t,e.key,e.value)};else if(e instanceof Ik)n={delete:kp(t,e.key)};else if(e instanceof Gr)n={update:HE(t,e.key,e.data),updateMask:vj(e.fieldMask)};else{if(!(e instanceof GU))return fe();n={verify:kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof Xu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ds)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ns)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ju)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:sj(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function uj(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(r,s){let a=r.updateTime?tr(r.updateTime):tr(s);return a.isEqual(ge.min())&&(a=tr(s)),new WU(a,r.transformResults||[])}(n,e))):[]}function cj(t,e){return{documents:[_p(t,e.path)]}}function hj(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=_p(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_p(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(f){if(f.length===0)return;const p=f.map(g=>function(y){if(y.op==="=="){if(NE(y.value))return{unaryFilter:{field:fs(y.field),op:"IS_NAN"}};if(DE(y.value))return{unaryFilter:{field:fs(y.field),op:"IS_NULL"}}}else if(y.op==="!="){if(NE(y.value))return{unaryFilter:{field:fs(y.field),op:"IS_NOT_NAN"}};if(DE(y.value))return{unaryFilter:{field:fs(y.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(y.field),op:mj(y.op),value:y.value}}}(g));return p.length===1?p[0]:{compositeFilter:{op:"AND",filters:p}}}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(p=>function(g){return{field:fs(g.field),direction:pj(g.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=function(f,p){return f.gt||jc(p)?p:{value:p}}(t,e.limit);var h;return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),n}function fj(t){let e=oj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=bk(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(g=>function(y){return new Xo(vs(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g)));let h=null;n.limit&&(h=function(g){let y;return y=typeof g=="object"?g.value:g,jc(y)?null:y}(n.limit));let f=null;n.startAt&&(f=function(g){const y=!!g.before,w=g.values||[];return new Yu(w,y)}(n.startAt));let p=null;return n.endAt&&(p=function(g){const y=!g.before,w=g.values||[];return new Yu(w,y)}(n.endAt)),OU(e,s,u,a,h,"F",f,p)}function dj(t,e){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function bk(t){return t?t.unaryFilter!==void 0?[yj(t)]:t.fieldFilter!==void 0?[gj(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>bk(e)).reduce((e,n)=>e.concat(n)):fe():[]}function pj(t){return nj[t]}function mj(t){return rj[t]}function fs(t){return{fieldPath:t.canonicalString()}}function vs(t){return Pt.fromServerFormat(t.fieldPath)}function gj(t){return qt.create(vs(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}function yj(t){switch(t.unaryFilter.op){case"IS_NAN":const e=vs(t.unaryFilter.field);return qt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=vs(t.unaryFilter.field);return qt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vs(t.unaryFilter.field);return qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vs(t.unaryFilter.field);return qt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}function vj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ok(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&KU(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xk();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(s.key)?null:h;const f=Tk(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(n,r)=>FE(n,r))&&As(this.baseMutations,e.baseMutations,(n,r)=>FE(n,r))}}class Gm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length);let s=JU;const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Gm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r,s,a=ge.min(),u=ge.min(),h=Lt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.re=e}}function Sj(t){const e=fj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.Ye=new Cj}addToCollectionParentIndex(e,n){return this.Ye.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve($r.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Cj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new at(qe.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new at(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ls(0)}static vn(){return new Ls(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.getBaseDocument(e,n,r))).next(s=>(r!==null&&Jo(r.mutation,s,gn.empty(),ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const s=Ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=$o();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,s){let a=ar();const u=Zo(),h=Zo();return n.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Gr)?a=a.insert(p.key,p):g!==void 0&&(u.set(p.key,g.mutation.getFieldMask()),Jo(g.mutation,p,g.mutation.getFieldMask(),ot.now()))}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var y;return h.set(p,new _j(g,(y=u.get(p))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Zo();let s=new ut((u,h)=>u-h),a=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||gn.empty();g=h.applyToLocalView(p,g),r.set(f,g);const y=(s.get(h.batchId)||Te()).add(f);s=s.insert(h.batchId,y)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,y=xk();g.forEach(w=>{if(!a.has(w)){const E=Tk(n.get(w),r.get(w));E!==null&&y.set(w,E),a=a.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,y))}return U.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):U.resolve(Ei());let h=-1,f=a;return u.next(p=>U.forEach(p,(g,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),a.get(g)?U.resolve():this.getBaseDocument(e,g,y).next(w=>{f=f.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Te())).next(g=>({batchId:h,changes:_k(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=$o();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let a=$o();return this.indexManager.getCollectionParents(e,s).next(u=>U.forEach(u,h=>{const f=function(p,g){return new Bc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r).next(p=>{p.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(a=>(s=a,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(a=>{a.forEach((h,f)=>{const p=f.getKey();s.get(p)===null&&(s=s.insert(p,Et.newInvalidDocument(p)))});let u=$o();return s.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Jo(p.mutation,f,gn.empty(),ot.now()),Km(n,f)&&(u=u.insert(h,f))}),u})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):U.resolve(Et.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return U.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:tr(r.createTime)}),U.resolve()}getNamedQuery(e,n){return U.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:Sj(r.bundledQuery),readTime:tr(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.overlays=new ut(ie.comparator),this.es=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return U.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.ue(e,n,a)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.es.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ei(),a=n.length+1,u=new ie(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ut((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Ei(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Ei(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return U.resolve(h)}ue(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.es.get(s.largestBatchId).delete(r.key);this.es.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ej(n,r));let a=this.es.get(n);a===void 0&&(a=Te(),this.es.set(n,a)),this.es.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.ns=new at(pt.ss),this.rs=new at(pt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new pt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new pt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ie(new qe([])),r=new pt(n,e),s=new pt(n,e+1),a=[];return this.rs.forEachInRange([r,s],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ie(new qe([])),r=new pt(n,e),s=new pt(n,e+1);let a=Te();return this.rs.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new pt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ie.comparator(e.key,n.key)||Pe(e._s,n._s)}static os(e,n){return Pe(e._s,n._s)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new at(pt.ss)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new wj(a,n,r,s);this.mutationQueue.push(u);for(const h of s)this.gs=this.gs.add(new pt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return U.resolve(u)}lookupMutationBatch(e,n){return U.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ps(r),a=s<0?0:s;return U.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),s=new pt(n,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,s],u=>{const h=this.ys(u._s);a.push(h)}),U.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(Pe);return n.forEach(s=>{const a=new pt(s,0),u=new pt(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],h=>{r=r.add(h._s)})}),U.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ie.isDocumentKey(a)||(a=a.child(""));const u=new pt(new ie(a),0);let h=new at(Pe);return this.gs.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f._s)),!0)},u),U.resolve(this.Is(h))}Is(e){const n=[];return e.forEach(r=>{const s=this.ys(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return U.forEach(n.mutations,s=>{const a=new pt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new pt(n,0),s=this.gs.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.Es=e,this.docs=new ut(ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Et.newInvalidDocument(s))}),U.resolve(r)}getAllFromCollection(e,n,r){let s=ar();const a=new ie(n.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!n.isPrefixOf(h.path))break;h.path.length>n.length+1||vU(yU(f),r)<=0||(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,s){fe()}As(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Nj(this)}getSize(e){return U.resolve(this.size)}}class Nj extends kj{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.persistence=e,this.Rs=new Hs(n=>zm(n),Hm),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Qm,this.targetCount=0,this.vs=Ls.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),U.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ls(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Dn(n),U.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),U.waitFor(a).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),U.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Bm(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Lj(this),this.indexManager=new Ij,this.remoteDocumentCache=function(r){return new Dj(r)}(r=>this.referenceDelegate.xs(r)),this.It=new Tj(n),this.Ns=new Aj(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new Rj(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new Oj(this.Ss.next());return this.referenceDelegate.ks(),r(s).next(a=>this.referenceDelegate.Os(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ms(e,n){return U.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class Oj extends EU{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Fs=new Qm,this.$s=null}static Bs(e){return new Ym(e)}get Ls(){if(this.$s)return this.$s;throw fe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),U.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(s=>this.Ls.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Ls,r=>{const s=ie.fromPath(r);return this.Us(e,s).next(a=>{a||n.removeEntry(s,ge.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return U.or([()=>U.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=s}static Ci(e,n){let r=Te(),s=Te();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Xm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.ki(e,n).next(a=>a||this.Oi(e,n,s,r)).next(a=>a||this.Mi(e,n))}ki(e,n){if(ME(n))return U.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ip(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Te(...a);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Fi(n,h);return this.$i(n,p,u,f.readTime)?this.ki(e,Ip(n,null,"F")):this.Bi(e,p,n,f)}))})))}Oi(e,n,r,s){return ME(n)||s.isEqual(ge.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(a=>{const u=this.Fi(n,a);return this.$i(n,u,r,s)?this.Mi(e,n):(xE()<=xe.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cp(n)),this.Bi(e,u,n,gU(s,-1)))})}Fi(e,n){let r=new at(dk(e));return n.forEach((s,a)=>{Km(e,a)&&(r=r.add(a))}),r}$i(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Mi(e,n){return xE()<=xe.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Cp(n)),this.Ni.getDocumentsMatchingQuery(e,n,$r.min())}Bi(e,n,r,s){return this.Ni.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,s){this.persistence=e,this.Li=n,this.It=s,this.Ui=new ut(Pe),this.qi=new Hs(a=>zm(a),Hm),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xj(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Fj(t,e,n,r){return new Vj(t,e,n,r)}async function Mk(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Te();for(const p of s){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({ji:p,removedBatchIds:u,addedBatchIds:h}))})})}function Uj(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const g=f.batch,y=g.keys();let w=U.resolve();return y.forEach(E=>{w=w.next(()=>p.getEntry(h,E)).next(S=>{const _=f.docVersions.get(E);Me(_!==null),S.version.compareTo(_)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(h,g))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Te();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Vk(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function jj(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Gi.newChangeBuffer({trackRemovals:!0});s=n.Ui;const h=[];e.targetChanges.forEach((g,y)=>{const w=s.get(y);if(!w)return;h.push(n.Cs.removeMatchingKeys(a,g.removedDocuments,y).next(()=>n.Cs.addMatchingKeys(a,g.addedDocuments,y)));let E=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.has(y)?E=E.withResumeToken(Lt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),s=s.insert(y,E),function(S,_,D){return S.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,E,g)&&h.push(n.Cs.updateTargetData(a,E))});let f=ar(),p=Te();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(Bj(a,u,e.documentUpdates).next(g=>{f=g.Wi,p=g.zi})),!r.isEqual(ge.min())){const g=n.Cs.getLastRemoteSnapshotVersion(a).next(y=>n.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return U.waitFor(h).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ui=s,a))}function Bj(t,e,n){let r=Te(),s=Te();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=ar();return n.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(ge.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ee("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Wi:u,zi:s}})}function $j(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zj(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Cs.getTargetData(r,e).next(a=>a?(s=a,U.resolve(s)):n.Cs.allocateTargetId(r).next(u=>(s=new Ci(e,u,0,r.currentSequenceNumber),n.Cs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ui.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Ap(t,e,n){const r=de(t),s=r.Ui.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ja(u))throw u;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ui=r.Ui.remove(e),r.qi.delete(s.target)}function WE(t,e,n){const r=de(t);let s=ge.min(),a=Te();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,f,p){const g=de(h),y=g.qi.get(p);return y!==void 0?U.resolve(g.Ui.get(y)):g.Cs.getTargetData(f,p)}(r,u,or(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,n?s:ge.min(),n?a:Te())).next(h=>(Hj(r,UU(e),h),{documents:h,Hi:a})))}function Hj(t,e,n){let r=t.Ki.get(e)||ge.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ki.set(e,r)}class KE{constructor(){this.activeTargetIds=Ak()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wj{constructor(){this.Lr=new KE,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new KE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,s,a){const u=this.ho(e,n);ee("RestConnection","Sending: ",u,r);const h={};return this.lo(h,s,a),this.fo(e,u,h,r).then(f=>(ee("RestConnection","Received: ",f),f),f=>{throw wp("RestConnection",`${e} failed with error: `,f,"url: ",u,"request:",r),f})}_o(e,n,r,s,a,u){return this.ao(e,n,r,s,a)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}ho(e,n){const r=qj[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,s){return new Promise((a,u)=>{const h=new oU;h.setWithCredentials(!0),h.listenOnce(rU.COMPLETE,()=>{var p;try{switch(h.getLastErrorCode()){case Dd.NO_ERROR:const g=h.getResponseJson();ee("Connection","XHR received:",JSON.stringify(g)),a(g);break;case Dd.TIMEOUT:ee("Connection",'RPC "'+e+'" timed out'),u(new ae(B.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const y=h.getStatus();if(ee("Connection",'RPC "'+e+'" failed with status:',y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=(p=w)===null||p===void 0?void 0:p.error;if(E&&E.status&&E.message){const S=function(_){const D=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(D)>=0?D:B.UNKNOWN}(E.status);u(new ae(S,E.message))}else u(new ae(B.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ae(B.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ee("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(s);h.send(n,"POST",f,r,15)})}wo(e,n,r){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tU(),u=nU(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new sU({})),this.lo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const f=s.join("");ee("Connection","Creating WebChannel: "+f,h);const p=a.createWebChannel(f,h);let g=!1,y=!1;const w=new Gj({Hr:S=>{y?ee("Connection","Not sending because WebChannel is closed:",S):(g||(ee("Connection","Opening WebChannel transport."),p.open(),g=!0),ee("Connection","WebChannel sending:",S),p.send(S))},Jr:()=>p.close()}),E=(S,_,D)=>{S.listen(_,F=>{try{D(F)}catch(V){setTimeout(()=>{throw V},0)}})};return E(p,hu.EventType.OPEN,()=>{y||ee("Connection","WebChannel transport opened.")}),E(p,hu.EventType.CLOSE,()=>{y||(y=!0,ee("Connection","WebChannel transport closed"),w.io())}),E(p,hu.EventType.ERROR,S=>{y||(y=!0,wp("Connection","WebChannel transport errored:",S),w.io(new ae(B.UNAVAILABLE,"The operation could not be completed")))}),E(p,hu.EventType.MESSAGE,S=>{var _;if(!y){const D=S.data[0];Me(!!D);const F=D,V=F.error||((_=F[0])===null||_===void 0?void 0:_.error);if(V){ee("Connection","WebChannel received error:",V);const O=V.status;let $=function(ce){const se=Ze[ce];if(se!==void 0)return Ck(se)}(O),J=V.message;$===void 0&&($=B.INTERNAL,J="Unknown error status: "+O+" with message "+V.message),y=!0,w.io(new ae($,J)),p.close()}else ee("Connection","WebChannel received:",D),w.ro(D)}}),E(u,iU.STAT_EVENT,S=>{S.stat===kE.PROXY?ee("Connection","Detected buffering proxy"):S.stat===kE.NOPROXY&&ee("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.so()},0),w}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){return new ij(t,!0)}class Fk{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=s,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r,s,a,u,h,f){this.Hs=e,this.vo=r,this.Vo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Fk(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.So===n&&this.Go(r,s)},r=>{e(()=>{const s=new ae(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(s)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{r(()=>this.Qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yj extends Uk{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.It=a}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=aj(this.It,e),r=function(s){if(!("targetChange"in s))return ge.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ge.min():a.readTime?tr(a.readTime):ge.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=xp(this.It),n.addTarget=function(s,a){let u;const h=a.target;return u=Sp(h)?{documents:cj(s,h)}:{query:hj(s,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=Dk(s,a.resumeToken):a.snapshotVersion.compareTo(ge.min())>0&&(u.readTime=Zu(s,a.snapshotVersion.toTimestamp())),u}(this.It,e);const r=dj(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=xp(this.It),n.removeTarget=e,this.Bo(n)}}class Xj extends Uk{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=uj(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.Zo(r,n)}return Me(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=xp(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lj(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.It=s,this.nu=!1}su(){if(this.nu)throw new ae(B.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ao(e,n,r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(B.UNKNOWN,s.toString())})}_o(e,n,r,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection._o(e,n,r,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(B.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class Zj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(sr(n),this.ou=!1):ee("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(u=>{r.enqueueAndForget(async()=>{Ui(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=de(h);f._u.add(4),await za(f),f.gu.set("Unknown"),f._u.delete(4),await qc(f)}(this))})}),this.gu=new Zj(r,s)}}async function qc(t){if(Ui(t))for(const e of t.wu)await e(!0)}async function za(t){for(const e of t.wu)await e(!1)}function jk(t,e){const n=de(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),eg(n)?Zm(n):Ws(n).ko()&&Jm(n,e))}function Bk(t,e){const n=de(t),r=Ws(n);n.du.delete(e),r.ko()&&$k(n,e),n.du.size===0&&(r.ko()?r.Fo():Ui(n)&&n.gu.set("Unknown"))}function Jm(t,e){t.yu.Mt(e.targetId),Ws(t).zo(e)}function $k(t,e){t.yu.Mt(e),Ws(t).Ho(e)}function Zm(t){t.yu=new tj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),Ws(t).start(),t.gu.uu()}function eg(t){return Ui(t)&&!Ws(t).No()&&t.du.size>0}function Ui(t){return de(t)._u.size===0}function zk(t){t.yu=void 0}async function tB(t){t.du.forEach((e,n)=>{Jm(t,e)})}async function nB(t,e){zk(t),eg(t)?(t.gu.hu(e),Zm(t)):t.gu.set("Unknown")}async function rB(t,e,n){if(t.gu.set("Online"),e instanceof Rk&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const u of s.targetIds)r.du.has(u)&&(await r.remoteSyncer.rejectListen(u,a),r.du.delete(u),r.yu.removeTarget(u))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ec(t,r)}else if(e instanceof Su?t.yu.Gt(e):e instanceof Pk?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(ge.min()))try{const r=await Vk(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.yu.te(a);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.du.get(f);p&&s.du.set(f,p.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const f=s.du.get(h);if(!f)return;s.du.set(h,f.withResumeToken(Lt.EMPTY_BYTE_STRING,f.snapshotVersion)),$k(s,h);const p=new Ci(f.target,h,1,f.sequenceNumber);Jm(s,p)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await ec(t,r)}}async function ec(t,e,n){if(!ja(e))throw e;t._u.add(1),await za(t),t.gu.set("Offline"),n||(n=()=>Vk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await qc(t)})}function Hk(t,e){return e().catch(n=>ec(t,n,e))}async function Gc(t){const e=de(t),n=Hr(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;iB(e);)try{const s=await $j(e.localStore,r);if(s===null){e.fu.length===0&&n.Fo();break}r=s.batchId,sB(e,s)}catch(s){await ec(e,s)}Wk(e)&&Kk(e)}function iB(t){return Ui(t)&&t.fu.length<10}function sB(t,e){t.fu.push(e);const n=Hr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Wk(t){return Ui(t)&&!Hr(t).No()&&t.fu.length>0}function Kk(t){Hr(t).start()}async function oB(t){Hr(t).eu()}async function aB(t){const e=Hr(t);for(const n of t.fu)e.Xo(n.mutations)}async function lB(t,e,n){const r=t.fu.shift(),s=Gm.from(r,e,n);await Hk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gc(t)}async function uB(t,e){e&&Hr(t).Yo&&await async function(n,r){if(s=r.code,YU(s)&&s!==B.ABORTED){const a=n.fu.shift();Hr(n).Mo(),await Hk(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Gc(n)}var s}(t,e),Wk(t)&&Kk(t)}async function GE(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Ui(n);n._u.add(3),await za(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await qc(n)}async function cB(t,e){const n=de(t);e?(n._u.delete(2),await qc(n)):e||(n._u.add(2),await za(n),n.gu.set("Unknown"))}function Ws(t){return t.pu||(t.pu=function(e,n,r){const s=de(e);return s.su(),new Yj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.It,r)}(t.datastore,t.asyncQueue,{Yr:tB.bind(null,t),Zr:nB.bind(null,t),Wo:rB.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),eg(t)?Zm(t):t.gu.set("Unknown")):(await t.pu.stop(),zk(t))})),t.pu}function Hr(t){return t.Iu||(t.Iu=function(e,n,r){const s=de(e);return s.su(),new Xj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.It,r)}(t.datastore,t.asyncQueue,{Yr:oB.bind(null,t),Zr:uB.bind(null,t),tu:aB.bind(null,t),Zo:lB.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Gc(t)):(await t.Iu.stop(),t.fu.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,h=new tg(e,n,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(t,e){if(sr("AsyncQueue",`${e}: ${t}`),ja(t))return new ae(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=$o(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Is(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Is;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.Tu=new ut(ie.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):fe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class bs{constructor(e,n,r,s,a,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new bs(e,n,Is.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.Au=void 0,this.listeners=[]}}class fB{constructor(){this.queries=new Hs(e=>fk(e),$c),this.onlineState="Unknown",this.Ru=new Set}}async function dB(t,e){const n=de(t),r=e.query;let s=!1,a=n.queries.get(r);if(a||(s=!0,a=new hB),s)try{a.Au=await n.onListen(r)}catch(u){const h=ng(u,`Initialization of query '${Cp(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,a),a.listeners.push(e),e.bu(n.onlineState),a.Au&&e.Pu(a.Au)&&rg(n)}async function pB(t,e){const n=de(t),r=e.query;let s=!1;const a=n.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),s=a.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function mB(t,e){const n=de(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const h of u.listeners)h.Pu(s)&&(r=!0);u.Au=s}}r&&rg(n)}function gB(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(n);r.queries.delete(e)}function rg(t){t.Ru.forEach(e=>{e.next()})}class yB{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.key=e}}class Gk{constructor(e){this.key=e}}class vB{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Te(),this.mutatedKeys=Te(),this.Gu=dk(e),this.Qu=new Is(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new QE,s=n?n.Qu:this.Qu;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const w=s.get(g),E=Km(this.query,y)?y:null,S=!!w&&this.mutatedKeys.has(w.key),_=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;w&&E?w.data.isEqual(E.data)?S!==_&&(r.track({type:3,doc:E}),D=!0):this.Hu(w,E)||(r.track({type:2,doc:E}),D=!0,(f&&this.Gu(E,f)>0||p&&this.Gu(E,p)<0)&&(h=!0)):!w&&E?(r.track({type:0,doc:E}),D=!0):w&&!E&&(r.track({type:1,doc:w}),D=!0,(f||p)&&(h=!0)),D&&(E?(u=u.add(E),a=_?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{Qu:u,zu:r,$i:h,mutatedKeys:a}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((p,g)=>function(y,w){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return E(y)-E(w)}(p.type,g.type)||this.Gu(p.doc,g.doc)),this.Ju(r);const u=n?this.Yu():[],h=this.Ku.size===0&&this.current?1:0,f=h!==this.qu;return this.qu=h,a.length!==0||f?{snapshot:new bs(this.query,e.Qu,s,a,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new QE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Te(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new Gk(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new qk(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=Te();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return bs.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class wB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EB{constructor(e){this.key=e,this.nc=!1}}class TB{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Hs(h=>fk(h),$c),this.rc=new Map,this.oc=new Set,this.uc=new ut(ie.comparator),this.cc=new Map,this.ac=new Qm,this.hc={},this.lc=new Map,this.fc=Ls.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function SB(t,e){const n=NB(t);let r,s;const a=n.ic.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),s=a.view.ec();else{const u=await zj(n.localStore,or(e));n.isPrimaryClient&&jk(n.remoteStore,u);const h=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,s=await IB(n,e,r,h==="current",u.resumeToken)}return s}async function IB(t,e,n,r,s){t._c=(y,w,E)=>async function(S,_,D,F){let V=_.view.Wu(D);V.$i&&(V=await WE(S.localStore,_.query,!1).then(({documents:J})=>_.view.Wu(J,V)));const O=F&&F.targetChanges.get(_.targetId),$=_.view.applyChanges(V,S.isPrimaryClient,O);return XE(S,_.targetId,$.Xu),$.snapshot}(t,y,w,E);const a=await WE(t.localStore,e,!0),u=new vB(e,a.Hi),h=u.Wu(a.documents),f=$a.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=u.applyChanges(h,t.isPrimaryClient,f);XE(t,n,p.Xu);const g=new wB(e,n,u);return t.ic.set(e,g),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),p.snapshot}async function CB(t,e){const n=de(t),r=n.ic.get(e),s=n.rc.get(r.targetId);if(s.length>1)return n.rc.set(r.targetId,s.filter(a=>!$c(a,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ap(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Bk(n.remoteStore,r.targetId),Pp(n,r.targetId)}).catch(Ua)):(Pp(n,r.targetId),await Ap(n.localStore,r.targetId,!0))}async function kB(t,e,n){const r=LB(t);try{const s=await function(a,u){const h=de(a),f=ot.now(),p=u.reduce((w,E)=>w.add(E.key),Te());let g,y;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=ar(),S=Te();return h.Gi.getEntries(w,p).next(_=>{E=_,E.forEach((D,F)=>{F.isValidDocument()||(S=S.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,E)).next(_=>{g=_;const D=[];for(const F of u){const V=qU(F,g.get(F.key).overlayedDocument);V!=null&&D.push(new Gr(F.key,V,ck(V.value.mapValue),Vn.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,D,u)}).next(_=>{y=_;const D=_.applyToLocalDocumentSet(g,S);return h.documentOverlayCache.saveOverlays(w,_.batchId,D)})}).then(()=>({batchId:y.batchId,changes:_k(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,u,h){let f=a.hc[a.currentUser.toKey()];f||(f=new ut(Pe)),f=f.insert(u,h),a.hc[a.currentUser.toKey()]=f}(r,s.batchId,n),await Ha(r,s.changes),await Gc(r.remoteStore)}catch(s){const a=ng(s,"Failed to persist write");n.reject(a)}}async function Qk(t,e){const n=de(t);try{const r=await jj(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.cc.get(a);u&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.nc=!0:s.modifiedDocuments.size>0?Me(u.nc):s.removedDocuments.size>0&&(Me(u.nc),u.nc=!1))}),await Ha(n,r,e)}catch(r){await Ua(r)}}function YE(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ic.forEach((a,u)=>{const h=u.view.bu(e);h.snapshot&&s.push(h.snapshot)}),function(a,u){const h=de(a);h.onlineState=u;let f=!1;h.queries.forEach((p,g)=>{for(const y of g.listeners)y.bu(u)&&(f=!0)}),f&&rg(h)}(r.eventManager,e),s.length&&r.sc.Wo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _B(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.cc.get(e),a=s&&s.key;if(a){let u=new ut(ie.comparator);u=u.insert(a,Et.newNoDocument(a,ge.min()));const h=Te().add(a),f=new Wc(ge.min(),new Map,new at(Pe),u,h);await Qk(r,f),r.uc=r.uc.remove(a),r.cc.delete(e),ig(r)}else await Ap(r.localStore,e,!1).then(()=>Pp(r,e,n)).catch(Ua)}async function xB(t,e){const n=de(t),r=e.batch.batchId;try{const s=await Uj(n.localStore,e);Xk(n,r,null),Yk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ha(n,s)}catch(s){await Ua(s)}}async function AB(t,e,n){const r=de(t);try{const s=await function(a,u){const h=de(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(g=>(Me(g!==null),p=g.keys(),h.mutationQueue.removeMutationBatch(f,g))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(r.localStore,e);Xk(r,e,n),Yk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ha(r,s)}catch(s){await Ua(s)}}function Yk(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Xk(t,e,n){const r=de(t);let s=r.hc[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.hc[r.currentUser.toKey()]=s}}function Pp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||Jk(t,r)})}function Jk(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(Bk(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),ig(t))}function XE(t,e,n){for(const r of n)r instanceof qk?(t.ac.addReference(r.key,e),PB(t,r)):r instanceof Gk?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||Jk(t,r.key)):fe()}function PB(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.oc.add(r),ig(t))}function ig(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new ie(qe.fromString(e)),r=t.fc.next();t.cc.set(r,new EB(n)),t.uc=t.uc.insert(n,r),jk(t.remoteStore,new Ci(or(Wm(n.path)),r,2,Bm.at))}}async function Ha(t,e,n){const r=de(t),s=[],a=[],u=[];r.ic.isEmpty()||(r.ic.forEach((h,f)=>{u.push(r._c(f,e,n).then(p=>{if((p||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,p!=null&&p.fromCache?"not-current":"current"),p){s.push(p);const g=Xm.Ci(f.targetId,p);a.push(g)}}))}),await Promise.all(u),r.sc.Wo(s),await async function(h,f){const p=de(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>U.forEach(f,y=>U.forEach(y.Si,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>U.forEach(y.Di,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!ja(g))throw g;ee("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const w=p.Ui.get(y),E=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(E);p.Ui=p.Ui.insert(y,S)}}}(r.localStore,a))}async function RB(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await Mk(n.localStore,e);n.currentUser=e,function(s,a){s.lc.forEach(u=>{u.forEach(h=>{h.reject(new ae(B.CANCELLED,a))})}),s.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ha(n,r.ji)}}function DB(t,e){const n=de(t),r=n.cc.get(e);if(r&&r.nc)return Te().add(r.key);{let s=Te();const a=n.rc.get(e);if(!a)return s;for(const u of a){const h=n.ic.get(u);s=s.unionWith(h.view.ju)}return s}}function NB(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_B.bind(null,e),e.sc.Wo=mB.bind(null,e.eventManager),e.sc.wc=gB.bind(null,e.eventManager),e}function LB(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AB.bind(null,e),e}class bB{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Kc(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return Fj(this.persistence,new Mj,e.initialUser,this.It)}yc(e){return new bj(Ym.Bs,this.It)}gc(e){return new Wj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RB.bind(null,this.syncEngine),await cB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fB}createDatastore(e){const n=Kc(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new Qj(s));var s;return function(a,u,h,f){return new Jj(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,a=h=>YE(this.syncEngine,h,0),u=qE.C()?new qE:new Kj,new eB(n,r,s,a,u);var n,r,s,a,u}createSyncEngine(e,n){return function(r,s,a,u,h,f,p){const g=new TB(r,s,a,u,h,f);return p&&(g.dc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=de(e);ee("RemoteStore","RemoteStore shutting down."),n._u.add(5),await za(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t,e,n){if(!n)throw new ae(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VB(t,e,n,r){if(e===!0&&r===!0)throw new ae(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JE(t){if(!ie.isDocumentKey(t))throw new ae(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(t);throw new ae(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;class eT{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,VB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new aU;switch(n.type){case"gapi":const r=n.client;return new hU(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ae(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=ZE.get(e);n&&(ee("ComponentProvider","Removing Datastore"),ZE.delete(e),n.terminate())}(this),Promise.resolve()}}function FB(t,e,n,r={}){var s;const a=(t=Ni(t,og))._getSettings();if(a.host!=="firestore.googleapis.com"&&a.host!==e&&wp("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=At.MOCK_USER;else{u=xA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ae(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new At(f)}t._authCredentials=new lU(new sk(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class ag{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ag(this.firestore,e,this._query)}}class wa extends ag{constructor(e,n,r){super(e,n,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ie(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function E$(t,e,...n){if(t=lt(t),arguments.length===1&&(e=ok.R()),MB("doc","path",e),t instanceof og){const r=qe.fromString(e,...n);return JE(r),new en(t,null,new ie(r))}{if(!(t instanceof en||t instanceof wa))throw new ae(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return JE(r),new en(t.firestore,t instanceof wa?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=ok.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{ee("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ee("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function BB(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Mk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function $B(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zB(t);ee("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>GE(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>GE(e.remoteStore,a)),t.onlineComponents=e}async function zB(t){return t.offlineComponents||(ee("FirestoreClient","Using default OfflineComponentProvider"),await BB(t,new bB)),t.offlineComponents}async function Zk(t){return t.onlineComponents||(ee("FirestoreClient","Using default OnlineComponentProvider"),await $B(t,new OB)),t.onlineComponents}function HB(t){return Zk(t).then(e=>e.syncEngine)}async function WB(t){const e=await Zk(t),n=e.eventManager;return n.onListen=SB.bind(null,e.syncEngine),n.onUnlisten=CB.bind(null,e.syncEngine),n}function KB(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,h,f){const p=new UB({next:y=>{a.enqueueAndForget(()=>pB(s,g));const w=y.docs.has(u);!w&&y.fromCache?f.reject(new ae(B.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&h&&h.source==="server"?f.reject(new ae(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new yB(Wm(u.path),p,{includeMetadataChanges:!0,Nu:!0});return dB(s,g)}(await WB(t),t.asyncQueue,e,n,r)),r.promise}class qB{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Fk(this,"async_queue_retry"),this.Wc=()=>{const n=Ld();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Ld();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=Ld();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new Ur;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!ja(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const s=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw sr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const s=tg.createAndSchedule(this,e,n,r,a=>this.Yc(a));return this.qc.push(s),s}zc(){this.Kc&&fe()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}class Qc extends og{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new qB,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||t_(this),this._firestoreClient.terminate()}}function GB(t,e){const n=typeof t=="object"?t:Mp(),r=typeof t=="string"?t:"(default)",s=bi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=CA("firestore");a&&FB(s,...a)}return s}function e_(t){return t._firestoreClient||t_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function t_(t){var e;const n=t._freezeSettings(),r=function(s,a,u,h){return new SU(s,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new jB(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Os(Lt.fromBase64String(e))}catch(n){throw new ae(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Os(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=/^__.*__$/;class YB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ba(e,this.data,n,this.fieldTransforms)}}class n_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Xc{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=s,a===void 0&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Xc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ia({path:r,oa:!1});return s.ua(e),s}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ia({path:r,oa:!1});return s.na(),s}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return tc(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(r_(this.sa)&&QB.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class XB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Kc(e)}da(e,n,r,s=!1){return new Xc({sa:e,methodName:n,fa:r,path:Pt.emptyPath(),oa:!1,la:s},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function i_(t){const e=t._freezeSettings(),n=Kc(t._databaseId);return new XB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JB(t,e,n,r,s,a={}){const u=t.da(a.merge||a.mergeFields?2:0,e,n,s);ug("Data must be an object, but it was:",u,r);const h=o_(r,u);let f,p;if(a.merge)f=new gn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const w=Rp(e,y,n);if(!u.contains(w))throw new ae(B.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);l_(g,w)||g.push(w)}f=new gn(g),p=u.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,p=u.fieldTransforms;return new YB(new Wt(h),f,p)}class Jc extends Wa{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jc}}function s_(t,e,n){return new Xc({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class ZB extends Wa{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=s_(this,e,!0),r=this._a.map(a=>Ks(a,n)),s=new Ds(r);return new Ek(e.path,s)}isEqual(e){return this===e}}class e$ extends Wa{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=s_(this,e,!0),r=this._a.map(a=>Ks(a,n)),s=new Ns(r);return new Ek(e.path,s)}isEqual(e){return this===e}}function t$(t,e,n,r){const s=t.da(1,e,n);ug("Data must be an object, but it was:",s,r);const a=[],u=Wt.empty();Fi(r,(f,p)=>{const g=cg(e,f,n);p=lt(p);const y=s.ca(g);if(p instanceof Jc)a.push(g);else{const w=Ks(p,y);w!=null&&(a.push(g),u.set(g,w))}});const h=new gn(a);return new n_(u,h,s.fieldTransforms)}function n$(t,e,n,r,s,a){const u=t.da(1,e,n),h=[Rp(e,r,n)],f=[s];if(a.length%2!=0)throw new ae(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)h.push(Rp(e,a[w])),f.push(a[w+1]);const p=[],g=Wt.empty();for(let w=h.length-1;w>=0;--w)if(!l_(p,h[w])){const E=h[w];let S=f[w];S=lt(S);const _=u.ca(E);if(S instanceof Jc)p.push(E);else{const D=Ks(S,_);D!=null&&(p.push(E),g.set(E,D))}}const y=new gn(p);return new n_(g,y,u.fieldTransforms)}function Ks(t,e){if(a_(t=lt(t)))return ug("Unsupported field value:",e,t),o_(t,e);if(t instanceof Wa)return function(n,r){if(!r_(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const s=[];let a=0;for(const u of n){let h=Ks(u,r.aa(a));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BU(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=ot.fromDate(n);return{timestampValue:Zu(r.It,s)}}if(n instanceof ot){const s=new ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zu(r.It,s)}}if(n instanceof lg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Os)return{bytesValue:Dk(r.It,n._byteString)};if(n instanceof en){const s=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${sg(n)}`)}(t,e)}function o_(t,e){const n={};return ak(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(r,s)=>{const a=Ks(s,e.ra(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function a_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof lg||t instanceof Os||t instanceof en||t instanceof Wa)}function ug(t,e,n){if(!a_(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=sg(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Rp(t,e,n){if((e=lt(e))instanceof Yc)return e._internalPath;if(typeof e=="string")return cg(t,e);throw tc("Field path arguments must be of type string or ",t,!1,void 0,n)}const r$=new RegExp("[~\\*/\\[\\]]");function cg(t,e,n){if(e.search(r$)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yc(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tc(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ae(B.INVALID_ARGUMENT,h+t+f)}function l_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(c_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i$ extends u_{data(){return super.data()}}function c_(t,e){return typeof e=="string"?cg(t,e):e instanceof Yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${convertValue(e,n="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){const r={};return Fi(e.fields,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new lg(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uk(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const n=zr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Me(Ok(r));const s=new ga(r.get(1),r.get(3)),a=new ie(r.popFirst(5));return s.isEqual(n)||sr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h_ extends u_{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new l$(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(c_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class l$ extends h_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){t=Ni(t,en);const e=Ni(t.firestore,Qc);return KB(e_(e),t._key).then(n=>c$(e,t,n))}class u$ extends s${constructor(e){super(),this.firestore=e}convertBytes(e){return new Os(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function S$(t,e,n){t=Ni(t,en);const r=Ni(t.firestore,Qc),s=o$(t.converter,e,n);return f_(r,[JB(i_(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Vn.none())])}function I$(t,e,n,...r){t=Ni(t,en);const s=Ni(t.firestore,Qc),a=i_(s);let u;return u=typeof(e=lt(e))=="string"||e instanceof Yc?n$(a,"updateDoc",t._key,e,n,r):t$(a,"updateDoc",t._key,e),f_(s,[u.toMutation(t._key,Vn.exists(!0))])}function f_(t,e){return function(n,r){const s=new Ur;return n.asyncQueue.enqueueAndForget(async()=>kB(await HB(n),r,s)),s.promise}(e_(t),e)}function c$(t,e,n){const r=n.docs.get(e._key),s=new u$(t);return new h_(t,s,e._key,r,new a$(n.hasPendingWrites,n.fromCache),e.converter)}function C$(...t){return new ZB("arrayUnion",t)}function k$(...t){return new e$("arrayRemove",t)}(function(t,e=!0){(function(n){zs=n})(Sa),Fn(new _n("firestore",(n,{instanceIdentifier:r,options:s})=>{const a=n.getProvider("app").getImmediate(),u=new Qc(new uU(n.getProvider("auth-internal")),new dU(n.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ga(h.options.projectId,f)}(a,r),a);return s=Object.assign({useFetchStreams:e},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),pn(_E,"3.7.3",t),pn(_E,"3.7.3","esm2017")})();const h$={apiKey:"AIzaSyBx2aAzWoLxZbIAtJuVr-I1f2oiWwCVZJU",authDomain:"amantiwari-movie.firebaseapp.com",projectId:"amantiwari-movie",storageBucket:"amantiwari-movie.firebasestorage.app",messagingSenderId:"960228805957",appId:"1:960228805957:web:fded66981d11afb5f5022c",measurementId:"G-7NMHK4BLKF"},d_=ST(h$),_$=GB(d_);nF(d_);const f$=x.createContext(null);function d$({children:t}){const[e,n]=x.useState(!1);return z.jsx(f$.Provider,{value:{showModal:e,setShowModal:n},children:t})}wx.createRoot(document.getElementById("root")).render(z.jsx(Kt.StrictMode,{children:z.jsx(hA,{children:z.jsx(dA,{children:z.jsx(d$,{children:z.jsx(jM,{})})})})}));export{Lp as A,C$ as B,YD as C,Dr as G,ci as L,AM as N,f$ as P,Kt as R,T$ as a,NR as b,y$ as c,_$ as d,g$ as e,v$ as f,tS as g,S$ as h,m$ as i,z as j,p$ as k,ic as l,xM as m,gN as n,DR as o,Ue as p,QN as q,x as r,E$ as s,Qp as t,uT as u,yS as v,Dp as w,tT as x,I$ as y,k$ as z};
