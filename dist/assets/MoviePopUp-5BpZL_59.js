import{g as O,b as K,d as $,c as G,u as N}from"./useUpdateLikedMovies-BFHhSs4T.js";import{r as e,n as j,p as S,q as B,t as T,v as V,P as W,j as m,m as I}from"./index-C2ZIC7G7.js";function z(){const n=e.useRef(!1);return j(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function q(){const n=z(),[s,t]=e.useState(0),r=e.useCallback(()=>{n.current&&t(s+1)},[s]);return[e.useCallback(()=>S.postRender(r),[r]),s]}class A extends e.Component{getSnapshotBeforeUpdate(s){const t=this.props.childRef.current;if(t&&s.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function D({children:n,isPresent:s}){const t=e.useId(),r=e.useRef(null),c=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:p,height:l,top:d,left:x}=c.current;if(s||!r.current||!p||!l)return;r.current.dataset.motionPopId=t;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${l}px !important;
            top: ${d}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[s]),e.createElement(A,{isPresent:s,childRef:r,sizeRef:c},e.cloneElement(n,{ref:r}))}const b=({children:n,initial:s,isPresent:t,onExitComplete:r,custom:c,presenceAffectsLayout:p,mode:l})=>{const d=B(H),x=e.useId(),f=e.useMemo(()=>({id:x,initial:s,isPresent:t,custom:c,onExitComplete:o=>{d.set(o,!0);for(const a of d.values())if(!a)return;r&&r()},register:o=>(d.set(o,!1),()=>d.delete(o))}),p?void 0:[t]);return e.useMemo(()=>{d.forEach((o,a)=>d.set(a,!1))},[t]),e.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),l==="popLayout"&&(n=e.createElement(D,{isPresent:t},n)),e.createElement(T.Provider,{value:f},n)};function H(){return new Map}function _(n){return e.useEffect(()=>()=>n(),[])}const h=n=>n.key||"";function J(n,s){n.forEach(t=>{const r=h(t);s.set(r,t)})}function Q(n){const s=[];return e.Children.forEach(n,t=>{e.isValidElement(t)&&s.push(t)}),s}const X=({children:n,custom:s,initial:t=!0,onExitComplete:r,exitBeforeEnter:c,presenceAffectsLayout:p=!0,mode:l="sync"})=>{const d=e.useContext(V).forceRender||q()[0],x=z(),f=Q(n);let o=f;const a=e.useRef(new Map).current,v=e.useRef(o),g=e.useRef(new Map).current,E=e.useRef(!0);if(j(()=>{E.current=!1,J(f,g),v.current=o}),_(()=>{E.current=!0,g.clear(),a.clear()}),E.current)return e.createElement(e.Fragment,null,o.map(i=>e.createElement(b,{key:h(i),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:p,mode:l},i)));o=[...o];const R=v.current.map(h),M=f.map(h),U=R.length;for(let i=0;i<U;i++){const u=R[i];M.indexOf(u)===-1&&!a.has(u)&&a.set(u,void 0)}return l==="wait"&&a.size&&(o=[]),a.forEach((i,u)=>{if(M.indexOf(u)!==-1)return;const w=g.get(u);if(!w)return;const F=R.indexOf(u);let y=i;if(!y){const L=()=>{a.delete(u);const P=Array.from(g.keys()).filter(C=>!M.includes(C));if(P.forEach(C=>g.delete(C)),v.current=f.filter(C=>{const k=h(C);return k===u||P.includes(k)}),!a.size){if(x.current===!1)return;d(),r&&r()}};y=e.createElement(b,{key:h(w),isPresent:!1,onExitComplete:L,custom:s,presenceAffectsLayout:p,mode:l},w),a.set(u,y)}o.splice(F,0,y)}),o=o.map(i=>{const u=i.key;return a.has(u)?i:e.createElement(b,{key:h(i),isPresent:!0,presenceAffectsLayout:p,mode:l},i)}),e.createElement(e.Fragment,null,a.size?o:o.map(i=>e.cloneElement(i)))},ee=()=>({convertGenere:s=>{const t=[];return s.slice(0,3).map(r=>O.filter(c=>c.id===r).map(c=>t.push(c.name))),t}});function te(n){const{showModal:s,setShowModal:t}=e.useContext(W),{PopupMessage:r}=K();$(),G(),N();const[c,p]=e.useState({});e.useEffect(()=>{p(n.data1)},[n.data1]);const l={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.8}};return m.jsxs(m.Fragment,{children:[r,m.jsxs(X,{children:[" ",s&&m.jsx(I.div,{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none backdrop-blur-[10px] bg-[#00000080]",variants:l,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3,ease:"easeInOut"},children:m.jsx(I.div,{className:"relative w-auto mt-24 sm:my-6 mx-4 max-w-3xl",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:m.jsx("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-neutral-800 outline-none focus:outline-none",children:m.jsx("button",{className:"group p-1 ml-2 mt-2 bg-transparent border-2 border-white hover:bg-white hover:text-black fixed right-4 rounded-full cursor-pointer float-right font-semibold outline-none focus:outline-none ease-linear transition-all duration-150",onClick:()=>t(!1)})})})})]})]})}export{X as A,te as M,ee as u};
